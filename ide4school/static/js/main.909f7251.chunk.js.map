{"version":3,"sources":["sentry.js","settings.js","Icons.js","components/Header/Autosave.js","components/Button/Button.js","utils/apiCallHandler.js","components/Editor/EditorSlice.js","components/Menus/Dropdown/Dropdown.js","components/Editor/FontSizeSelector/FontSizeSelector.js","components/ThemeToggle/ThemeToggle.js","components/Menus/SettingsMenu/SettingsMenu.js","components/Header/ProjectName.js","assets/editor_logo.svg","components/Header/DownloadButton.js","utils/projectHelpers.js","components/Header/Header.js","i18n.js","utils/defaultProjects.js","components/Editor/Hooks/useProject.js","components/Editor/Hooks/useEmbeddedMode.js","components/Editor/editorLightTheme.js","components/Editor/editorDarkTheme.js","components/Editor/EditorPanel/EditorPanel.js","components/ExternalFiles/ExternalFiles.js","components/Editor/ErrorMessage/ErrorMessage.js","utils/userManager.js","app/store.js","components/AstroPiModel/Lighting.js","utils/Geometry.js","utils/Orientation.js","components/AstroPiModel/FlightCase.js","components/AstroPiModel/Simulator.js","components/AstroPiModel/AstroPiControls/Input.js","components/AstroPiModel/AstroPiControls/MotionInput.js","components/AstroPiModel/AstroPiControls/SliderInput.js","components/AstroPiModel/AstroPiControls/Stopwatch.js","components/AstroPiModel/AstroPiControls/AstroPiControls.js","components/AstroPiModel/OrientationPanel/OrientationReading.js","components/AstroPiModel/OrientationPanel/OrientationResetButton.js","components/AstroPiModel/OrientationPanel/OrientationPanel.js","components/AstroPiModel/DefaultMZCriteria.js","components/AstroPiModel/AstroPiModel.js","components/Editor/Runners/PythonRunner/VisualOutputPane.js","components/Editor/Runners/PythonRunner/OutputViewToggle.js","components/Editor/Runners/PythonRunner/PythonRunner.js","components/Editor/Runners/HtmlRunner/HtmlRunner.js","components/Editor/Runners/RunnerFactory.js","components/Editor/Output/Output.js","utils/componentNameValidation.js","components/Editor/ErrorMessage/NameErrorMessage.js","components/Modals/RenameFile.js","components/RunButton/RunButton.js","components/RunButton/StopButton.js","components/RunButton/RunnerControls.js","components/Modals/NotFoundModal.js","components/Login/LoginButton.js","components/Modals/AccessDeniedNoAuthModal.js","components/Modals/AccessDeniedWithAuthModal.js","components/Modals/NewFileModal.js","utils/ResizableWithHandle.js","components/Editor/Project/Project.js","components/Editor/ProjectComponentLoader/ProjectComponentLoader.js","components/EmbeddedViewer/EmbeddedViewer.js","components/Callback.js","components/SilentRenew.js","components/LocaleLayout/LocaleLayout.js","components/AppRoutes.js","components/Footer/Footer.js","utils/ToastCloseButton.js","App.js","utils/apolloCache.js","index.js"],"names":["Sentry","dsn","process","integrations","BrowserTracing","routingInstrumentation","React","useEffect","useLocation","useNavigationType","createRoutesFromChildren","matchRoutes","tracePropagationTargets","environment","beforeBreadcrumb","excludeGraphQLFetch","tracesSampleRate","SettingsContext","createContext","theme","window","matchMedia","matches","fontSize","CloseIcon","props","scale","scaleFactor","_jsx","transform","concat","width","height","viewBox","fill","xmlns","children","d","CloudTickIcon","_jsxs","fillRule","clipRule","CloudUploadIcon","DownloadIcon","FontIcon","size","HomeIcon","HumidityIcon","MoonIcon","PressureIcon","ResetIcon","RunIcon","SettingsIcon","SplitViewIcon","StopIcon","SunIcon","TabbedViewIcon","TemperatureIcon","Autosave","t","useTranslation","lastSavedTime","useSelector","state","editor","saving","_useState","useState","Date","now","_useState2","_slicedToArray","time","setTime","isPending","statusTick","setInterval","clearInterval","className","_Fragment","intlFormatDistance","style","Button","onClickHandler","ButtonIcon","buttonImage","buttonImageAltText","buttonText","buttonOuter","buttonOuterClassName","disabled","confirmText","title","label","_props$buttonIconPosi","buttonIconPosition","buttonClass","onButtonClick","e","confirmAlert","message","buttons","onClick","button","src","alt","host","get","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","headers","wrap","_context","prev","next","axios","abrupt","sent","stop","_x","_x2","apply","arguments","post","_ref2","_callee2","body","_context2","_x3","_x4","_x5","put","_ref3","_callee3","_context3","_x6","_x7","_x8","accessToken","createOrUpdateProject","_ref4","_callee4","projectWithUserId","project","_context4","omit","identifier","_x9","_x10","deleteProject","_ref5","_callee5","_context5","delete","_x11","_x12","createRemix","_ref7","_callee7","_context7","_x14","_x15","readProject","_ref8","_callee8","projectIdentifier","locale","queryString","_context8","_x16","_x17","_x18","readProjectList","_ref9","_callee9","page","_context9","_objectSpread","params","_x19","_x20","syncProject","actionName","createAsyncThunk","autosave","rejectWithValue","response","t0","error","data","condition","_","_getState","getState","auth","saveStatus","loadStatus","loading","isLoadingUser","EditorSlice","_ref6","projects","links","parseLinkHeader","link","createSlice","name","initialState","justLoaded","hasShownSavePrompt","loadError","saveError","currentLoadingRequestId","undefined","openFiles","focussedFileIndex","nameError","codeRunTriggered","drawTriggered","isEmbedded","isSplitView","codeRunStopped","projectList","projectListLoaded","projectIndexCurrentPage","projectIndexTotalPages","lastSaveAutosave","senseHatAlwaysEnabled","senseHatEnabled","accessDeniedNoAuthModalShowing","accessDeniedWithAuthModalShowing","betaModalShowing","loginToSaveModalShowing","notFoundModalShowing","newFileModalShowing","renameFileModalShowing","renameProjectModalShowing","deleteProjectModalShowing","modals","reducers","closeFile","action","closedFileIndex","indexOf","payload","filter","fileName","length","openFile","includes","push","setFocussedFileIndex","updateImages","image_list","addProjectComponent","components","extension","setEmbedded","_action","setIsSplitView","setNameError","setHasShownSavePrompt","setProject","project_type","expireJustLoaded","setSenseHatAlwaysEnabled","setSenseHatEnabled","triggerDraw","updateProjectComponent","code","mapped","map","item","content","updateProjectName","updateComponentName","key","oldName","setError","triggerCodeRun","stopCodeRun","stopDraw","codeRunHandled","closeAccessDeniedNoAuthModal","closeAccessDeniedWithAuthModal","showBetaModal","closeBetaModal","showLoginToSaveModal","closeLoginToSaveModal","closeNotFoundModal","showNewFileModal","closeNewFileModal","showRenameFileModal","renameFile","closeRenameFileModal","showRenameProjectModal","renameProject","closeRenameProjectModal","showDeleteProjectModal","closeDeleteProjectModal","setProjectIndexPage","extraReducers","builder","addCase","localStorage","removeItem","meta","requestId","splitErrorMessage","split","errorCode","arg","accessDenied","projectType","last","parseInt","_EditorSlice$actions","actions","Dropdown","MenuContent","isOpen","setOpen","dropdown","useRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","ref","onKeyDown","COOKIE_PATHS","FontSizeSelector","_useCookies","useCookies","_useCookies2","cookies","setCookie","removeCookie","setFontSize","forEach","path","ThemeToggle","isDarkMode","setTheme","SettingsMenu","ProjectName","dispatch","useDispatch","nameInput","isEditable","setEditable","focus","type","onBlur","value","preventDefault","blur","defaultValue","DownloadButton","Icon","onClickDownload","zip","JSZip","file","image","filename","Promise","resolve","reject","JSZipUtils","getBinaryContent","err","binary","generateAsync","FileSaver","saveAs","toSnakeCase","isOwner","user","profile","user_id","Header","_useTranslation","i18n","language","onClickSave","xhr","formData","plausible","console","log","XMLHttpRequest","FormData","append","open","onreadystatechange","readyState","DONE","status","location","href","send","editor_logo","Link","to","reloadDocument","use","LanguageDetector","initReactI18next","init","debug","fallbackLng","locales","supportedLngs","load","interpolation","escapeValue","resources","en","translation","betaBanner","buttonLabel","buttonTitle","modal","close","heading","meaningHeading","meaningText","whatNextHeading","whatNextText","modalLink","editorPanel","ariaLabel","filePane","errors","containsSpaces","generalError","notUnique","or","unsupportedExtension","files","images","newFileButton","newFileModal","cancel","inputLabel","save","renameFileModal","fileMenu","renameItem","footer","accessibility","charityNameAndNumber","privacy","safeguarding","globalNav","accountMenu","login","logout","accountMenuDefaultAltText","accountMenuProfileAltText","raspberryPiLogoAltText","header","autoSaving","autoSaved","download","downloadFileNameDefault","editorLogoAltText","newProject","settings","settingsMenu","textSize","textSizeOptions","large","medium","small","themeOptions","dark","light","input","comment","py5","loginToSaveModal","downloadButtonText","downloadText","loginButtonText","loginText","notifications","loginPrompt","projectRemixed","projectRenamed","projectSaved","savePrompt","output","interrupted","senseHat","controls","colour","humidity","motion","motionSensorOptions","no","yes","pressure","temperature","timer","model","pitch","roll","yaw","textOutput","visualOutput","outputViewToggle","buttonTabLabel","buttonTabTitle","buttonSplitLabel","buttonSplitTitle","accessDeniedNoAuthModal","projectsSiteLinkText","text","accessDeniedWithAuthModal","notFoundModal","untitled","projectHeader","subTitle","deleteLabel","deleteProjectModal","empty","loadingFailed","pagination","first","previous","more","rename","renameLabel","renameProjectModal","updated","runButton","run","stopping","sideMenu","collapse","expand","defaultPythonProject","default","useProject","getCachedProject","id","JSON","parse","getItem","cachedProject","setCachedProject","useEmbeddedMode","embed","editorLightTheme","EditorView","editorDarkTheme","borderLeftColor","color","EditorPanel","timeout","_ref$extension","_ref$fileName","useContext","updateStoredProject","contentAttributes","of","onUpdate","updateListener","viewUpdate","docChanged","clearTimeout","setTimeout","doc","toString","editorTheme","mode","html","css","python","getMode","startState","EditorState","create","extensions","basicSetup","keymap","defaultKeymap","indentWithTab","indentationMarkers","indentUnit","view","lineWrapping","parent","scrollDOM","setAttribute","_step","hiddenImages","contentDOM","getElementsByClassName","_iterator","_createForOfIteratorHelper","s","n","done","f","destroy","ExternalFiles","hidden","i","ErrorMessage","protocol","hostname","port","userManagerConfig","client_id","redirect_uri","response_type","scope","authority","silent_redirect_uri","automaticSilentRenew","filterProtocolClaims","loadUserInfo","monitorSession","userStore","WebStorageStateStore","store","extraQueryParams","brand","login_options","userManager","createUserManager","events","addAccessTokenExpired","signinSilent","configureStore","reducer","EditorReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","ignoredPaths","loadUser","Lighting","intensity","angle","penumbra","position","castShadow","Geometry","_Eps","getTimestamp","Vector","x","y","z","this","prototype","Math","sqrt","normalize","transpose3x3Matrix","a","dot3x3and3x1","b","rs","multiplyArrayWithScalar","divideArrayWithScalar","Defaults","O","X","Y","Z","NORTH","GRAVITY","clamp","min_value","max_value","min","max","degToRad","deg","Array","PI","radToDeg","rad","rotatemodel","mod","rotation","FlightCase","scene","useGLTF","leds","THREE","setPixel","ledIndex","r","g","ledMaterial","floor","object","getObjectByName","material","Sk","sense_hat_emit","ledData","sense_hat","pixels","indexes","pix","from","keys","setPixels","invalidate","isDragging","targetRotationX","targetRotationY","mouseX","mouseXOnMouseDown","mouseY","mouseYOnMouseDown","windowHalfX","innerWidth","windowHalfY","innerHeight","rotationScaleFactor","Simulator","updateOrientation","handleDragStop","Canvas","frameloop","onPointerDown","clientX","clientY","onPointerUp","onPointerOut","onPointerMove","rotateOnWorldAxis","resize","polyfill","ResizeObserver","Suspense","fallback","PerspectiveCamera","makeDefault","fov","near","far","OrbitControls","enableRotate","enablePan","enableZoom","enabled","Input","setValue","htmlFor","onChange","MotionInput","start_motion_callback","stop_motion_callback","Toggle","icons","checked","SliderInput","unit","rtimu","random","step","parseFloat","Stopwatch","_useStopwatch","useStopwatch","autoStart","seconds","minutes","isRunning","pause","reset","hasLostFocus","setHasLostFocus","mz_criteria","duration","String","padStart","AstroPiControls","OrientationReading","round","OrientationResetButton","resetOrientation","OrientationPanel","orientation","defaultMZCriteria","noInputEvents","readColour","readHumidity","readPressure","readTemperature","usedLEDs","AstroPiModel","setOrientation","gamma","low_light","gyro","accel","compass","raw_orientation","sensestick","_eventQueue","off","once","oldTimestamp","timestamp","newTimestamp","timeDelta","oldOrientation","raw_old_orientation","newOrientation","_gyro","c1","cos","c2","c3","s1","sin","s2","s3","R","T","_accel","_compass","fusionPose","updateRTIMU","VisualOutputPane","projectImages","outputCanvas","pygalOutput","p5Output","innerHTML","sketch","assets","p5","pygal","TurtleGraphics","Object","assign","_toConsumableArray","_defineProperty","OutputViewToggle","externalLibraries","dependencies","PythonRunner","projectCode","queryParams","URLSearchParams","search","hasVisualOutput","setHasVisualOutput","getInput","pageInput","getElementById","webComponentInput","querySelector","shadowRoot","runCode","removeAttribute","visualLibraries","outf","node","div","createElement","classList","add","Option","appendChild","scrollTop","scrollHeight","builtinRead","builtinFiles","externalLibraryInfo","misceval","promiseToSuspension","fetch","then","builtin","ImportError","mapUrlToPromise","_reject","scriptElement","async","onload","loadDepsSynchronously","reduce","p","all","catch","Error","inf","span","inputSpan","removeInput","answer","innerText","storeInput","handleError","errorMessage","errorDetails","tp$str","v","replace","errorType","tp$name","constructor","lineNumber","traceback","lineno","prog","match","configure","inputfun","read","debugging","inputTakesPrompt","uncaughtException","asyncToPromise","importMainWithBody","finally","_mod","shiftFocusToInput","getSelection","inputBox","selection","removeAllRanges","range","createRange","setStart","addRange","Tabs","forceRenderTabPanel","TabList","Tab","TabPanel","defaultIndex","HtmlRunner","getBlobURL","blob","Blob","URL","createObjectURL","indexPage","cssFiles","component","cssFile","cssFileBlob","RunnerFactory","Selected","Output","allowedExtensions","allowedExtensionsString","extensionsList","slice","join","validateFileName","componentNames","callback","currentFileName","isValidFileName","NameErrorMessage","RenameFile","projectComponents","isModalOpen","_useSelector","currentName","currentExtension","ext","fileKey","closeModal","useCallback","select","renameComponent","Modal","onRequestClose","overlayClassName","contentLabel","parentSelector","appElement","RunButton","StopButton","setButton","RunnerControls","NotFoundModal","createNewProject","access_token","LoginButton","triggerSave","accessDeniedData","setItem","pathname","stringify","signinRedirect","AccessDeniedNoAuthModal","AccessDeniedWithAuthModal","NewFileModal","createComponent","Handle","rx","ResizableWithHandle","rest","_objectWithoutProperties","_excluded","Resizable","enable","top","right","bottom","left","handleComponent","handleWrapperClass","Project","forWebComponent","numberOfComponents","setNumberOfComponents","tabRefs","createRef","componentIndex","findIndex","fileRef","parentElement","scrollIntoView","switchToFileTab","index","debouncer","minWidth","maxWidth","selectedIndex","onSelect","ProjectComponentLoader","useParams","embedded","navigate","useNavigate","EmbeddedViewer","connect","previousRoute","CallbackComponent","successCallback","errorCallback","onError","processSilentRenew","LocaleLayout","options","localeRegex","RegExp","Outlet","projectLinkRedirects","localeRedirects","ProjectsRedirect","Navigate","SentryRoutes","Routes","AppRoutes","Route","element","Callback","SilentRenew","Footer","ToastCloseButton","closeToast","App","themeDefault","Provider","ToastContainer","enableMultiContainer","containerId","closeButton","BrowserRouter","basename","REACT_APP_BASE_URL","apolloCache","InMemoryCache","typePolicies","keyFields","Query","fields","keyArgs","existing","canRead","edges","edge","merge","_incoming$pageInfo","_incoming$pageInfo2","pageInfo","hasPreviousPage","hasNextPage","incoming","startCursor","endCursor","prefix","suffix","cursor","apiEndpointLink","createHttpLink","uri","apiAuthLink","setContext","Authorization","client","ApolloClient","ApolloLink","SentryLink","cache","documentElement","createRoot","render","StrictMode","CookiesProvider","ApolloProvider","OidcProvider"],"mappings":"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E,KAGJC,KAAK,CACJC,OAAO,EACPC,YAAa,KACbC,QAAS,CACP,KACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,QACA,QACA,QACA,QACA,SAIFC,cAAe,CACb,KACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,QACA,QACA,QACA,QACA,SAEFC,KAAM,cAONC,cAAe,CACbC,aAAa,GAEfC,UAAW,CACTC,GAAI,CACFC,YAAa,CAEXC,WAAY,CACVC,YAAa,QACbC,YAAa,QACb1U,QAAS,8BACT2U,MAAO,CACLC,MAAO,QACPC,QAAS,yBACTC,eAAgB,uBAChBC,YACE,sMACFC,gBAAiB,aACjBC,aACE,iHAEJC,UAAW,wBAEbC,YAAa,CACXC,UAAW,qBAEbC,SAAU,CACRC,OAAQ,CACNC,eAAgB,sCAChBC,aAAc,QACdC,UAAW,6BACXC,GAAI,KACJC,qBACE,iDAEJC,MAAO,gBACPC,OAAQ,gBACRC,cAAe,WACfC,aAAc,CACZC,OAAQ,SACRnB,QAAS,iCACToB,WAAY,iBACZC,KAAM,QAERC,gBAAiB,CACfH,OAAQ,SACRnB,QAAS,cACToB,WAAY,iBACZC,KAAM,QAERE,SAAU,CACR3W,MAAO,iBACP4W,WAAY,gBAGhBC,OAAQ,CACNC,cAAe,gBACfC,qBACE,wDACFrH,QAAS,UACTsH,QAAS,UACTC,aAAc,gBAEhBC,UAAW,CACTC,YAAa,CACXC,MAAO,SACPC,OAAQ,UACR/E,QAAS,aACTtL,SAAU,eAEZsQ,0BAA2B,eAC3BC,0BAA2B,qBAC3BC,uBAAwB,qBAE1BC,OAAQ,CACNC,WAAY,SACZC,UAAW,QACX3C,YAAa,oBACbC,YAAa,o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","file":"static/js/main.909f7251.chunk.js","sourcesContent":["import React from 'react';\nimport { useLocation, useNavigationType, createRoutesFromChildren, matchRoutes } from \"react-router-dom\";\n\nimport * as Sentry from '@sentry/react'\nimport { BrowserTracing } from '@sentry/tracing';\nimport { excludeGraphQLFetch } from 'apollo-link-sentry';\n\nSentry.init({\n  dsn: process.env.REACT_APP_SENTRY_DSN,\n  integrations: [\n    new BrowserTracing({\n      routingInstrumentation: Sentry.reactRouterV6Instrumentation(\n        React.useEffect,\n        useLocation,\n        useNavigationType,\n        createRoutesFromChildren,\n        matchRoutes,\n      ),\n      tracePropagationTargets: [process.env.REACT_APP_API_ENDPOINT, /\\//],\n    }),\n  ],\n  environment: process.env.REACT_APP_SENTRY_ENV,\n  beforeBreadcrumb: excludeGraphQLFetch,\n  tracesSampleRate: 0.8,\n})\n","import { createContext } from \"react\"\n\nconst SettingsContext = createContext({\n    theme: window.matchMedia(\"(prefers-color-scheme:dark)\").matches ? \"dark\" : \"light\",\n    fontSize: 'small'\n})\n\nexport { SettingsContext }","import React from \"react\";\n\nexport const BinIcon = () => {\n  return (\n    <svg\n      width=\"14\"\n      height=\"16\"\n      viewBox=\"0 0 14 16\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M1.16659 15.5V3H0.333252V1.33333H4.49992V0.5H9.49992V1.33333H13.6666V3H12.8333V15.5H1.16659ZM2.83325 13.8333H11.1666V3H2.83325V13.8333ZM4.49992 12.1667H6.16658V4.66667H4.49992V12.1667ZM7.83325 12.1667H9.49992V4.66667H7.83325V12.1667ZM2.83325 3V13.8333V3Z\" />\n    </svg>\n  );\n};\n\nexport const ChevronDown = () => {\n  return (\n    <svg\n      width=\"12\"\n      height=\"9\"\n      viewBox=\"0 0 12 9\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M6 8.37498L0 2.37498L1.4 0.974976L6 5.57498L10.6 0.974976L12 2.37498L6 8.37498Z\" />\n    </svg>\n  );\n};\n\nexport const ChevronLeft = () => {\n  return (\n    <svg\n      width=\"8\"\n      height=\"12\"\n      viewBox=\"0 0 8 12\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M6 12L0 6L6 0L7.4 1.4L2.8 6L7.4 10.6L6 12Z\" />\n    </svg>\n  );\n};\n\nexport const ChevronRight = () => {\n  return (\n    <svg\n      width=\"8\"\n      height=\"12\"\n      viewBox=\"0 0 8 12\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M1.4 12L0 10.6L4.6 6L0 1.4L1.4 0L7.4 6L1.4 12Z\" />\n    </svg>\n  );\n};\n\nexport const CloseIcon = (props) => {\n  const { scaleFactor } = props;\n  const scale = scaleFactor || 1;\n  return (\n    <svg\n      transform={`scale(${scale}, ${scale})`}\n      width=\"14\"\n      height=\"14\"\n      viewBox=\"0 0 14 14\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M1.4 14L0 12.6L5.6 7L0 1.4L1.4 0L7 5.6L12.6 0L14 1.4L8.4 7L14 12.6L12.6 14L7 8.4L1.4 14Z\" />\n    </svg>\n  );\n};\n\nexport const CloudTickIcon = () => {\n  return (\n    <svg\n      width=\"25\"\n      height=\"25\"\n      viewBox=\"0 0 25 25\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M7.77953 19.6065H9.80893V17.5761H7.77953C6.10122 17.5761 4.73544 16.2096 4.73544 14.5304C4.73544 13.105 5.95206 11.7324 7.44772 11.4695L8.03726 11.3659L8.23209 10.7994C8.94542 8.71717 10.7171 7.42377 12.853 7.42377C15.6505 7.42377 17.9265 9.70093 17.9265 12.4999V13.5151H18.9412C20.0604 13.5151 20.9706 14.4258 20.9706 15.5456C20.9706 16.6654 20.0604 17.5761 18.9412 17.5761H15.8971V19.6065H18.9412C21.1796 19.6065 23 17.7852 23 15.5456C22.9984 14.6356 22.6922 13.7523 22.1301 13.0368C21.568 12.3213 20.7825 11.8149 19.8991 11.5984C19.4557 8.10397 16.4653 5.39331 12.853 5.39331C10.0565 5.39331 7.62733 7.02884 6.51826 9.60651C4.33869 10.2583 2.70604 12.3172 2.70604 14.5304C2.70604 17.3294 4.98201 19.6065 7.77953 19.6065Z\" />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M16.1836 11.8558L11.6817 16.7791L9.17648 14.4342L10.3575 13.1724L11.5862 14.3224L14.9081 10.6895L16.1836 11.8558Z\"\n      />\n    </svg>\n  );\n};\n\nexport const CloudUploadIcon = () => {\n  return (\n    <svg\n      width=\"25\"\n      height=\"25\"\n      viewBox=\"0 0 25 25\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M14.0139 19.6065V15.5456H17.058L12.9992 10.4695L8.94049 15.5456H11.9846V19.6065H14.0139Z\" />\n      <path d=\"M7.77966 19.6064H9.80904V17.5759H7.77966C6.10136 17.5759 4.73559 16.2095 4.73559 14.5303C4.73559 13.1049 5.95221 11.7323 7.44786 11.4694L8.03739 11.3658L8.23221 10.7994C8.94554 8.71714 10.7172 7.42375 12.8531 7.42375C15.6506 7.42375 17.9266 9.70089 17.9266 12.4998V13.5151H18.9412C20.0604 13.5151 20.9706 14.4257 20.9706 15.5455C20.9706 16.6653 20.0604 17.5759 18.9412 17.5759H15.8972V19.6064H18.9412C21.1796 19.6064 23 17.7851 23 15.5455C22.9984 14.6355 22.6922 13.7522 22.1301 13.0367C21.568 12.3213 20.7826 11.8148 19.8991 11.5983C19.4557 8.10395 16.4654 5.39331 12.8531 5.39331C10.0566 5.39331 7.62746 7.02883 6.5184 9.60647C4.33885 10.2582 2.70621 12.3171 2.70621 14.5303C2.70621 17.3292 4.98216 19.6064 7.77966 19.6064Z\" />\n    </svg>\n  );\n};\n\nexport const DoubleChevronLeft = () => {\n  return (\n    <svg\n      width=\"12\"\n      height=\"10\"\n      viewBox=\"0 0 12 10\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M5.16663 10L0.166626 5L5.16663 0L6.33329 1.16667L2.52079 5L6.33329 8.83333L5.16663 10ZM10.6666 10L5.66663 5L10.6666 0L11.8333 1.16667L8.02079 5L11.8333 8.83333L10.6666 10Z\" />\n    </svg>\n  );\n};\n\nexport const DoubleChevronRight = () => {\n  return (\n    <svg\n      width=\"12\"\n      height=\"10\"\n      viewBox=\"0 0 12 10\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M1.33334 10L0.166672 8.83333L3.97917 5L0.166672 1.16667L1.33334 0L6.33334 5L1.33334 10ZM6.83334 10L5.66667 8.83333L9.47917 5L5.66667 1.16667L6.83334 0L11.8333 5L6.83334 10Z\" />\n    </svg>\n  );\n};\n\nexport const DownloadIcon = () => {\n  return (\n    <svg\n      width=\"16\"\n      height=\"16\"\n      viewBox=\"0 0 16 16\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M8 12L3 7L4.4 5.55L7 8.15V0H9V8.15L11.6 5.55L13 7L8 12ZM0 16V11H2V14H14V11H16V16H0Z\" />\n    </svg>\n  );\n};\n\nexport const EllipsisVerticalIcon = () => {\n  return (\n    <svg\n      width=\"4\"\n      height=\"16\"\n      viewBox=\"0 0 4 16\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M2 16C1.45 16 0.979334 15.8043 0.588 15.413C0.196 15.021 0 14.55 0 14C0 13.45 0.196 12.979 0.588 12.587C0.979334 12.1957 1.45 12 2 12C2.55 12 3.021 12.1957 3.413 12.587C3.80433 12.979 4 13.45 4 14C4 14.55 3.80433 15.021 3.413 15.413C3.021 15.8043 2.55 16 2 16ZM2 10C1.45 10 0.979334 9.804 0.588 9.412C0.196 9.02067 0 8.55 0 8C0 7.45 0.196 6.979 0.588 6.587C0.979334 6.19567 1.45 6 2 6C2.55 6 3.021 6.19567 3.413 6.587C3.80433 6.979 4 7.45 4 8C4 8.55 3.80433 9.02067 3.413 9.412C3.021 9.804 2.55 10 2 10ZM2 4C1.45 4 0.979334 3.804 0.588 3.412C0.196 3.02067 0 2.55 0 2C0 1.45 0.196 0.979333 0.588 0.588C0.979334 0.196 1.45 0 2 0C2.55 0 3.021 0.196 3.413 0.588C3.80433 0.979333 4 1.45 4 2C4 2.55 3.80433 3.02067 3.413 3.412C3.021 3.804 2.55 4 2 4Z\" />\n    </svg>\n  );\n};\n\nexport const FileIcon = (props) => {\n  const { ext } = props;\n\n  switch (ext) {\n    case \"py\":\n      return <FileIconPython {...props} />;\n    case \"html\":\n      return <FileIconHtml {...props} />;\n    case \"css\":\n      return <FileIconCss {...props} />;\n    case \"csv\":\n      return <FileIconCsv {...props} />;\n    default:\n      return <FileIconDefault {...props} />;\n  }\n};\n\nexport const FileIconDefault = (props) => {\n  const { scaleFactor } = props;\n  const scale = scaleFactor || 1;\n  return (\n    <svg\n      data-testid=\"defaultFileIcon\"\n      transform={`scale(${scale}, ${scale})`}\n      width=\"16\"\n      height=\"20\"\n      viewBox=\"0 0 16 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M4 16H12V14H4V16ZM4 12H12V10H4V12ZM0 20V0H10L16 6V20H0ZM9 7V2H2V18H14V7H9ZM2 2V7V2V18V2Z\" />\n    </svg>\n  );\n};\n\nexport const FileIconPython = (props) => {\n  const { scaleFactor } = props;\n  const scale = scaleFactor || 1;\n  return (\n    <svg\n      data-testid=\"pythonIcon\"\n      transform={`scale(${scale}, ${scale})`}\n      width=\"20\"\n      height=\"21\"\n      viewBox=\"0 0 20 21\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M9.52694 9.62608H7.16163C5.50591 9.62608 4.44152 10.6905 4.44152 12.3462V14.475C4.44152 14.7115 4.32326 14.8298 4.08673 14.8298H3.02234C1.95795 14.8298 1.13009 14.3567 0.657031 13.4106C0.302234 12.701 0.065703 11.9914 0.065703 11.2818C-0.0525625 9.98088 -0.0525622 8.67996 0.4205 7.37904C0.775296 6.31465 1.48489 5.48679 2.66754 5.25026H9.52694C9.6452 5.25026 9.88173 5.25026 9.88173 5.132V4.54067C9.88173 4.54067 9.6452 4.4224 9.52694 4.4224H5.50591C5.15112 4.4224 5.03285 4.30414 5.03285 3.94934V2.41189C5.03285 1.58403 5.38765 0.992705 6.09724 0.756175C6.68857 0.519644 7.27989 0.283113 7.87122 0.164848C9.29041 -0.0716833 10.7096 -0.0716835 12.1288 0.283113C12.7201 0.401378 13.3114 0.637909 13.7845 0.992705C14.2576 1.46577 14.6124 1.93883 14.4941 2.64842V6.90598C14.4941 8.56169 13.548 9.50782 11.8922 9.50782C11.0644 9.62608 10.2365 9.62608 9.52694 9.62608ZM6.21551 2.53016C6.21551 3.00322 6.5703 3.47628 7.16163 3.47628C7.63469 3.47628 8.10775 3.00322 8.10775 2.53016C8.10775 2.05709 7.63469 1.7023 7.16163 1.58403C6.5703 1.58403 6.21551 2.05709 6.21551 2.53016ZM10.4731 10.8087H12.8384C14.4941 10.8087 15.5585 9.74435 15.5585 8.08863V5.95985C15.5585 5.72332 15.6767 5.60506 15.9133 5.60506H16.9777C18.042 5.60506 18.8699 6.07812 19.343 7.02424C19.6978 7.73383 19.9343 8.44343 19.9343 9.15302C20.0526 10.4539 20.0526 11.7549 19.5795 13.0558C19.2247 14.1202 18.5151 14.948 17.3325 15.1846H10.4731C10.3548 15.1846 10.1183 15.1846 10.1183 15.3028V15.8941C10.1183 15.8941 10.3548 16.0124 10.4731 16.0124H14.4941C14.8489 16.0124 14.9671 16.1307 14.9671 16.4855V18.0229C14.9671 18.8508 14.6124 19.4421 13.9028 19.6786C13.3114 19.9152 12.7201 20.1517 12.1288 20.27C10.7096 20.5065 9.29041 20.5065 7.87122 20.1517C7.27989 20.0334 6.68857 19.7969 6.21551 19.4421C5.74244 18.969 5.38765 18.496 5.50591 17.7864V13.5288C5.50591 11.8731 6.45204 10.927 8.10775 10.927C8.93561 10.8087 9.76347 10.8087 10.4731 10.8087ZM13.7845 17.9047C13.7845 17.4316 13.4297 16.9585 12.8384 16.9585C12.3653 16.9585 11.8922 17.4316 11.8922 17.9047C11.8922 18.3777 12.3653 18.7325 12.8384 18.8508C13.4297 18.8508 13.7845 18.3777 13.7845 17.9047Z\" />\n    </svg>\n  );\n};\n\nexport const FileIconHtml = (props) => {\n  const { scaleFactor } = props;\n  const scale = scaleFactor || 1;\n  return (\n    <svg\n      data-testid=\"htmlIcon\"\n      transform={`scale(${scale}, ${scale})`}\n      width=\"20\"\n      height=\"17\"\n      viewBox=\"0 0 20 17\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M0 7.125L7.5 0.124999V3.375L1.875 8.375L7.5 13.375V16.625L0 9.625V7.125ZM20 9.75L12.5 16.75V13.375L18.25 8.375L12.5 3.375V0L20 7V9.75Z\" />\n    </svg>\n  );\n};\n\nexport const FileIconCss = (props) => {\n  const { scaleFactor } = props;\n  const scale = scaleFactor || 1;\n  return (\n    <svg\n      data-testid=\"cssIcon\"\n      transform={`scale(${scale}, ${scale})`}\n      width=\"18\"\n      height=\"18\"\n      viewBox=\"0 0 20 18\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M2.05349 17.6376L3.01994 12.8054H-0.000198364V10.2685H3.62396L4.22799 7.24832H1.08705V4.71141H4.83202L5.79846 0H9.18101L8.21457 4.71141H11.5971L12.5636 0H15.9461L14.9797 4.71141H17.9998V7.24832H14.4964L13.7716 10.2685H16.9126V12.8054H13.2884L12.3219 17.6376H8.9394L9.90584 12.8054H6.52329L5.55685 17.6376H2.05349ZM10.3891 10.2685L10.9931 7.24832H7.61054L7.00651 10.2685H10.3891Z\" />\n    </svg>\n  );\n};\n\nexport const FileIconCsv = (props) => {\n  const { scaleFactor } = props;\n  const scale = scaleFactor || 1;\n  return (\n    <svg\n      data-testid=\"csvIcon\"\n      transform={`scale(${scale}, ${scale})`}\n      width=\"18\"\n      height=\"18\"\n      viewBox=\"0 0 20 18\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M0 0V17.8H18V0H0ZM2.9 3.7H8V5H2.9V3.7ZM9.9 3.7H15V5H9.9V3.7ZM2.9 6.7H8V8H2.9V6.7ZM9.9 6.7H15V8H9.9V6.7ZM2.9 9.7H8V11H2.9V9.7ZM9.9 9.7H15V11H9.9V9.7ZM2.9 12.7H8V14H2.9V12.7ZM9.9 12.7H15V14H9.9V12.7Z\" />\n    </svg>\n  );\n};\n\nexport const FontIcon = (props) => {\n  const { size } = props;\n  return (\n    <svg\n      width={`${size}`}\n      height={`${size}`}\n      viewBox=\"0 0 19 19\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M4.317 0.0253907C4.782 0.0253907 5.199 0.310391 5.367 0.745391L7.7085 6.81739L6.5025 9.92239C6.48286 9.8849 6.46533 9.84634 6.45 9.80689L5.994 8.62489H2.64L2.184 9.80689C2.07659 10.0854 1.86295 10.3098 1.59008 10.4307C1.31722 10.5517 1.00748 10.5593 0.728998 10.4519C0.450521 10.3445 0.226119 10.1308 0.105158 9.85798C-0.0158029 9.58511 -0.0234144 9.27537 0.0839983 8.99689L3.2685 0.745391C3.35031 0.533367 3.49442 0.351093 3.68185 0.222571C3.86928 0.0940482 4.09124 0.0253041 4.3185 0.0253907H4.317ZM3.507 6.37489H5.127L4.317 4.27489L3.507 6.37489ZM12.3 3.72889C12.2186 3.51617 12.0746 3.33316 11.887 3.20406C11.6994 3.07495 11.477 3.00582 11.2492 3.00582C11.0215 3.00582 10.7991 3.07495 10.6115 3.20406C10.4239 3.33316 10.2799 3.51617 10.1985 3.72889L5.601 15.7499C5.30263 15.7535 5.0179 15.8754 4.80946 16.0889C4.60101 16.3025 4.48592 16.59 4.4895 16.8884C4.49308 17.1868 4.61504 17.4715 4.82855 17.6799C5.04206 17.8884 5.32963 18.0035 5.628 17.9999H6.309C6.35495 18.0028 6.40104 18.0028 6.447 17.9999L7.8795 17.9954C8.16669 17.9956 8.44309 17.886 8.65206 17.6889C8.86102 17.4919 8.98673 17.2225 9.00341 16.9357C9.0201 16.649 8.9265 16.3668 8.7418 16.1469C8.5571 15.927 8.29528 15.786 8.01 15.7529L8.5845 14.2529H13.917L14.496 15.7649C14.2106 15.798 13.9487 15.9391 13.7639 16.1592C13.5792 16.3792 13.4857 16.6617 13.5026 16.9485C13.5195 17.2353 13.6455 17.5048 13.8547 17.7017C14.064 17.8986 14.3407 18.008 14.628 18.0074L16.878 18.0014C17.1764 18.0042 17.4636 17.8883 17.6766 17.6793C17.8895 17.4703 18.0107 17.1853 18.0135 16.8869C18.0163 16.5885 17.9004 16.3013 17.6914 16.0883C17.4824 15.8754 17.1974 15.7542 16.899 15.7514L15.777 12.8189C15.759 12.7554 15.7354 12.6937 15.7065 12.6344L12.3015 3.73039L12.3 3.72889ZM13.056 11.9999H9.444L11.25 7.27939L13.056 11.9999Z\" />\n    </svg>\n  );\n};\n\nexport const HomeIcon = () => {\n  return (\n    <svg\n      width=\"16\"\n      height=\"18\"\n      viewBox=\"0 0 16 18\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M2 16H5V10H11V16H14V7L8 2.5L2 7V16ZM0 18V6L8 0L16 6V18H9V12H7V18H0Z\" />\n    </svg>\n  );\n};\n\nexport const InfoIcon = () => {\n  return (\n    <svg\n      width=\"22\"\n      height=\"22\"\n      viewBox=\"0 0 22 22\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M11 0C4.928 0 0 4.928 0 11C0 17.072 4.928 22 11 22C17.072 22 22 17.072 22 11C22 4.928 17.072 0 11 0ZM12.1 16.5H9.9V9.9H12.1V16.5ZM12.1 7.7H9.9V5.5H12.1V7.7Z\" />\n    </svg>\n  );\n};\n\nexport const HumidityIcon = () => {\n  return (\n    <svg\n      width=\"16\"\n      height=\"20\"\n      viewBox=\"0 0 16 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M10.5 16C10.9167 16 11.2707 15.854 11.562 15.562C11.854 15.2707 12 14.9167 12 14.5C12 14.0833 11.854 13.7293 11.562 13.438C11.2707 13.146 10.9167 13 10.5 13C10.0833 13 9.72933 13.146 9.438 13.438C9.146 13.7293 9 14.0833 9 14.5C9 14.9167 9.146 15.2707 9.438 15.562C9.72933 15.854 10.0833 16 10.5 16ZM5.45 15.95L11.95 9.45L10.55 8.05L4.05 14.55L5.45 15.95ZM5.5 11C5.91667 11 6.27067 10.854 6.562 10.562C6.854 10.2707 7 9.91667 7 9.5C7 9.08333 6.854 8.72933 6.562 8.438C6.27067 8.146 5.91667 8 5.5 8C5.08333 8 4.72933 8.146 4.438 8.438C4.146 8.72933 4 9.08333 4 9.5C4 9.91667 4.146 10.2707 4.438 10.562C4.72933 10.854 5.08333 11 5.5 11ZM8 20C5.71667 20 3.81267 19.2167 2.288 17.65C0.762667 16.0833 0 14.1333 0 11.8C0 10.1333 0.662667 8.321 1.988 6.363C3.31267 4.40433 5.31667 2.28333 8 0C10.6833 2.28333 12.6877 4.40433 14.013 6.363C15.3377 8.321 16 10.1333 16 11.8C16 14.1333 15.2373 16.0833 13.712 17.65C12.1873 19.2167 10.2833 20 8 20ZM8 18C9.73333 18 11.1667 17.4127 12.3 16.238C13.4333 15.0627 14 13.5833 14 11.8C14 10.5833 13.496 9.20833 12.488 7.675C11.4793 6.14167 9.98333 4.46667 8 2.65C6.01667 4.46667 4.521 6.14167 3.513 7.675C2.50433 9.20833 2 10.5833 2 11.8C2 13.5833 2.56667 15.0627 3.7 16.238C4.83333 17.4127 6.26667 18 8 18Z\" />\n    </svg>\n  );\n};\n\nexport const MoonIcon = () => {\n  return (\n    <svg\n      width=\"18\"\n      height=\"18\"\n      viewBox=\"0 0 18 18\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M9 18C6.5 18 4.375 17.125 2.625 15.375C0.875 13.625 0 11.5 0 9C0 6.5 0.875 4.375 2.625 2.625C4.375 0.875 6.5 0 9 0C9.23333 0 9.46267 0.00833343 9.688 0.0250001C9.91267 0.0416668 10.1333 0.0666666 10.35 0.0999999C9.66667 0.583333 9.121 1.21233 8.713 1.987C8.30433 2.76233 8.1 3.6 8.1 4.5C8.1 6 8.625 7.275 9.675 8.325C10.725 9.375 12 9.9 13.5 9.9C14.4167 9.9 15.2583 9.69567 16.025 9.287C16.7917 8.879 17.4167 8.33333 17.9 7.65C17.9333 7.86667 17.9583 8.08733 17.975 8.312C17.9917 8.53733 18 8.76667 18 9C18 11.5 17.125 13.625 15.375 15.375C13.625 17.125 11.5 18 9 18ZM9 16C10.4667 16 11.7833 15.596 12.95 14.788C14.1167 13.9793 14.9667 12.925 15.5 11.625C15.1667 11.7083 14.8333 11.775 14.5 11.825C14.1667 11.875 13.8333 11.9 13.5 11.9C11.45 11.9 9.704 11.1793 8.262 9.738C6.82067 8.296 6.1 6.55 6.1 4.5C6.1 4.16667 6.125 3.83333 6.175 3.5C6.225 3.16667 6.29167 2.83333 6.375 2.5C5.075 3.03333 4.021 3.88333 3.213 5.05C2.40433 6.21667 2 7.53333 2 9C2 10.9333 2.68333 12.5833 4.05 13.95C5.41667 15.3167 7.06667 16 9 16Z\" />\n    </svg>\n  );\n};\n\nexport const PlusIcon = () => {\n  return (\n    <svg\n      width=\"14\"\n      height=\"14\"\n      viewBox=\"0 0 14 14\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M6 14V8H0V6H6V0H8V6H14V8H8V14H6Z\" />\n    </svg>\n  );\n};\n\nexport const PencilIcon = () => {\n  return (\n    <svg\n      width=\"19\"\n      height=\"19\"\n      viewBox=\"0 0 19 19\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M2 17H3.4L12.025 8.375L10.625 6.975L2 15.6V17ZM16.3 6.925L12.05 2.725L13.45 1.325C13.8333 0.941667 14.3043 0.75 14.863 0.75C15.421 0.75 15.8917 0.941667 16.275 1.325L17.675 2.725C18.0583 3.10833 18.2583 3.571 18.275 4.113C18.2917 4.65433 18.1083 5.11667 17.725 5.5L16.3 6.925ZM14.85 8.4L4.25 19H0V14.75L10.6 4.15L14.85 8.4ZM11.325 7.675L10.625 6.975L12.025 8.375L11.325 7.675Z\" />\n    </svg>\n  );\n};\n\nexport const DuplicateIcon = () => {\n  return (\n    <svg\n      width=\"17\"\n      height=\"20\"\n      viewBox=\"0 0 17 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M4 16V0H17V16H4ZM6 14H15V2H6V14ZM0 20V4H2V18H13V20H0ZM6 14V2V14Z\"\n        fill=\"black\"\n      />\n    </svg>\n  );\n};\n\nexport const PressureIcon = () => {\n  const scale = 1.6;\n  return (\n    <svg\n      transform={`scale(${scale}, ${scale})`}\n      width=\"15\"\n      height=\"15\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g>\n        <path d=\"M8.752 7.001a1 1 0 0 1-1.971.237c-.062-.252-.123-.52-.307-.704L5.411 5.471a.5.5 0 1 1 .707-.707l.957.957c.207.207.52.25.81.29a1 1 0 0 1 .867.99Z\" />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M11.75 6.75a4.25 4.25 0 1 1-8.5 0 4.25 4.25 0 0 1 8.5 0zm-1 0a3.25 3.25 0 1 1-6.5 0 3.25 3.25 0 0 1 6.5 0z\"\n        />\n        <path d=\"M6.252 10.5h2.5v.75a1.25 1.25 0 1 1-2.5 0z\" />\n      </g>\n    </svg>\n  );\n};\n\nexport const ResetIcon = () => {\n  return (\n    <svg\n      width=\"16\"\n      height=\"16\"\n      viewBox=\"0 0 16 16\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M10 0H16V2H13.25L13.65 2.35C14.4667 3.16667 15.0627 4.054 15.438 5.012C15.8127 5.97067 16 6.95 16 7.95C16 9.8 15.4457 11.4457 14.337 12.887C13.229 14.329 11.7833 15.2833 10 15.75V13.65C11.2 13.2167 12.1667 12.4793 12.9 11.438C13.6333 10.396 14 9.23333 14 7.95C14 7.2 13.8583 6.47067 13.575 5.762C13.2917 5.054 12.85 4.4 12.25 3.8L12 3.55V6H10V0ZM6 16H0V14H2.75L2.35 13.65C1.48333 12.8833 0.875 12.0083 0.525 11.025C0.175 10.0417 0 9.05 0 8.05C0 6.2 0.554 4.554 1.662 3.112C2.77067 1.67067 4.21667 0.716667 6 0.25V2.35C4.8 2.78333 3.83333 3.52067 3.1 4.562C2.36667 5.604 2 6.76667 2 8.05C2 8.8 2.14167 9.529 2.425 10.237C2.70833 10.9457 3.15 11.6 3.75 12.2L4 12.45V10H6V16Z\" />\n    </svg>\n  );\n};\n\nexport const RunIcon = () => {\n  return (\n    <svg\n      width=\"11\"\n      height=\"14\"\n      viewBox=\"0 0 11 14\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M0 14V0L11 7L0 14ZM2 10.35L7.25 7L2 3.65V10.35Z\" />\n    </svg>\n  );\n};\n\nexport const SettingsIcon = () => {\n  return (\n    <svg\n      width=\"18\"\n      height=\"18\"\n      viewBox=\"0 0 18 18\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M8 18V12H10V14H18V16H10V18H8ZM0 16V14H6V16H0ZM4 12V10H0V8H4V6H6V12H4ZM8 10V8H18V10H8ZM12 6V0H14V2H18V4H14V6H12ZM0 4V2H10V4H0Z\" />\n    </svg>\n  );\n};\n\nexport const SplitViewIcon = () => {\n  const scale = 4 / 5;\n  return (\n    <svg\n      transform={`scale(${scale}, ${scale})`}\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M2.87868 5.87868C2.31607 6.44129 2 7.20435 2 8V16C2 16.7956 2.31607 17.5587 2.87868 18.1213C3.44129 18.6839 4.20435 19 5 19H19C19.7956 19 20.5587 18.6839 21.1213 18.1213C21.6839 17.5587 22 16.7956 22 16V8C22 7.20435 21.6839 6.44129 21.1213 5.87868C20.5587 5.31607 19.7956 5 19 5H5C4.20435 5 3.44129 5.31607 2.87868 5.87868ZM19 7H5C4.73478 7 4.48043 7.10536 4.29289 7.29289C4.10536 7.48043 4 7.73478 4 8V11H20V8C20 7.73478 19.8946 7.48043 19.7071 7.29289C19.5196 7.10536 19.2652 7 19 7ZM4 16V13H8L7.99999 12.9995H11V13H20V16C20 16.2652 19.8946 16.5196 19.7071 16.7071C19.5196 16.8946 19.2652 17 19 17H10V16.9995H8.00033L8 17H5C4.73478 17 4.48043 16.8946 4.29289 16.7071C4.10536 16.5196 4 16.2652 4 16Z\"\n      />\n    </svg>\n  );\n};\n\nexport const StopIcon = () => {\n  return (\n    <svg\n      width=\"12\"\n      height=\"12\"\n      viewBox=\"0 0 12 12\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M2 2V10V2ZM0 12V0H12V12H0ZM2 10H10V2H2V10Z\" />\n    </svg>\n  );\n};\n\nexport const SunIcon = () => {\n  return (\n    <svg\n      width=\"22\"\n      height=\"22\"\n      viewBox=\"0 0 22 22\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M11 14C11.8333 14 12.5417 13.7083 13.125 13.125C13.7083 12.5417 14 11.8333 14 11C14 10.1667 13.7083 9.45833 13.125 8.875C12.5417 8.29167 11.8333 8 11 8C10.1667 8 9.45833 8.29167 8.875 8.875C8.29167 9.45833 8 10.1667 8 11C8 11.8333 8.29167 12.5417 8.875 13.125C9.45833 13.7083 10.1667 14 11 14ZM11 16C9.61667 16 8.43767 15.5123 7.463 14.537C6.48767 13.5623 6 12.3833 6 11C6 9.61667 6.48767 8.43733 7.463 7.462C8.43767 6.48733 9.61667 6 11 6C12.3833 6 13.5627 6.48733 14.538 7.462C15.5127 8.43733 16 9.61667 16 11C16 12.3833 15.5127 13.5623 14.538 14.537C13.5627 15.5123 12.3833 16 11 16ZM0 12V10H4V12H0ZM18 12V10H22V12H18ZM10 4V0H12V4H10ZM10 22V18H12V22H10ZM5.35 6.75L2.875 4.275L4.275 2.875L6.75 5.35L5.35 6.75ZM17.725 19.125L15.25 16.65L16.65 15.25L19.125 17.725L17.725 19.125ZM16.65 6.75L15.25 5.35L17.725 2.875L19.125 4.275L16.65 6.75ZM4.275 19.125L2.875 17.725L5.35 15.25L6.75 16.65L4.275 19.125Z\" />\n    </svg>\n  );\n};\n\nexport const TabbedViewIcon = () => {\n  const scale = 4 / 5;\n  return (\n    <svg\n      transform={`scale(${scale}, ${scale})`}\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M2 8C2 7.20435 2.31607 6.44129 2.87868 5.87868C3.44129 5.31607 4.20435 5 5 5H19C19.7956 5 20.5587 5.31607 21.1213 5.87868C21.6839 6.44129 22 7.20435 22 8V16C22 16.7956 21.6839 17.5587 21.1213 18.1213C20.5587 18.6839 19.7956 19 19 19H5C4.20435 19 3.44129 18.6839 2.87868 18.1213C2.31607 17.5587 2 16.7956 2 16V8ZM13 7H19C19.2652 7 19.5196 7.10536 19.7071 7.29289C19.8946 7.48043 20 7.73478 20 8V16C20 16.2652 19.8946 16.5196 19.7071 16.7071C19.5196 16.8946 19.2652 17 19 17H13V7ZM11 7H5C4.73478 7 4.48043 7.10536 4.29289 7.29289C4.10536 7.48043 4 7.73478 4 8V16C4 16.2652 4.10536 16.5196 4.29289 16.7071C4.48043 16.8946 4.73478 17 5 17H11V7Z\"\n      />\n    </svg>\n  );\n};\n\nexport const TemperatureIcon = () => {\n  return (\n    <svg\n      width=\"10\"\n      height=\"20\"\n      viewBox=\"0 0 10 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M5 20C3.61667 20 2.43767 19.5127 1.463 18.538C0.487667 17.5627 0 16.3833 0 15C0 14.2 0.175 13.454 0.525 12.762C0.875 12.0707 1.36667 11.4833 2 11V3C2 2.16667 2.29167 1.45833 2.875 0.875C3.45833 0.291667 4.16667 0 5 0C5.83333 0 6.54167 0.291667 7.125 0.875C7.70833 1.45833 8 2.16667 8 3V11C8.63333 11.4833 9.125 12.0707 9.475 12.762C9.825 13.454 10 14.2 10 15C10 16.3833 9.51267 17.5627 8.538 18.538C7.56267 19.5127 6.38333 20 5 20ZM4 9H6V8H5V7H6V5H5V4H6V3C6 2.71667 5.90433 2.479 5.713 2.287C5.521 2.09567 5.28333 2 5 2C4.71667 2 4.47933 2.09567 4.288 2.287C4.096 2.479 4 2.71667 4 3V9Z\" />\n    </svg>\n  );\n};\n\nexport const TickIcon = () => {\n  return (\n    <svg\n      width=\"18\"\n      height=\"13\"\n      viewBox=\"0 0 18 13\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M6.55001 13L0.850006 7.29998L2.27501 5.87498L6.55001 10.15L15.725 0.974976L17.15 2.39998L6.55001 13Z\" />\n    </svg>\n  );\n};\n","import { intlFormatDistance } from 'date-fns'\n\nimport { useState, useEffect} from 'react'\nimport { useSelector } from 'react-redux'\nimport { useTranslation } from 'react-i18next';\n\nimport { CloudUploadIcon, CloudTickIcon } from '../../Icons';\n\n\nconst Autosave = () => {\n  const { t } = useTranslation()\n  const lastSavedTime = useSelector((state) => state.editor.lastSavedTime)\n  const saving = useSelector((state) => state.editor.saving)\n  const [time, setTime] = useState(Date.now());\n\n  const isPending = saving === 'pending'\n\n  useEffect(() => {\n    setTime(Date.now())\n\n    const statusTick = setInterval(() => {\n      setTime(Date.now())\n    }, 10000);\n\n    return () => clearInterval(statusTick)\n  }, [lastSavedTime]);\n\n  return (\n    <div className='autosave'>\n      { isPending ?\n        <>\n          <div className='autosave__icon'><CloudUploadIcon /></div>\n          <div className='autosave__status'>{t('header.autoSaving')}&hellip;</div>\n        </> :\n        <>\n          <div className='autosave__icon'><CloudTickIcon /></div>\n          <div className='autosave__status'>{t('header.autoSaved')} {intlFormatDistance(lastSavedTime, time, { style: 'narrow' })}</div>\n        </>\n      }\n    </div>\n  )\n}\n\nexport default Autosave","import \"./Button.scss\";\n\nimport React from \"react\";\nimport { confirmAlert } from \"react-confirm-alert\";\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\n\nconst Button = (props) => {\n  const {\n    className,\n    onClickHandler,\n    ButtonIcon,\n    buttonImage,\n    buttonImageAltText,\n    buttonText,\n    buttonOuter,\n    buttonOuterClassName,\n    disabled,\n    confirmText,\n    title,\n    label,\n    buttonIconPosition = \"left\",\n  } = props;\n\n  const buttonClass = `btn${className ? ` ${className}` : \"\"}${\n    buttonText ? \"\" : \" btn--svg-only\"\n  }`;\n\n  const onButtonClick = (e) => {\n    if (!confirmText) {\n      onClickHandler(e);\n      return;\n    }\n\n    confirmAlert({\n      message: confirmText,\n      buttons: [\n        {\n          label: \"Yes\",\n          onClick: () => onClickHandler(e),\n        },\n        {\n          label: \"No\",\n        },\n      ],\n    });\n  };\n\n  const button = (\n    <button\n      className={buttonClass}\n      disabled={disabled}\n      aria-label={label}\n      title={title}\n      onClick={buttonOuter ? null : onButtonClick}\n    >\n      {buttonImage ? <img src={buttonImage} alt={buttonImageAltText} /> : null}\n      {ButtonIcon && buttonIconPosition === \"left\" ? <ButtonIcon /> : null}\n      {buttonText ? <span>{buttonText}</span> : null}\n      {ButtonIcon && buttonIconPosition === \"right\" ? <ButtonIcon /> : null}\n    </button>\n  );\n\n  if (buttonOuter) {\n    return (\n      <div\n        className={`btn-outer${\n          buttonOuterClassName ? ` ${buttonOuterClassName}` : \"\"\n        }`}\n        onClick={onButtonClick}\n      >\n        {button}\n      </div>\n    );\n  }\n\n  return button;\n};\n\nexport default Button;\n","import axios from 'axios';\nimport omit from 'lodash/omit'\n\nconst host = process.env.REACT_APP_API_ENDPOINT;\n\nconst get = async (url, headers) => {\n  return await axios.get(url, headers);\n}\n\nconst post = async (url, body, headers) => {\n  return await axios.post(url, body, headers);\n}\n\nconst put = async (url, body, headers) => {\n  return await axios.put(url, body, headers)\n}\n\nconst headers = (accessToken) => {\n    let headersHash\n    if (accessToken) {\n        headersHash = {'Accept': 'application/json', 'Authorization': accessToken}\n    } else {\n        headersHash = {'Accept': 'application/json'}\n    }\n    return {headers: headersHash}\n}\n\nexport const createOrUpdateProject = async (projectWithUserId, accessToken) => {\n  const project = omit(projectWithUserId, ['user_id'])\n  if (!project.identifier) {\n    return await post(`${host}/api/projects`, { project }, headers(accessToken))\n  }\n  else {\n    return await put(`${host}/api/projects/${project.identifier}`, { project }, headers(accessToken))\n  }\n}\n\nexport const deleteProject = async (identifier, accessToken) => {\n  return await axios.delete(`${host}/api/projects/${identifier}`, headers(accessToken));\n}\n\nexport const getImage = async (url) => {\n  return await get(url, headers())\n}\n\nexport const createRemix = async (project, accessToken) => {\n  return await post(`${host}/api/projects/${project.identifier}/remix`, { project: project}, headers(accessToken));\n}\n\nexport const readProject = async (projectIdentifier, locale, accessToken) => {\n  const queryString = locale ? `?locale=${locale}` : \"\"\n  return await get(`${host}/api/projects/${projectIdentifier}${queryString}`, headers(accessToken));\n}\n\nexport const readProjectList = async (page, accessToken) => {\n  return await get(`${host}/api/projects`, {params: {page}, ...headers(accessToken)});\n}\n\nexport const uploadImages = async (projectIdentifier, accessToken, images) => {\n  var formData = new FormData();\n\n  images.forEach(image => {\n    formData.append('images[]', image, image.name);\n  })\n\n  return await post(`${host}/api/projects/${projectIdentifier}/images`, formData, {...headers(accessToken), 'Content-Type': 'multipart/form-data'})\n}\n\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport parseLinkHeader from 'parse-link-header';\nimport { createOrUpdateProject, readProject, createRemix, deleteProject, readProjectList } from '../../utils/apiCallHandler';\n\nexport const syncProject = (actionName) => createAsyncThunk(\n  `editor/${actionName}Project`,\n  async({ project, identifier, locale, accessToken, autosave }, { rejectWithValue }) => {\n    let response\n    switch(actionName) {\n      case 'load':\n        response = await readProject(identifier, locale, accessToken)\n        break\n      case 'remix':\n        response = await createRemix(project, accessToken)\n        break\n      case 'save':\n        response = await createOrUpdateProject(project, accessToken)\n        break\n      case 'delete':\n        response = await deleteProject(identifier, accessToken)\n        break\n      default:\n        rejectWithValue({ error: 'no such sync action' })\n    }\n    return { project: response.data, autosave }\n  },\n  {\n    condition: (_, { getState }) => {\n      const { editor, auth } = getState()\n      const saveStatus = editor.saving\n      const loadStatus = editor.loading\n      if (auth.isLoadingUser) {\n        return false\n      }\n      if ((actionName === 'save' || actionName === 'remix') && saveStatus === 'pending') {\n        return false\n      }\n      if (actionName === 'load' && loadStatus === 'pending' ) {\n        return false\n      }\n    },\n  }\n)\n\nexport const loadProjectList = createAsyncThunk(\n  `editor/loadProjectList`,\n  async ({page, accessToken}) => {\n    const response = await readProjectList(page, accessToken)\n    return {projects: response.data, page, links: parseLinkHeader(response.headers.link)}\n  }\n)\n\nexport const EditorSlice = createSlice({\n  name: 'editor',\n  initialState: {\n    project: {},\n    saving: 'idle',\n    loading: 'idle',\n    justLoaded: false,\n    hasShownSavePrompt: false,\n    loadError: \"\",\n    saveError: \"\",\n    currentLoadingRequestId: undefined,\n    openFiles: [],\n    focussedFileIndex: 0,\n    nameError: \"\",\n    codeRunTriggered: false,\n    drawTriggered: false,\n    isEmbedded: false,\n    isSplitView: true,\n    codeRunStopped: false,\n    projectList: [],\n    projectListLoaded: 'idle',\n    projectIndexCurrentPage: 1,\n    projectIndexTotalPages: 1,\n    lastSaveAutosave: false,\n    lastSavedTime: null,\n    senseHatAlwaysEnabled: false,\n    senseHatEnabled: false,\n    accessDeniedNoAuthModalShowing: false,\n    accessDeniedWithAuthModalShowing: false,\n    betaModalShowing: false,\n    loginToSaveModalShowing: false,\n    notFoundModalShowing: false,\n    newFileModalShowing: false,\n    renameFileModalShowing: false,\n    renameProjectModalShowing: false,\n    deleteProjectModalShowing: false,\n    modals: {},\n  },\n  reducers: {\n    closeFile: (state, action) => {\n      const closedFileIndex = state.openFiles.indexOf(action.payload)\n      state.openFiles = state.openFiles.filter(fileName => fileName !== action.payload)\n      if (state.focussedFileIndex >= state.openFiles.length || closedFileIndex < state.focussedFileIndex) {\n        state.focussedFileIndex--\n      }\n    },\n    openFile: (state, action) => {\n      if (!state.openFiles.includes(action.payload)) {\n        state.openFiles.push(action.payload)\n      }\n      state.focussedFileIndex = state.openFiles.indexOf(action.payload)\n    },\n    setFocussedFileIndex: (state, action) => {\n      state.focussedFileIndex = action.payload\n    },\n    updateImages: (state, action) => {\n      if (!state.project.image_list) {state.project.image_list=[]}\n      state.project.image_list = action.payload\n    },\n    addProjectComponent: (state, action) => {\n      state.project.components.push({\"name\": action.payload.name, \"extension\": action.payload.extension, \"content\": ''})\n      state.saving = 'idle'\n    },\n    setEmbedded: (state, _action) => {\n      state.isEmbedded = true;\n    },\n    setIsSplitView: (state, action) => {\n      state.isSplitView = action.payload;\n    },\n    setNameError: (state, action) => {\n      state.nameError = action.payload;\n    },\n    setHasShownSavePrompt: (state) => {\n      state.hasShownSavePrompt = true\n    },\n    setProject: (state, action) => {\n      state.project = action.payload;\n      if (!state.project.image_list) {\n        state.project.image_list = []\n      }\n      state.loading='success'\n      if (state.openFiles.length === 0) {\n        if (state.project.project_type === 'html') {\n          state.openFiles.push('index.html')\n        } else {\n          state.openFiles.push('main.py')\n        }\n      }\n      state.justLoaded = true\n    },\n    expireJustLoaded: (state) => {\n      state.justLoaded = false\n    },\n    setSenseHatAlwaysEnabled: (state, action) => {\n      state.senseHatAlwaysEnabled = action.payload;\n    },\n    setSenseHatEnabled: (state, action) => {\n      state.senseHatEnabled = action.payload;\n    },\n    triggerDraw: (state) => {\n      state.drawTriggered = true;\n    },\n    updateProjectComponent: (state, action) => {\n      const extension = action.payload.extension;\n      const fileName = action.payload.name;\n      const code = action.payload.code;\n\n      const mapped = state.project.components.map(item => {\n        if (item.extension !== extension || item.name !== fileName) {\n          return item;\n        }\n\n        return { ...item, ...{ content: code } };\n      })\n      state.project.components = mapped;\n    },\n    updateProjectName: (state, action) => {\n      state.project.name = action.payload;\n      state.saving = 'idle'\n    },\n    updateComponentName: (state, action) => {\n      const key = action.payload.key;\n      const name = action.payload.name;\n      const extension = action.payload.extension\n      const oldName = `${state.project.components[key].name}.${state.project.components[key].extension}`\n      state.project.components[key].name = name;\n      state.project.components[key].extension = extension;\n      if (state.openFiles.includes(oldName)) {\n        state.openFiles[state.openFiles.indexOf(oldName)] = `${name}.${extension}`\n      }\n      state.saving = 'idle'\n    },\n    setError: (state, action) => {\n      state.error = action.payload;\n    },\n    triggerCodeRun: (state) => {\n      state.codeRunTriggered = true;\n    },\n    stopCodeRun: (state) => {\n      state.codeRunStopped = true;\n    },\n    stopDraw: (state) => {\n      state.drawTriggered = false;\n    },\n    codeRunHandled: (state) => {\n      state.codeRunTriggered = false;\n      state.codeRunStopped = false;\n    },\n    closeAccessDeniedNoAuthModal: (state) => {\n      state.accessDeniedNoAuthModalShowing = false\n      state.modals = {}\n    },\n    closeAccessDeniedWithAuthModal: (state) => {\n      state.accessDeniedWithAuthModalShowing = false\n    },\n    showBetaModal: (state) => {\n      state.betaModalShowing = true\n    },\n    closeBetaModal: (state) => {\n      state.betaModalShowing = false\n    },\n    showLoginToSaveModal: (state) => {\n      state.loginToSaveModalShowing = true\n    },\n    closeLoginToSaveModal: (state) => {\n      state.loginToSaveModalShowing = false\n    },\n    closeNotFoundModal: (state) => {\n      state.notFoundModalShowing = false\n    },\n    showNewFileModal: (state) => {\n      state.newFileModalShowing = true\n    },\n    closeNewFileModal: (state) => {\n      state.newFileModalShowing = false\n      state.nameError = ''\n    },\n    showRenameFileModal: (state, action) => {\n      state.modals.renameFile = action.payload\n      state.renameFileModalShowing = true\n    },\n    closeRenameFileModal: (state) => {\n      state.renameFileModalShowing = false\n      state.nameError = ''\n    },\n    showRenameProjectModal: (state, action) => {\n      state.modals.renameProject = action.payload\n      state.renameProjectModalShowing = true\n    },\n    closeRenameProjectModal: (state) => {\n      state.modals.renameProject = null\n      state.renameProjectModalShowing = false\n    },\n    showDeleteProjectModal: (state, action) => {\n      state.modals.deleteProject = action.payload\n      state.deleteProjectModalShowing = true\n    },\n    closeDeleteProjectModal: (state) => {\n      state.modals.deleteProject = null\n      state.deleteProjectModalShowing = false\n    },\n    setProjectIndexPage: (state, action) => {\n      state.projectIndexCurrentPage = action.payload\n      state.projectListLoaded = 'idle'\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addCase('editor/saveProject/pending', (state) => {\n      state.saving = 'pending'\n    })\n    builder.addCase('editor/saveProject/fulfilled', (state, action) => {\n      localStorage.removeItem(state.project.identifier || 'project')\n      state.lastSaveAutosave = action.payload.autosave\n      state.saving = 'success'\n      state.lastSavedTime = Date.now()\n\n      if (state.renameProjectModalShowing){\n        state.modals.renameProject = null\n        state.renameProjectModalShowing = false\n        state.projectListLoaded = 'idle'\n      } else if (state.project.identifier !== action.payload.project.identifier) {\n        state.project.image_list = state.project.image_list || []\n        state.project = action.payload.project\n        state.loading = 'idle'\n      }\n    })\n    builder.addCase('editor/saveProject/rejected', (state) => {\n      state.saving = 'failed'\n    })\n    builder.addCase('editor/remixProject/fulfilled', (state, action) => {\n      state.lastSaveAutosave = false\n      state.saving = 'success'\n      state.project = action.payload.project\n      state.loading = 'idle'\n    })\n    builder.addCase('editor/loadProject/pending', (state, action) => {\n      state.loading = 'pending'\n      state.accessDeniedNoAuthModalShowing = false\n      state.modals = {}\n      state.currentLoadingRequestId = action.meta.requestId\n    })\n    builder.addCase('editor/loadProject/fulfilled', (state, action) => {\n      if (state.loading === 'pending' && state.currentLoadingRequestId === action.meta.requestId) {\n        state.project = action.payload.project\n        state.loading = 'success'\n        state.justLoaded  = true\n        state.saving = 'idle'\n        state.currentLoadingRequestId = undefined\n        if (state.openFiles.length === 0) {\n          if (state.project.project_type === 'html') {\n            state.openFiles.push('index.html')\n          } else {\n            state.openFiles.push('main.py')\n          }\n        }\n      }\n    })\n    builder.addCase('editor/loadProject/rejected', (state, action) => {\n      if (state.loading === 'pending' && state.currentLoadingRequestId === action.meta.requestId) {\n        state.loading = 'failed'\n        state.saving = 'idle'\n        const splitErrorMessage = action.error.message.split(' ')\n        const errorCode = splitErrorMessage[splitErrorMessage.length - 1]\n        if (errorCode === '404') {\n          state.notFoundModalShowing = true\n        } else if ((errorCode === '500' || errorCode === '403') && action.meta.arg.accessToken) {\n          state.accessDeniedWithAuthModalShowing = true\n        } else if ((errorCode === '500' || errorCode === '403') && !action.meta.arg.accessToken) {\n          state.accessDeniedNoAuthModalShowing = true\n          state.modals.accessDenied = {\n            identifier: action.meta.arg.identifier,\n            projectType: action.meta.arg.projectType\n          }\n        }\n        state.currentLoadingRequestId = undefined\n      }\n    })\n    builder.addCase('editor/deleteProject/fulfilled', (state) => {\n      state.projectListLoaded = 'idle'\n      state.modals.deleteProject = null\n      state.deleteProjectModalShowing = false\n    })\n    builder.addCase('editor/loadProjectList/pending', (state) => {\n      state.projectListLoaded = 'pending'\n    })\n    builder.addCase('editor/loadProjectList/fulfilled', (state, action) => {\n      if (action.payload.projects.length > 0 || action.payload.page === 1) {\n        state.projectListLoaded = 'success'\n        state.projectList = action.payload.projects\n        const links = action.payload.links\n        state.projectIndexTotalPages = links && links.last ? parseInt(links.last.page) : action.payload.page\n      } else {\n        state.projectIndexCurrentPage = state.projectIndexCurrentPage - 1\n        state.projectListLoaded = 'idle'\n      }\n    })\n    builder.addCase('editor/loadProjectList/rejected', (state) => {\n      state.projectListLoaded = 'failed'\n    })\n  }\n})\n\n// Action creators are generated for each case reducer function\nexport const {\n  addProjectComponent,\n  codeRunHandled,\n  expireJustLoaded,\n  closeFile,\n  openFile,\n  setFocussedFileIndex,\n  setEmbedded,\n  setError,\n  setIsSplitView,\n  setNameError,\n  setHasShownSavePrompt,\n  setProject,\n  setSenseHatAlwaysEnabled,\n  setSenseHatEnabled,\n  stopCodeRun,\n  stopDraw,\n  triggerCodeRun,\n  triggerDraw,\n  updateComponentName,\n  updateImages,\n  updateProjectComponent,\n  updateProjectName,\n  closeAccessDeniedNoAuthModal,\n  closeAccessDeniedWithAuthModal,\n  showBetaModal,\n  closeBetaModal,\n  showLoginToSaveModal,\n  closeLoginToSaveModal,\n  closeNotFoundModal,\n  showNewFileModal,\n  closeNewFileModal,\n  showRenameFileModal,\n  closeRenameFileModal,\n  showRenameProjectModal,\n  closeRenameProjectModal,\n  showDeleteProjectModal,\n  closeDeleteProjectModal,\n  setProjectIndexPage,\n} = EditorSlice.actions\n\nexport default EditorSlice.reducer\n","import React, { useEffect, useRef, useState } from \"react\";\nimport Button from \"../../Button/Button\";\n\nimport './Dropdown.scss'\n\nconst Dropdown = (props) => {\n  const {ButtonIcon, buttonImage, buttonImageAltText, buttonText, MenuContent} = props\n  const [isOpen, setOpen] = useState(false)\n  const dropdown = useRef()\n  \n  useEffect(() => {\n    /**\n     * Close menu if clicked outside of element\n     */\n    function handleClickOutside(event) {\n      if (dropdown.current && !dropdown.current.contains(event.target)) {\n        setOpen(false)\n      }\n    }\n    // Bind the event listener\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      // Unbind the event listener on clean up\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [dropdown]);\n\n  const handleKeyDown = (event) => {\n    if (event.key === 'Escape'){\n      setOpen(false);\n    }\n  }\n\n  return (\n    <div className='dropdown' ref={dropdown} onKeyDown={handleKeyDown}>\n      <Button\n        className={`btn--tertiary dropdown-button${isOpen ? ' dropdown-button--active' : ''}`}\n        onClickHandler={() => setOpen(!isOpen)}\n        buttonText={buttonText}\n        ButtonIcon={ButtonIcon}\n        buttonImage={buttonImage}\n        buttonImageAltText={buttonImageAltText}\n      />\n      \n      {isOpen ? \n      <>\n        <div className='dropdown-backdrop' onClick={() => setOpen(false)}></div>\n        <MenuContent />\n      </> : null}\n    </div>\n  )\n}\n\nexport default Dropdown\n","import React from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport { useTranslation } from \"react-i18next\";\nimport { FontIcon } from \"../../../Icons\";\nimport './FontSizeSelector.scss'\n\nconst COOKIE_PATHS = ['/', '/projects', '/python']\n\nconst FontSizeSelector = () => {\n  const [ cookies , setCookie, removeCookie] = useCookies(['fontSize'])\n  const fontSize = cookies.fontSize || \"small\"\n  const { t } = useTranslation()\n\n  const setFontSize = (fontSize) => {\n    if (cookies.fontSize) {\n      COOKIE_PATHS.forEach((path) => {\n        removeCookie('fontSize', {path})\n      })\n    }\n    setCookie('fontSize', fontSize, { path: '/' })\n  }\n\n  return (\n    <div className='font-size-selector'>\n      <div className='font-btn font-btn--small' onClick={() => setFontSize('small')}>\n        <button className={`font-btn__icon font-btn__icon--small ${fontSize==='small' ? 'font-btn__icon--active' : ''}`}>\n          <FontIcon size={15}/>\n        </button>\n        <p>{t('header.settingsMenu.textSizeOptions.small')}</p>\n      </div>\n      <div className='font-btn font-btn--medium' onClick={() => setFontSize('medium')}>\n        <button className={`font-btn__icon font-btn__icon--medium ${fontSize==='medium' ? 'font-btn__icon--active' : ''}`}>\n          <FontIcon size={23}/>\n        </button>\n        <p>{t('header.settingsMenu.textSizeOptions.medium')}</p>\n      </div>\n      <div className='font-btn font-btn--large' onClick={() => setFontSize('large')}>\n        <button className={`font-btn__icon font-btn__icon--large ${fontSize==='large' ? 'font-btn__icon--active' : ''}`}>\n          <FontIcon size={36}/>\n        </button>\n        <p>{t('header.settingsMenu.textSizeOptions.large')}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default FontSizeSelector\n","import React from 'react';\nimport { useCookies } from 'react-cookie';\nimport { useTranslation } from 'react-i18next';\n\nimport './ThemeToggle.scss'\nimport { MoonIcon, SunIcon } from '../../Icons';\n\nconst COOKIE_PATHS = ['/', '/projects', '/python']\n\nconst ThemeToggle = () => {\n  const [ cookies, setCookie, removeCookie ] = useCookies(['theme'])\n  const isDarkMode = cookies.theme===\"dark\" || (!cookies.theme && window.matchMedia(\"(prefers-color-scheme:dark)\").matches)\n  const { t } = useTranslation()\n\n  const setTheme = (theme) => {\n    if (cookies.theme) {\n      COOKIE_PATHS.forEach((path) => {\n        removeCookie('theme', {path})\n      })\n    }\n    setCookie('theme', theme, { path: '/' })\n  }\n\n  return (\n    <div className='theme-toggle'>\n      <div className='theme-btn theme-btn--light' onClick={() => setTheme('light')}>\n        <button className={`theme-btn__icon theme-btn__icon--light ${!isDarkMode ? 'theme-btn__icon--active' : null}`}>\n          <SunIcon />\n        </button>\n        <p>{t('header.settingsMenu.themeOptions.light')}</p>\n      </div>\n      <div className='theme-btn theme-btn--dark' onClick={() => setTheme('dark')}>\n        <button className={`theme-btn__icon theme-btn__icon--dark ${isDarkMode ? 'theme-btn__icon--active' : null}`}>\n          <MoonIcon />\n        </button>\n        <p>{t('header.settingsMenu.themeOptions.dark')}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default ThemeToggle\n","import React from \"react\";\n\nimport FontSizeSelector from \"../../Editor/FontSizeSelector/FontSizeSelector\";\nimport ThemeToggle from \"../../ThemeToggle/ThemeToggle\";\nimport './SettingsMenu.scss'\nimport { useTranslation } from 'react-i18next';\n\nconst SettingsMenu = () => {\n\n  const {t} = useTranslation()\n\n  return (\n    <div className='dropdown-container dropdown-container--bottom settings-menu'>\n      <h2>{t('header.settingsMenu.heading')}</h2>\n      <div className='settings-menu__theme'>\n        <h3>{t('header.settingsMenu.theme')}</h3>\n        <ThemeToggle />\n      </div>\n      <div className='settings-menu__font-size'>\n        <h3>{t('header.settingsMenu.textSize')}</h3>\n        <FontSizeSelector />\n      </div>\n    </div>\n  )\n}\n\nexport default SettingsMenu\n","import React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { PencilIcon } from '../../Icons';\nimport Button from '../Button/Button';\nimport { updateProjectName } from '../Editor/EditorSlice';\n\nimport './ProjectName.scss';\n\nconst ProjectName = () => {\n  const project = useSelector((state) => state.editor.project)\n  const dispatch = useDispatch();\n  const { t } = useTranslation()\n  const nameInput= useRef();\n  const [isEditable, setEditable] = useState(false)\n\n  useEffect(() => {\n    if (isEditable) {\n      nameInput.current.focus()\n    }\n  })\n\n  const updateName = () => {\n    setEditable(false)\n    dispatch(updateProjectName(nameInput.current.value))\n  }\n  const onEditNameButtonClick = () => {\n    setEditable(true)\n  }\n\n  const handleKeyDown = (event) => {\n    if (event.key === 'Enter') {\n      event.preventDefault()\n      nameInput.current.blur()\n    } else if (event.key === 'Escape') {\n      event.preventDefault()\n      setEditable(false)\n    }\n  }\n\n  return (\n   <div className='project-name'>\n    {isEditable ? \n      <input\n        className='project-name__input'\n        ref={nameInput}\n        type='text'\n        onBlur={updateName}\n        onKeyDown={handleKeyDown}\n        defaultValue={project.name} />\n      :\n      <>\n        <h1 className='project-name__title'>PROJEKTTITEL</h1>\n        \n      </>\n      }\n    </div>\n  )\n};\n\nexport default ProjectName;\n","export default __webpack_public_path__ + \"static/media/editor_logo.0ec1b29d.svg\";","import FileSaver from \"file-saver\";\nimport { toSnakeCase } from \"js-convert-case\";\nimport JSZip from \"jszip\";\nimport JSZipUtils from \"jszip-utils\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport Button from \"../Button/Button\";\nimport { closeLoginToSaveModal } from \"../Editor/EditorSlice\";\n\nconst DownloadButton = (props) => {\n  const { buttonText, className, Icon } = props\n  const { t } = useTranslation()\n  const project = useSelector((state) => state.editor.project)\n\n\n  const loginToSaveModalShowing = useSelector((state) => state.editor.loginToSaveModalShowing)\n  const dispatch = useDispatch()\n\n  const urlToPromise = (url) => {\n    return new Promise(function(resolve, reject) {\n      JSZipUtils.getBinaryContent(url, function (err, data) {\n        if(err) {\n          reject(err);\n        } else {\n          resolve(data);\n        }\n      });\n    });\n  }\n\n  const onClickDownload = async () => {\n    if (loginToSaveModalShowing) {\n      dispatch(closeLoginToSaveModal())\n    }\n    const zip = new JSZip()\n\n    project.components.forEach((file) => {\n      zip.file(`${file.name}.${file.extension}`, file.content)\n    })\n\n    project.image_list.forEach((image) => {\n      zip.file(image.filename, urlToPromise(image.url), {binary: true} )\n    })\n\n    const content = await zip.generateAsync({type: 'blob'})\n    FileSaver.saveAs(content, `${toSnakeCase(project.name || t('header.downloadFileNameDefault', {project_type: project.project_type}))}`)\n  }\n\n  return (\n    <Button\n      className={className}\n      onClickHandler={onClickDownload}\n      buttonText={buttonText}\n      ButtonIcon={Icon}\n    />\n  )\n}\n\nexport default DownloadButton\n","export const isOwner = (user, project) => {\n  return (\n    user && user.profile && \n    (user.profile.user === project.user_id || !project.identifier)\n  )\n}\n  ","import './Header.scss'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useTranslation } from 'react-i18next';\nimport Autosave from './Autosave';\nimport Button from '../Button/Button';\nimport { DownloadIcon, HomeIcon, SettingsIcon } from '../../Icons';\nimport { syncProject, showLoginToSaveModal } from '../Editor/EditorSlice';\nimport Dropdown from '../Menus/Dropdown/Dropdown';\nimport SettingsMenu from '../Menus/SettingsMenu/SettingsMenu';\nimport ProjectName from './ProjectName';\nimport editor_logo from '../../assets/editor_logo.svg'\nimport DownloadButton from './DownloadButton';\nimport { isOwner } from '../../utils/projectHelpers'\nimport { Link } from 'react-router-dom';\n\nconst Header = () => {\n  const dispatch = useDispatch()\n  const { t, i18n } = useTranslation()\n  \n  const user = useSelector((state) => state.auth.user)\n  const project = useSelector((state) => state.editor.project)\n  const loading = useSelector((state) => state.editor.loading)\n  const saving = useSelector((state) => state.editor.saving)\n  const lastSavedTime = useSelector((state) => state.editor.lastSavedTime)\n  const locale = i18n.language\n\n  const onClickSave = async () => {\n    window.plausible('Save button')\n    const content = project.components[0].content;\n    console.log(content);\n    const filePath = 'SAVEPATH';\n    const saveFile = true;\n    \n    // AJAX-Anfrage erstellen\n    const xhr = new XMLHttpRequest();\n    const url = 'SAVESCRIPT'; \n    \n    // Daten vorbereiten\n    const formData = new FormData();\n    formData.append('file_content', content);\n    formData.append('file_path', filePath);\n    formData.append('saveFile', saveFile);\n    \n    // AJAX-Anfrage konfigurieren\n    xhr.open('POST', url, true);\n    xhr.onreadystatechange = function() {\n        if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {\n            localStorage.removeItem('project');\n            window.location.href = 'SAVEHEADER';\n        } else {\n            console.log('Error while saving the file.');\n        }\n    };\n    \n    // AJAX-Anfrage senden\n    xhr.send(formData);\n\n  }\n\n  const onClickClose = () => {\n    window.plausible('Close button')\n    localStorage.removeItem('project');\n    window.location.href = 'BACKHEADER';\n  }\n\n  return loading === 'success' && (\n    <div className='editor-header-wrapper'>\n      <header className='editor-header'>\n        <img className='editor-logo' src={editor_logo} alt={t('header.editorLogoAltText')}/>\n        { user !== null ? (\n          <Link to={`${locale}/projects`} className='project-gallery-link' reloadDocument>\n            {<><HomeIcon />\n            <span className='editor-header__text'>{t('header.projects')}</span></>}</Link>\n        ) : null }\n        { loading === 'success' ? <ProjectName /> : null }\n        <div className='editor-header__right'>\n          { lastSavedTime && user ? <Autosave saving={saving} lastSavedTime={lastSavedTime} /> : null }\n          { loading === 'success' ?\n          <DownloadButton buttonText={t('header.download')} className='btn--tertiary' Icon={DownloadIcon}/>\n          : null }\n          <Dropdown\n            ButtonIcon={SettingsIcon}\n            buttonText={t('header.settings')}\n            MenuContent={SettingsMenu} />\n          <Button buttonText = 'Schlieen' onClickHandler = {onClickClose} className='btn--tertiary'/>\n          {loading === 'success' ?\n            <Button className='btn--primary btn--save' onClickHandler = {onClickSave} buttonText = {t('header.save')} />\n          : null }\n        </div>\n      </header>\n    </div>\n  )\n};\n\nexport default Header;\n","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\n\ni18n\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  .use(LanguageDetector)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    debug: false,\n    fallbackLng: \"en\",\n    locales: [\n      \"en\",\n      \"ar-SA\",\n      \"ca-ES\",\n      \"cs-CZ\",\n      \"me-ME\",\n      \"cy-GB\",\n      \"da-DK\",\n      \"de-DE\",\n      \"el-GR\",\n      \"et-EE\",\n      \"es-ES\",\n      \"es-LA\",\n      \"fr-FR\",\n      \"he-IL\",\n      \"hi-IN\",\n      \"hr-HR\",\n      \"it-IT\",\n      \"ja-JP\",\n      \"kn-IN\",\n      \"ko-KR\",\n      \"mr-IN\",\n      \"hu-HU\",\n      \"nl-NL\",\n      \"no-NO\",\n      \"pl-PL\",\n      \"pt-BR\",\n      \"pt-PT\",\n      \"ro-RO\",\n      \"ru-RU\",\n      \"sk-SK\",\n      \"sl-SI\",\n      \"fi-FI\",\n      \"sv-SE\",\n      \"vls-BE\",\n      \"sr-SP\",\n      \"tr-TR\",\n      \"uk-UA\",\n      \"zh-CN\",\n      \"zh-TW\",\n    ],\n    // currently supportedLngs is the same as locales but clever lang loading\n    // could reduce the number of supported translation files e.g. 'fr' over 'fr-FR' + variants\n    supportedLngs: [\n      \"en\",\n      \"ar-SA\",\n      \"ca-ES\",\n      \"cs-CZ\",\n      \"me-ME\",\n      \"cy-GB\",\n      \"da-DK\",\n      \"de-DE\",\n      \"el-GR\",\n      \"et-EE\",\n      \"es-ES\",\n      \"es-LA\",\n      \"fr-FR\",\n      \"he-IL\",\n      \"hi-IN\",\n      \"hr-HR\",\n      \"it-IT\",\n      \"ja-JP\",\n      \"kn-IN\",\n      \"ko-KR\",\n      \"mr-IN\",\n      \"hu-HU\",\n      \"nl-NL\",\n      \"no-NO\",\n      \"pl-PL\",\n      \"pt-BR\",\n      \"pt-PT\",\n      \"ro-RO\",\n      \"ru-RU\",\n      \"sk-SK\",\n      \"sl-SI\",\n      \"fi-FI\",\n      \"sv-SE\",\n      \"vls-BE\",\n      \"sr-SP\",\n      \"tr-TR\",\n      \"uk-UA\",\n      \"zh-CN\",\n      \"zh-TW\",\n    ],\n    load: \"currentOnly\", // otherwise for fr-FR it's load ['fr-FR', 'fr']\n\n    // nonExplicitSupportedLngs: true, // allows locale variants on supportedLngs\n    //detection: {\n    //  order: [\"path\"], // only use path to detect local for now\n    //},\n\n    interpolation: {\n      escapeValue: false, // not needed for react!!\n    },\n    resources: {\n      en: {\n        translation: {\n          // here we will place our translations...\n          betaBanner: {\n            buttonLabel: \"close\",\n            buttonTitle: \"close\",\n            message: \"The Code Editor is in beta.\",\n            modal: {\n              close: \"Close\",\n              heading: \"Code Editor is in beta\",\n              meaningHeading: \"What does beta mean?\",\n              meaningText:\n                \"Beta means that we are not quite finished yet, and some things might not look or work as well as wed like. However, it also means you are one of the first people to use our new Code Editor!\",\n              whatNextHeading: \"What next?\",\n              whatNextText:\n                \"We'll soon be asking for your feedback, so we can work on making it better for you, and other digital makers.\",\n            },\n            modalLink: \"What does this mean?\",\n          },\n          editorPanel: {\n            ariaLabel: \"editor text input\",\n          },\n          filePane: {\n            errors: {\n              containsSpaces: \"File names must not contain spaces.\",\n              generalError: \"Error\",\n              notUnique: \"File names must be unique.\",\n              or: \"or\",\n              unsupportedExtension:\n                \"File names must end in {{allowedExtensions}}.\",\n            },\n            files: \"Project files\",\n            images: \"Image gallery\",\n            newFileButton: \"Add file\",\n            newFileModal: {\n              cancel: \"Cancel\",\n              heading: \"Add a new file to your project\",\n              inputLabel: \"Name your file\",\n              save: \"Save\",\n            },\n            renameFileModal: {\n              cancel: \"Cancel\",\n              heading: \"Rename file\",\n              inputLabel: \"Name your file\",\n              save: \"Save\",\n            },\n            fileMenu: {\n              label: \"Open file menu\",\n              renameItem: \"Rename file\",\n            },\n          },\n          footer: {\n            accessibility: \"Accessibility\",\n            charityNameAndNumber:\n              \"Raspberry Pi Foundation UK registered charity 1129409\",\n            cookies: \"Cookies\",\n            privacy: \"Privacy\",\n            safeguarding: \"Safeguarding\",\n          },\n          globalNav: {\n            accountMenu: {\n              login: \"Log in\",\n              logout: \"Log out\",\n              profile: \"My profile\",\n              projects: \"My projects\",\n            },\n            accountMenuDefaultAltText: \"Account menu\",\n            accountMenuProfileAltText: \"{{name}}'s account\",\n            raspberryPiLogoAltText: \"Raspberry Pi logo\",\n          },\n          header: {\n            autoSaving: \"Saving\",\n            autoSaved: \"Saved\",\n            buttonLabel: \"Edit project name\",\n            buttonTitle: \"Edit project name\",\n            download: \"Herunterladen\",\n            downloadFileNameDefault: \"my {{project_type}} project\",\n            editorLogoAltText: \"Editor logo\",\n            newProject: \"New Project\",\n            projects: \"Your projects\",\n            save: \"Speichern\",\n            settings: \"Einstellungen\",\n            settingsMenu: {\n              heading: \"Einstellungen\",\n              textSize: \"Textgre\",\n              textSizeOptions: {\n                large: \"Gro\",\n                medium: \"Mittel\",\n                small: \"Klein\",\n              },\n              theme: \"Farbschema\",\n              themeOptions: {\n                dark: \"Dunkel\",\n                light: \"Hell\",\n              },\n            },\n          },\n          input: {\n            comment: {\n              py5: \"Py5: imported mode\",\n            },\n          },\n          loginToSaveModal: {\n            cancel: \"Cancel\",\n            downloadButtonText: \"Download\",\n            downloadText:\n              \"Or you can download your project and save it on your computer.\",\n            heading: \"Save your project\",\n            loginButtonText: \"Log in to save\",\n            loginText:\n              \"Log in to your Raspberry Pi account to save your work, and you'll be able to access and edit your project whenever you need to.\",\n          },\n          notifications: {\n            close: \"close\",\n            loginPrompt:\n              \"Vergiss nicht deine Arbeit regelmig zu speichern, damit sie nicht verloren geht!\",\n            projectRemixed: \"Your remixed project has been saved\",\n            projectRenamed: \"You have renamed your project.\",\n            projectSaved: \"Your project has been saved\",\n            savePrompt:\n              'Save this project to access it later under \"Your projects\".',\n          },\n          output: {\n            errors: {\n              interrupted: \"Ausfhrung abgebrochen.\",\n            },\n            senseHat: {\n              controls: {\n                colour: \"colour\",\n                humidity: \"humidity\",\n                motion: \"motion\",\n                motionSensorOptions: {\n                  no: \"No\",\n                  yes: \"Yes\",\n                },\n                name: \"Space Station Control Panel\",\n                pressure: \"pressure\",\n                temperature: \"temperature\",\n                timer: \"timer\",\n              },\n              model: {\n                pitch: \"pitch\",\n                roll: \"roll\",\n                yaw: \"yaw\",\n              },\n            },\n            textOutput: \"Textausgabe\",\n            visualOutput: \"Bildausgabe\",\n          },\n          outputViewToggle: {\n            buttonTabLabel: \"Vertikal geteilte Ansicht\",\n            buttonTabTitle: \"Vertikal geteilte Ansicht\",\n            buttonSplitLabel: \"Horizontal geteilte Ansicht\",\n            buttonSplitTitle: \"Horizontal geteilte Ansicht\",\n          },\n          project: {\n            accessDeniedNoAuthModal: {\n              heading: \"You are not able to see this project\",\n              loginButtonText: \"Log in to your account\",\n              newProject: \"Create a new code project\",\n              projectsSiteLinkText: \"Explore project site\",\n              text: \"If this is your project, log in to see it. If this is not your project you can visit the project site for cool project ideas or start coding in a new project.\",\n            },\n            accessDeniedWithAuthModal: {\n              heading: \"You can't access this project\",\n              newProject: \"Create a new code project\",\n              projectsSiteLinkText: \"Explore project site\",\n              text: \"Visit the project site for cool project ideas or start coding in a new project.\",\n            },\n            loading: \"Loading\",\n            notFoundModal: {\n              heading: \"This project does not exist\",\n              newProject: \"Start new code project\",\n              projectsSiteLinkText: \"Explore project site\",\n              text: \"You can start coding in a new project, or visit the project site for cool project ideas.\",\n            },\n            untitled: \"Neues Projekt\",\n          },\n          projectHeader: {\n            subTitle: \"Code Editor\",\n            title: \"Your projects\",\n            text: \"Select a project to edit, view and open to continue coding.\",\n          },\n          projectList: {\n            delete: \"Delete\",\n            deleteLabel: \"Delete project\",\n            deleteProjectModal: {\n              cancel: \"Cancel\",\n              delete: \"Delete\",\n              heading: \"Delete project\",\n              text: \"Are you sure you want to delete this project?\",\n            },\n            empty: \"No projects created yet\",\n            label: \"Open project menu\",\n            loading: \"Loading\",\n            loadingFailed: \"Failed to load projects\",\n            pagination: {\n              first: \"First page\",\n              last: \"Last page\",\n              next: \"Next page\",\n              previous: \"Previous page\",\n              more: \"Load more projects\",\n            },\n            rename: \"Rename\",\n            renameLabel: \"Rename project\",\n            renameProjectModal: {\n              cancel: \"Do not save\",\n              heading: \"Rename project\",\n              inputLabel: \"Change the name of your project\",\n              save: \"Save\",\n            },\n            updated: \"Edited\",\n          },\n          runButton: {\n            run: \"Ausfhren\",\n            stop: \"Stop\",\n            stopping: \"Stoppen...\",\n          },\n          sideMenu: {\n            collapse: \"Collapse file pane\",\n            expand: \"Expand file pane\",\n            file: \"Project files\",\n          },\n        },\n      },\n    },\n  });\n\nexport default i18n;\n","import i18n from \"../i18n\";\n\nexport const defaultPythonProject = {\n  project_type: 'python',\n  name: i18n.t('project.untitled'),\n  locale: null,\n  components: [\n    { extension: 'py', name: 'main',\n      content: \"\", default: true },\n  ],\n  image_list: []\n}\n\nexport const defaultHtmlProject = {\n  project_type: 'html',\n  name: i18n.t('project.untitled'),\n  components: [\n    { extension: 'html', name: 'index',\n      content: \"<html>\\n  <head>\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"style.css\\\">\\n  </head> <body>\\n    <h1>Heading</h1>\\n    <p>Paragraph</p>\\n  </body>\\n</html>\" },\n    { extension: 'css', name: 'style', content: \"h1 {\\n  color: blue;\\n}\" },\n    { extension: 'css', name: 'test', content: \"p {\\n  background-color: red;\\n}\" }\n  ]\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { syncProject, setProject } from \"../EditorSlice\";\nimport { defaultPythonProject } from \"../../../utils/defaultProjects\";\nimport { useTranslation } from \"react-i18next\";\n\nexport const useProject = (projectIdentifier = null, accessToken = null) => {\n  const getCachedProject = (id) =>\n    JSON.parse(localStorage.getItem(id || \"project\"));\n  const [cachedProject, setCachedProject] = useState(\n    getCachedProject(projectIdentifier)\n  );\n  const { i18n } = useTranslation();\n  const dispatch = useDispatch();\n\n  const loadCachedProject = () => {\n    dispatch(setProject(cachedProject));\n  };\n\n  useEffect(() => {\n    setCachedProject(getCachedProject(projectIdentifier));\n  }, [projectIdentifier]);\n\n  useEffect(() => {\n    const is_cached_saved_project =\n      projectIdentifier &&\n      cachedProject &&\n      cachedProject.identifier === projectIdentifier;\n    const is_cached_unsaved_project = !projectIdentifier && cachedProject;\n\n    if (is_cached_saved_project || is_cached_unsaved_project) {\n      loadCachedProject();\n      return;\n    }\n\n    if (projectIdentifier) {\n      dispatch(\n        syncProject(\"load\")({\n          identifier: projectIdentifier,\n          locale: i18n.language,\n          accessToken,\n        })\n      );\n      return;\n    }\n    const data = defaultPythonProject;\n    dispatch(setProject(data));\n  }, [projectIdentifier, cachedProject, i18n.language, accessToken]);\n};\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect } from 'react';\nimport { useDispatch } from 'react-redux'\nimport { setEmbedded } from '../EditorSlice'\n\nexport const useEmbeddedMode = (embed = false) => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (embed) {\n      dispatch(setEmbedded());\n    }\n  }, []);\n};\n","import { EditorView } from '@codemirror/view';\n\nexport const editorLightTheme = EditorView.theme({\n  \".cm-activeLine\": {\n    \"background-color\": \"inherit\",\n  },\n  \".cm-activeLineGutter\": {\n    \"background-color\": \"inherit\",\n    \"color\": \"inherit\"\n  },\n  \".cm-gutters\": {\n    \"border\": \"none\",\n    \"color\": \"black\",\n    \"background-color\": \"white\"\n  },\n  \".cm-line .cm-indentation-marker\": {\n    'background': 'none',\n    'border-left': 'solid lightgrey',\n    \"&.active\": {\n      'background': 'none',\n      'border-left': 'solid grey',\n    }\n  },\n}, {dark: false})\n","import { EditorView } from '@codemirror/view';\nimport '../../font-weight.scss';\nimport '../../font-size.scss';\nimport '../../line-height.scss';\n\nexport const editorDarkTheme = EditorView.theme({\n  \".cm-gutters\": {\n    \"background-color\": \"#2A2B32\",\n    \"color\": \"white\",\n    \"border\": \"none\"\n  },\n  \".cm-activeLine\": {\n    \"background-color\": \"inherit\",\n  },\n  \".cm-activeLineGutter\": {\n    \"background-color\": \"inherit\",\n    \"color\": \"inherit\"\n  },\n  \"&.cm-focused .cm-selectionBackground, ::selection\": {\n    \"background\": \"#144866\"\n  },\n  \"&.cm-focused .cm-cursor\": {\n    borderLeftColor: \"white\"\n  },\n  \".cm-line .cm-indentation-marker\": {\n    'background': 'none',\n    'border-left': 'solid grey',\n    \"&.active\": {\n      'background': 'none',\n      'border-left': 'solid lightgrey',\n    }\n  },\n  \".b\": {color: \"#FF00A4\"},\n  \".c\": {color: \"#1498D0\"},\n  \".d\": {color: \"#1498D0\"},\n  \".e\": {color: \"#6CE68D\"},\n  \".g\": {color: \"#1498D0\"},\n  \".j\": {color: \"#1498D0\"},\n  \".m\": {color: \"#C1C1C1\"},\n}, {dark: true})\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport './EditorPanel.scss'\nimport React, { useRef, useEffect, useContext } from 'react';\nimport { useSelector, useDispatch } from 'react-redux'\nimport { updateProjectComponent } from '../EditorSlice'\nimport { useCookies } from 'react-cookie';\nimport { useTranslation } from \"react-i18next\";\nimport { basicSetup } from 'codemirror'\nimport { EditorView, keymap } from '@codemirror/view'\nimport { EditorState } from '@codemirror/state'\nimport { defaultKeymap, indentWithTab } from '@codemirror/commands'\nimport { indentationMarkers } from '@replit/codemirror-indentation-markers'\nimport { indentUnit } from '@codemirror/language';\n\nimport { html } from '@codemirror/lang-html'\nimport { css } from '@codemirror/lang-css'\nimport { python } from '@codemirror/lang-python'\n\nimport { editorLightTheme } from '../editorLightTheme'\nimport { editorDarkTheme } from '../editorDarkTheme'\nimport { SettingsContext } from '../../../settings';\n\nconst EditorPanel = ({\n  extension = 'html',\n  fileName = 'index'\n}) => {\n  const editor = useRef();\n  const project = useSelector((state) => state.editor.project);\n  const [cookies] = useCookies(['theme', 'fontSize'])\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const settings = useContext(SettingsContext)\n  let timeout;\n\n  const updateStoredProject = (content) => {\n    dispatch(updateProjectComponent({ extension: extension, name: fileName, code: content}));\n  }\n\n  const label = EditorView.contentAttributes.of({ 'aria-label': t('editorPanel.ariaLabel') });\n  const onUpdate = EditorView.updateListener.of((viewUpdate) => {\n    if(viewUpdate.docChanged) {\n      if (['html', 'css'].includes(extension)) {\n        if(timeout) clearTimeout(timeout);\n        timeout = window.setTimeout(\n          function() {\n            updateStoredProject(viewUpdate.state.doc.toString());\n          }, 2000);\n      } else {\n        updateStoredProject(viewUpdate.state.doc.toString());\n      }\n    }\n  });\n\n  const getMode = () => {\n    switch (extension) {\n      case 'html':\n        return html();\n      case 'css':\n        return css();\n      case 'py':\n        return python();\n      default:\n        return html();\n    }\n  }\n  const isDarkMode = cookies.theme===\"dark\" || (!cookies.theme && window.matchMedia(\"(prefers-color-scheme:dark)\").matches)\n  const editorTheme = isDarkMode ? editorDarkTheme : editorLightTheme\n\n  useEffect(() => {\n    const code = `PROJEKTINHALT`;\n    // Update das im Redux Store gespeicherte Projekt\n    updateStoredProject(code);\n    const mode = getMode();\n    const startState = EditorState.create({\n      doc: code,\n      extensions: [\n        basicSetup,\n        keymap.of([defaultKeymap, indentWithTab]),\n        mode,\n        label,\n        onUpdate,\n        editorTheme,\n        indentationMarkers(),\n        indentUnit.of('    '),\n      ],\n    });\n\n    const view = new EditorView({\n      lineWrapping: true,\n      state: startState,\n      parent: editor.current,\n    });\n\n    // 'aria-hidden' to fix keyboard access accessibility error\n    view.scrollDOM.setAttribute('aria-hidden', 'true')\n\n    // Add alt text to hidden images to fix accessibility error\n    const hiddenImages = view.contentDOM.getElementsByClassName('cm-widgetBuffer');\n    for (let img of hiddenImages) {\n      img.setAttribute('role', 'presentation')\n    }\n\n    return () => {\n      view.destroy();\n    };\n  }, [cookies]);\n\n  return (\n    <div className={`editor editor--${settings.fontSize}`} ref={editor}></div>\n  );\n}\n\nexport default EditorPanel;\n","import React from 'react';\nimport { useSelector } from 'react-redux'\n\nconst ExternalFiles = () => {\n  const project = useSelector((state) => state.editor.project);\n\n  return (\n  <div id='file-content' hidden>\n  {project.components.map((file, i) => {\n    if(['csv', 'txt'].includes(file.extension)) {\n      return <div id={`${file.name}.${file.extension}`} key={i}>{file.content}</div>\n    }\n    return null\n  })}\n\n  </div>\n  )\n};\n\nexport default ExternalFiles\n","import React, { useContext } from 'react'\nimport './ErrorMessage.scss'\nimport { useSelector } from 'react-redux'\nimport { SettingsContext } from '../../../settings';\n\nconst ErrorMessage = () => {\n  const error = useSelector((state) => state.editor.error);\n  const settings = useContext(SettingsContext)\n\n  return error ? (\n    <div className={`error-message error-message--${settings.fontSize}`}>\n      <p className='error-message__content'>{ error }</p>\n    </div>\n  ) : null;\n};\n\nexport default ErrorMessage;\n","import { createUserManager } from \"redux-oidc\";\nimport { WebStorageStateStore } from \"oidc-client\";\n\nconst host = `${window.location.protocol}//${window.location.hostname}${\n  window.location.port ? `:${window.location.port}` : \"\"\n}`;\n\nconst userManagerConfig = {\n  client_id: process.env.REACT_APP_AUTHENTICATION_CLIENT_ID,\n  redirect_uri: `${host}/auth/callback`,\n  response_type: \"code\",\n  scope: \"openid email profile force-consent allow-u13-login\",\n  authority: process.env.REACT_APP_AUTHENTICATION_URL,\n  silent_redirect_uri: `${host}/auth/silent_renew`,\n  automaticSilentRenew: true,\n  filterProtocolClaims: false,\n  loadUserInfo: false,\n  monitorSession: false,\n  userStore: new WebStorageStateStore({ store: window.localStorage }),\n  extraQueryParams: {\n    brand: \"editor\",\n    login_options: \"v1_signup\",\n  },\n};\n\nconst userManager = createUserManager(userManagerConfig);\n\nuserManager.events.addAccessTokenExpired(() => {\n  // If the token has expired, trigger the silent renew process\n  userManager.signinSilent();\n});\n\nexport default userManager;\n","import { configureStore } from '@reduxjs/toolkit'\nimport EditorReducer from '../components/Editor/EditorSlice'\nimport { reducer, loadUser } from 'redux-oidc'\nimport userManager from '../utils/userManager'\n\nconst store = configureStore({\n  reducer: {\n    editor: EditorReducer,\n    auth: reducer,\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: ['redux-oidc/USER_FOUND', 'redux-odic/SILENT_RENEW_ERROR'],\n        ignoredPaths: ['auth.user'],\n    },\n  }),\n})\n\nloadUser(store, userManager);\n\nexport default store;\n","import React from 'react';\n\nconst Lighting = () => {\n\n  return(\n    <>     \n      <ambientLight intensity={0.25} />\n      <pointLight intensity={0.35} angle={28} penumbra={2} position={[0.418, 16.199, 0.300]} castShadow />\n      <pointLight position={[-16.116, 14.37, 8.208]} intensity={0.5} castShadow/>\n      <pointLight position={[-16.109, 18.021, -8.207]} intensity={0.5} castShadow/>\n      <pointLight position={[14.904, 12.198, -1.832]} intensity={0.17} castShadow/>\n      <pointLight position={[- 0.462, 8.89, 14.520]} intensity={0.43} castShadow/>\n      <pointLight position={[3.235, 11.486, - 12.541]} intensity={0.2} castShadow/>\n      <pointLight position={[0.0, -20.0, 0.0]} intensity={0.5} castShadow/>\n    </>\n  )\n}\n\nexport default Lighting\n","var Geometry = {\n  _Eps: 1e-5\n};\n\n\nGeometry.Vector = function(x, y, z) {\n  this.x = x;\n  this.y = y;\n  this.z = z;\n}\n\nGeometry.Vector.prototype = {\n  length: function() {\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n  },\n  normalize: function() {\n    var length = this.length();\n    if (length <= Geometry._Eps)\n      return;\n\n    this.x /= length;\n    this.y /= length;\n    this.z /= length;\n  }\n}\n\n/**\n * Transposes a 2-dim Array\n *\n * @param {Array} a - 3x3 matrix\n *\n * @returns {Array} transposed a\n */\nGeometry.transpose3x3Matrix = function(a) {\n    var t = [[0, 0, 0], [0, 0, 0], [0, 0, 0]];\n\n    t[0][0] = a[0][0];\n    t[0][1] = a[1][0];\n    t[0][2] = a[2][0];\n\n    t[1][0] = a[0][1];\n    t[1][1] = a[1][1];\n    t[1][2] = a[2][1];\n\n    t[2][0] = a[0][2];\n    t[2][1] = a[1][2];\n    t[2][2] = a[2][2];\n\n    return t;\n}\n\n/**\n * Dot multiplication of a 3 by 3 and a 3 by 1 array\n *\n * @returns {Array} 3 by 1 array\n */\nGeometry.dot3x3and3x1 = function(a, b) {\n    var rs = [];\n\n    rs[0] = a[0][0]*b[0] + a[0][1] * b[1] + a[0][2] * b[2];\n    rs[1] = a[1][0]*b[0] + a[1][1] * b[1] + a[1][2] * b[2];\n    rs[2] = a[2][0]*b[0] + a[2][1] * b[1] + a[2][2] * b[2];\n\n    return rs;\n}\n\n/**\n * Mulitplies each array element in a with the scalar s\n *\n * @param {Array} a - array/vector with 3 elements\n * @param {Number} s - scalar\n *\n * @returns {Array}\n */\nGeometry.multiplyArrayWithScalar = function(a, s) {\n  return [\n      a[0] * s,\n      a[1] * s,\n      a[2] * s\n    ];\n}\n\n\n/**\n * Divides each array element in a by scalar s\n *\n * @param {Array} a - array/vector with 3 elements\n * @param {Number} s - scalar\n *\n * @returns {Array}\n */\nGeometry.divideArrayWithScalar = function(a, s) {\n  return [\n      a[0] / s,\n      a[1] / s,\n      a[2] / s\n    ];\n}\n\n\n// Some useful defaults for the orientation calculations\nGeometry.Defaults = {};\nGeometry.Defaults.O = [0, 0, 0]; // originm (0, 0, 0)\nGeometry.Defaults.X = [1, 0, 0]; // x mask\nGeometry.Defaults.Y = [0, 1, 0]; // y mask\nGeometry.Defaults.Z = [0, 0, 1]; // z mask\n\nGeometry.Defaults.NORTH = Geometry.multiplyArrayWithScalar(Geometry.Defaults.X, 0.33);\n\n// Gravity vector\nGeometry.Defaults.GRAVITY = Geometry.Defaults.Z;\n\n/**\n * Constrain/clamp a given value to upper and lower limit\n */\nGeometry.clamp = function(value, min_value, max_value) {\n    var clampVal = Math.min(max_value, Math.max(min_value, value))\n    return clampVal;\n}\n\n/**\n * Converts degrees to radians\n *\n * @param {Number|Array} deg - number or vector array (3 elements)\n *\n * @returns {Number|Array} depends on the deg param\n */\nGeometry.degToRad =  function(deg) {\n  if (deg instanceof Array) {\n    return [\n        deg[0] * Math.PI / 180,\n        deg[1] * Math.PI / 180,\n        deg[2] * Math.PI / 180\n    ];\n  }\n  return deg * Math.PI / 180;\n}\n\n/**\n * Converts radians to degrees\n *\n * @param {Number|Array} rad - number or vector array (3 elements)\n *\n * @returns {Number|Array} depends on the rad param\n */\nGeometry.radToDeg = function(rad) {\n  if (rad instanceof Array) {\n    return [\n        rad[0] * 180 / Math.PI,\n        rad[1] * 180 / Math.PI,\n        rad[2] * 180 / Math.PI\n    ];\n  }\n  return rad * 180 / Math.PI;\n}\n\nexport {Geometry}\n","import { Geometry } from './Geometry';\nimport Sk from 'skulpt';\n\nfunction getTimestamp () {\n  var time = Date.now(); // millis\n  var timestamp = time * 1e+3; // milliseconds\n  return timestamp;\n}\n\n/**\n* Update call for periodically updating our internal sensehat data object.\n*\n* The UI events and the polling are async and therefore we can \"simulate\"\n* even changes when the user does not rotate.\n*/\nexport function updateRTIMU() {\n// Retriev the previous timestamp\n  var oldTimestamp = Sk.sense_hat.rtimu.timestamp;\n\n  // Special case, if we call this function the first time and\n  // the window.sense_hat.rtimu object has not been initialized\n  if (oldTimestamp === null || oldTimestamp === undefined) {\n    oldTimestamp = getTimestamp();\n  }\n\n  // Get a new timestamp and calc the delta\n  var newTimestamp = getTimestamp();\n  var timeDelta = (newTimestamp - oldTimestamp) / 1e+6;\n\n  // Special case, when the delta is 0, everything gets null\n  // Using a sane interval should avoid this case\n  // Keeping it for now\n  //console.info(\"timeDelta\", timeDelta);\n  if (timeDelta === 0) {\n    timeDelta = 1;\n  }\n\n  // Get a copy of the old orientation in degrees (fusionPose is in radians)\n  var oldOrientation = Sk.sense_hat.rtimu.raw_old_orientation;\n\n  if (oldOrientation === null || oldOrientation === undefined) {\n    oldOrientation = [0,90,0];\n  }\n  var newOrientation = Geometry.degToRad(Sk.sense_hat.rtimu.raw_orientation);\n\n  // Gyro is the rate of change of the orientation\n  // Actually it is: gyro = (newOrientation - oldOrientation) / timeDelta\n  var _gyro = [\n    newOrientation[0] - oldOrientation[0],\n    newOrientation[1] - oldOrientation[1],\n    newOrientation[2] - oldOrientation[2]\n  ];\n\n  // Divide the orientation delta by the time delta\n  _gyro = Geometry.divideArrayWithScalar(_gyro, timeDelta);\n\n  // Now we need x, y, z in radians\n  var x = newOrientation[0]; // deOr.roll;\n  var y = newOrientation[1]; // deOr.pitch;\n  var z = newOrientation[2]; // deOr.yaw;\n\n  // Calculate values for the rotation matrix\n  var c1 = Math.cos(z);\n  var c2 = Math.cos(y);\n  var c3 = Math.cos(x);\n  var s1 = Math.sin(z);\n  var s2 = Math.sin(y);\n  var s3 = Math.sin(x);\n\n  // Rotation Matrix for the orientation (again euler angles)\n  var R = [\n    [c1 * c2, c1 * s2 * s3 - c3 * s1, s1 * s3 + c1 * c3 * s2],\n    [c2 * s1, c1 * c3 + s1 * s2 * s3, c3 * s1 * s2 - c1 * s3],\n    [-s2,     c2 * s3,                c2 * c3],\n  ]\n\n  // Transposed R matrix\n  var T = Geometry.transpose3x3Matrix(R);\n\n  // Acceleration is the transposed rotation matrix dot multiplied with gravity vector\n  var _accel = Geometry.dot3x3and3x1(T, Geometry.Defaults.GRAVITY);\n\n  // Compass is tranposed rotation matrix dot multiplied with the north vector\n  var _compass = Geometry.dot3x3and3x1(T, Geometry.Defaults.NORTH);\n\n  // store current orient to access it alter as old orient\n  Sk.sense_hat.rtimu.raw_old_orientation = newOrientation;\n\n  // update fusionPose (which is the orientation) and the timestamp values\n  Sk.sense_hat.rtimu.fusionPose = newOrientation;\n  Sk.sense_hat.rtimu.timestamp = newTimestamp;\n\n  /* Update the internal rtimu data object */\n\n  // The values are Floats representing the angle of the axis in degrees\n  // _accel = perturb(_accel, 0.1);\n  Sk.sense_hat.rtimu.accel = [\n    Geometry.clamp(_accel[0], -8, 8),\n    Geometry.clamp(_accel[1], -8, 8),\n    Geometry.clamp(_accel[2], -8, 8)\n  ];\n\n  // _gyro = perturb(_gyro, .5);\n  // radians per second\n  Sk.sense_hat.rtimu.gyro = [\n    _gyro[0],\n    _gyro[1],\n    _gyro[2],\n  ];\n\n\n  // _compass = perturb(_compass, .01);\n  // multiply with 100 -> from Gauss to microteslas (T)\n  Sk.sense_hat.rtimu.compass = [\n    _compass[0] * 100,\n    _compass[1] * 100,\n    _compass[2] * 100,\n  ];\n}\n\nwindow.rotatemodel = function(x, y, z){\n  window.mod.rotation.x = x;\n  window.mod.rotation.y = y;\n  window.mod.rotation.z = z;\n}\n\nexport function resetModel(event) {\n  event.preventDefault();\n\n    var x = 0\n      , y = 0\n      , z = 0;\n    window.rotatemodel(Geometry.degToRad(x), Geometry.degToRad(y), Geometry.degToRad(z));\n}\n\nexport function extractRollPitchYaw(x, y, z) {\n  const roll = ((y * 180 / Math.PI) + 360) % 360\n  const pitch = ((x * 180 / Math.PI) + 90 + 360) % 360\n  const yaw = ((z * 180 / Math.PI) + 360) % 360\n  return [roll, pitch, yaw]\n}\n","import React from 'react';\nimport * as THREE from 'three';\nimport { useGLTF } from '@react-three/drei';\nimport Sk from \"skulpt\";\nimport { invalidate } from '@react-three/fiber';\n\nconst FlightCase = () => {\n\n  const { scene } = useGLTF(`${process.env.PUBLIC_URL}/models/raspi-compressed.glb`)\n  window.mod = scene\n\n  const blankLED = new THREE.MeshStandardMaterial({color: `rgb(0,0,0)`})\n  var leds = {\n    '0_0_0': blankLED\n  }\n\n  function setPixel(ledIndex,r,g,b) {\n    var x = ledIndex % 8;\n    var y = Math.floor(ledIndex / 8);\n    let ledMaterial\n    if (`${r}_${g}_${b}` in leds) {\n      ledMaterial = leds[`${r}_${g}_${b}`]\n    } else {\n      ledMaterial = new THREE.MeshStandardMaterial({color: `rgb(${r},${g},${b})`});\n      leds[`${r}_${g}_${b}`] = ledMaterial\n    }\n    var object = scene.getObjectByName(`circle${x}_${7-y}-1`);\n\n    if(object != null){\n      object.material = ledMaterial;\n    }\n  }\n\n  function setPixels(indexes, pix) {\n    if(indexes == null){\n      indexes = Array.from(Array(8*8).keys())\n    }\n\n    var i = 0;\n    for (const ledIndex of indexes){\n      setPixel(ledIndex, pix[i][0], pix[i][1], pix[i][2])\n      i += 1;\n    }\n  }\n\n  Sk.sense_hat_emit = function(event, data) {\n\n    if (event && event === 'setpixel') {\n      // change the led\n      const ledIndex = data;\n      const ledData  = Sk.sense_hat.pixels[ledIndex];\n\n      // Convert LED-RGB to RGB565 // and then to RGB555\n      Sk.sense_hat.pixels[ledIndex] = [\n        ledData[0] & ~7,\n        ledData[1] & ~3,\n        ledData[2] & ~7\n      ];\n\n      setPixel(ledIndex, parseInt(ledData[0]*255), parseInt(ledData[1]*255), parseInt(ledData[2]*255));\n    }\n    else if (event && event === 'setpixels') {\n      setPixels(data, Sk.sense_hat.pixels);\n    }\n    invalidate()\n  }\n\n  return (\n    <primitive object={scene} scale={4} />\n  )\n}\n\nexport default FlightCase\n","import React from 'react';\nimport * as THREE from 'three';\nimport { ResizeObserver } from \"@juggle/resize-observer\";\nimport { Canvas } from \"@react-three/fiber\";\nimport { OrbitControls, PerspectiveCamera } from \"@react-three/drei\";\nimport Lighting from './Lighting';\nimport { Suspense } from 'react';\n\nimport { extractRollPitchYaw } from '../../utils/Orientation';\nimport FlightCase from './FlightCase'\nimport './AstroPiModel.scss';\n\nvar isDragging=false\nvar targetRotationX = 0.5;\nvar targetRotationY = 0.2;\nvar mouseX = 0;\nvar mouseXOnMouseDown = 0;\nvar mouseY = 0;\nvar mouseYOnMouseDown = 0;\nvar windowHalfX = window.innerWidth / 2;\nvar windowHalfY = window.innerHeight / 2;\nvar slowingFactor = 0.25;\nconst rotationScaleFactor = 0.00025\n\nconst Simulator = (props) => {\n  const {updateOrientation} = props\n\n  const handleDragStart = (e) => {\n    isDragging=true\n    mouseXOnMouseDown = e.clientX - windowHalfX;\n    mouseYOnMouseDown = e.clientY - windowHalfY;\n  }\n  const handleDragStop = () => {\n    isDragging=false\n  }\n\n  const dragModel = (e) => {\n    mouseX = e.clientX - windowHalfX;\n    targetRotationX = ( mouseX - mouseXOnMouseDown ) * rotationScaleFactor;\n    mouseY = e.clientY - windowHalfY;\n    targetRotationY = ( mouseY - mouseYOnMouseDown ) * rotationScaleFactor;\n  \n    if(isDragging) {\n      window.mod.rotateOnWorldAxis(new THREE.Vector3(0, 0, -1), targetRotationX);\n      window.mod.rotateOnWorldAxis(new THREE.Vector3(1, 0, 0), targetRotationY);\n      updateOrientation(\n        extractRollPitchYaw(\n        window.mod.rotation.x,\n        window.mod.rotation.y,\n        window.mod.rotation.z\n        )\n      )\n      targetRotationY = targetRotationY * (1 - slowingFactor);\n      targetRotationX = targetRotationX * (1 - slowingFactor);\n    }\n  };\n\n  return (\n    <Canvas\n      frameloop='demand'\n      onPointerDown={handleDragStart}\n      onPointerUp={handleDragStop}\n      onPointerOut={handleDragStop}\n      onPointerMove={dragModel}\n      resize={{polyfill: ResizeObserver}}\n    >\n      <Lighting />\n      <Suspense fallback={null}>\n        <PerspectiveCamera makeDefault fov={25} near={1} far={20000} position={[0, 1.5, 0]} />\n        <FlightCase />\n        <OrbitControls enableRotate = {false} enablePan = {false} enableZoom = {false} enabled = {false} />\n      </Suspense>\n    </Canvas>\n  )\n};\n\nexport default Simulator\n","import React from 'react';\nimport { useEffect, useState } from 'react';\nimport Sk from 'skulpt';\nimport '../AstroPiModel.scss';\n\nconst Input = (props) => {\n  const { name, label, type, defaultValue} = props;\n  const [value, setValue] = useState(defaultValue);\n\n  useEffect(() => {\n    if (Sk.sense_hat) {\n      Sk.sense_hat[name] = value\n    }\n  }, [name, value])\n\n  return (\n    <div className='sense-hat-controls-panel__container'>\n      <label className='sense-hat-controls-panel__control-name' htmlFor={`sense_hat_${name}`}>{label}</label>\n      <input type={type} id={`sense_hat_${name}`} defaultValue={value} onChange={e => setValue(e.target.value)} />\n    </div>\n  )\n};\n\nexport default Input\n","import React from 'react';\nimport { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Toggle from 'react-toggle';\nimport Sk from 'skulpt';\nimport '../AstroPiModel.scss';\nimport \"react-toggle/style.css\"\nimport { useTranslation } from 'react-i18next';\n\nconst MotionInput = (props) => {\n  const {defaultValue} = props;\n  const [value, setValue] = useState(defaultValue);\n  const codeRunTriggered = useSelector((state) => state.editor.codeRunTriggered);\n  const { t } = useTranslation()\n\n  useEffect(() => {\n    if (!codeRunTriggered) {\n      Sk.sense_hat.start_motion_callback = () => {}\n      Sk.sense_hat.stop_motion_callback = () => {}\n    }\n  }, [codeRunTriggered])\n\n  useEffect(() => {\n    if (Sk.sense_hat) {\n      Sk.sense_hat.motion = value\n    }\n    value ? Sk.sense_hat.start_motion_callback() : Sk.sense_hat.stop_motion_callback()\n  }, [value])\n\n  return (\n  <div className=\"sense-hat-controls-panel__container\">\n    <label className='sense-hat-controls-panel__control-name' htmlFor={`sense_hat_motion`}>{t('output.senseHat.controls.motion')}</label>\n    <div className='sense-hat-controls-panel__control-toggle'>\n      <label htmlFor={`sense_hat_motion`} >{t('output.senseHat.controls.motionSensorOptions.no')}</label>\n      <Toggle id='sense_hat_motion' icons={false} checked={value} onChange={e => setValue(e.target.checked)}/>\n      <label htmlFor={`sense_hat_motion`} >{t('output.senseHat.controls.motionSensorOptions.yes')}</label>\n    </div>\n  </div>\n  )\n};\n\nexport default MotionInput\n","import React from 'react';\nimport { useEffect, useState } from 'react';\nimport '../AstroPiModel.scss';\nimport Sk from 'skulpt';\n\nconst SliderInput = (props) => {\n  const { name, label, unit, min, max, defaultValue, Icon} = props;\n  const [value, setValue] = useState(defaultValue);\n  \n  useEffect(() => {\n    if (Sk.sense_hat) {\n      Sk.sense_hat.rtimu[name][1] = value+Math.random()-0.5\n    }\n  }, [name, value])\n\n  return (\n    <div className=\"sense-hat-controls-panel__control\">\n      <label className='sense-hat-controls-panel__control-name' htmlFor={`sense_hat_${name}`}>{label}</label>\n      <input id={`sense_hat_${name}`} className=\"sense-hat-controls-panel__control-input\" type=\"range\" min={min} max={max} step=\"1\" defaultValue={value} onChange={e => setValue(parseFloat(e.target.value))}/>\n      <div className=\"sense-hat-controls-panel__control-reading\">\n        {Icon ? <Icon /> : null}\n        <span className='sense-hat-controls-panel__control-value'>{value}{unit}</span>\n      </div>\n    </div>\n  )\n};\n\nexport default SliderInput\n","import React, { useEffect, useState } from 'react'\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\nimport { useStopwatch } from 'react-timer-hook';\nimport Sk from 'skulpt'\n\nconst Stopwatch = () => {\n  const codeRunTriggered = useSelector((state) => state.editor.codeRunTriggered)\n  const {\n    seconds,\n    minutes,\n    isRunning,\n    pause,\n    reset\n  } = useStopwatch({ autoStart: false })\n  const [hasLostFocus, setHasLostFocus] = useState(false)\n  const { t } = useTranslation()\n\n  useEffect(() => {\n    window.addEventListener('blur', () => {\n      setHasLostFocus(true)\n    })\n  }, [])\n\n  useEffect(() => {\n    if (codeRunTriggered && !isRunning) {\n      setHasLostFocus(false)\n      reset()\n    }\n    if (!codeRunTriggered && isRunning){\n      pause()\n      Sk.sense_hat.mz_criteria.duration = hasLostFocus ? null : minutes * 60 + seconds\n    }\n  }, [codeRunTriggered, hasLostFocus, minutes, seconds, isRunning, pause, reset])\n\n\n  return (\n    <div className='sense-hat-controls-panel__container sense-hat-controls-panel__container-timer'>\n      <label className='sense-hat-controls-panel__control-name' htmlFor='sense_hat_timer'>{t('output.senseHat.controls.timer')}</label>\n      <span className='sense-hat-controls-panel__control-reading sense-hat-controls-panel__control-reading-timer' id='sense_hat_timer'>\n        <span>{String(minutes).padStart(2, '0')}</span>:<span>{String(seconds).padStart(2, '0')}</span>\n      </span>\n    </div>\n  )\n}\n\nexport default Stopwatch\n","import React from 'react';\nimport Input from './Input';\nimport MotionInput from './MotionInput';\nimport SliderInput from './SliderInput';\nimport '../AstroPiModel.scss';\nimport Stopwatch from './Stopwatch';\nimport { HumidityIcon, PressureIcon, TemperatureIcon } from '../../../Icons';\nimport { useTranslation } from 'react-i18next';\n\nconst AstroPiControls = (props) => {\n  const {temperature, pressure, humidity, colour, motion} = props\n  const { t } = useTranslation()\n\n  return (\n    <div className='sense-hat-controls'>\n      <h2 className='sense-hat-controls-heading'>{t('output.senseHat.controls.name')}</h2>\n      <div className=\"sense-hat-controls-panel\">\n        <div className='sense-hat-controls-panel__sliders'>\n          <SliderInput name=\"temperature\" label={t('output.senseHat.controls.temperature')} unit=\"C\" min={-40} max={120} defaultValue={temperature} Icon={TemperatureIcon} />\n          <SliderInput name=\"pressure\" label={t('output.senseHat.controls.pressure')} unit=\"hPa\" min={260} max={1260} defaultValue={pressure} Icon={PressureIcon}/>\n          <SliderInput name=\"humidity\" label={t('output.senseHat.controls.humidity')} unit=\"%\" min={0} max={100} defaultValue={humidity} Icon={HumidityIcon}/>\n        </div>\n      \n        <div className=\"sense-hat-controls-panel__control sense-hat-controls-panel__control-last\">\n          <Input name=\"colour\" label={t('output.senseHat.controls.colour')} type=\"color\" defaultValue={colour} />\n          <MotionInput defaultValue={motion} />\n          <Stopwatch />\n        </div>\n      </div>\n    </div>\n  )\n};\n\nexport default AstroPiControls\n","import React from 'react';\nimport '../AstroPiModel.scss';\n\nconst OrientationReading = (props) => {\n  const {name, value} = props\n\n  return (\n      <span className=\"sense-hat-model-orientation__reading\">\n        {name}: {Math.round(value)}\n      </span>\n  )\n}\n\nexport default OrientationReading\n","import React from 'react';\nimport '../AstroPiModel.scss';\nimport { ResetIcon } from '../../../Icons';\n\nconst OrientationResetButton = (props) => {\n\n  const {resetOrientation} = props;\n\n  return (\n    <button onClick={ e => resetOrientation(e)}>\n      <ResetIcon/>\n    </button>\n  )\n}\n\nexport default OrientationResetButton\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport '../AstroPiModel.scss';\nimport OrientationReading from './OrientationReading';\nimport OrientationResetButton from './OrientationResetButton';\n\nconst OrientationPanel = (props) => {\n\n  const { t } = useTranslation()\n  const {orientation, resetOrientation} = props\n\n  return (\n    <div className=\"sense-hat-model-orientation\">\n      <div className=\"sense-hat-model-orientation__spacing\"></div>\n      <div className=\"sense-hat-model-orientation__values\">\n        <OrientationReading name={t('output.senseHat.model.roll')} value={orientation[0]} />\n        <OrientationReading name={t('output.senseHat.model.pitch')} value={orientation[1]} />\n        <OrientationReading name={t('output.senseHat.model.yaw')} value={orientation[2]} />\n      </div>\n      <div className=\"sense-hat-model-orientation__reset-btn\">\n        <OrientationResetButton resetOrientation={resetOrientation}/>\n      </div>\n    </div>\n  )\n};\n\nexport default OrientationPanel\n","export const defaultMZCriteria = {\n  duration: null,\n  noInputEvents: true,\n  readColour: false,\n  readHumidity: false,\n  readPressure: false,\n  readTemperature: false,\n  usedLEDs: false\n}\n","import React from 'react';\nimport './AstroPiModel.scss';\nimport Simulator from './Simulator';\nimport Sk from 'skulpt';\nimport AstroPiControls from './AstroPiControls/AstroPiControls';\nimport OrientationPanel from './OrientationPanel/OrientationPanel';\nimport { useEffect, useState } from 'react';\nimport { resetModel, updateRTIMU } from '../../utils/Orientation';\nimport { useSelector } from 'react-redux';\nimport { defaultMZCriteria } from './DefaultMZCriteria';\n\nconst AstroPiModel = () => {\n  const project = useSelector((state) => state.editor.project)\n  const [orientation, setOrientation] = useState([0,90,0])\n  const resetOrientation = (e) => {\n    resetModel(e)\n    setOrientation([0,90,0])\n  }\n\n  const defaultPressure = 1013\n  const defaultTemperature = 13\n  const defaultHumidity = 45\n\n  if (!Sk.sense_hat){\n    Sk.sense_hat = {\n      colour: \"#FF00A4\",\n      gamma: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      low_light: false,\n      motion: false,\n      mz_criteria: {...defaultMZCriteria},\n      pixels: [],\n      rtimu: {\n        pressure: [1, defaultPressure+Math.random()-0.5], /* isValid, pressure*/\n        temperature: [1, defaultTemperature+Math.random()-0.5], /* isValid, temperature */\n        humidity: [1, defaultHumidity+Math.random()-0.5], /* isValid, humidity */\n        gyro: [0, 0, 0], /* all 3 gyro values */\n        accel: [0, 0, 0], /* all 3 accel values */\n        compass: [0, 0, 33], /* all compass values */\n        raw_orientation: [0, 90, 0]\n      },\n      sensestick: {\n        _eventQueue: [],\n        off: () => {},\n        once: () => {}\n      },\n      start_motion_callback: () => {},\n      stop_motion_callback: () => {},\n    }\n    for (var i = 0; i < 64; i++) {\n      Sk.sense_hat.pixels.push([0, 0, 0]);\n    }\n  }\n\n  useEffect(() => {\n    Sk.sense_hat.mz_criteria = {...defaultMZCriteria}\n  }, [project]);\n\n  useEffect(() => {\n    Sk.sense_hat.rtimu.raw_orientation = orientation\n    updateRTIMU()\n  }, [orientation])\n\n    return (\n      <div className='sense-hat'>\n        <div className='sense-hat-model'>\n          <Simulator updateOrientation={setOrientation}/>\n          <OrientationPanel orientation={orientation} resetOrientation={resetOrientation}/>\n        </div>\n\n        {/* <!-- Full sensor controls --> */}\n        <AstroPiControls pressure={defaultPressure} temperature={defaultTemperature} humidity={defaultHumidity} colour={Sk.sense_hat.colour} motion={Sk.sense_hat.motion} />\n\n      </div>\n    )\n  };\n  \n  export default AstroPiModel;\n","import React, { useEffect } from \"react\";\nimport { useRef } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Sk from \"skulpt\"\nimport AstroPiModel from \"../../../AstroPiModel/AstroPiModel\";\nimport { codeRunHandled, setError } from \"../../EditorSlice\";\n\nconst VisualOutputPane = () => {\n\n  const codeRunTriggered = useSelector((state) => state.editor.codeRunTriggered)\n  const drawTriggered = useSelector((state) => state.editor.drawTriggered)\n  const senseHatAlwaysEnabled = useSelector((state) => state.editor.senseHatAlwaysEnabled);\n  const senseHatEnabled = useSelector((state) => state.editor.senseHatEnabled);\n  const projectImages = useSelector((state) => state.editor.project.image_list);\n  const error = useSelector((state) => state.editor.error);\n\n  const outputCanvas = useRef();\n  const pygalOutput = useRef();\n  const p5Output = useRef();\n  const dispatch = useDispatch();\n  const { t } = useTranslation()\n\n  useEffect(() => {\n    if (codeRunTriggered) {\n      outputCanvas.current.innerHTML = '';\n      pygalOutput.current.innerHTML = '';\n      p5Output.current.innerHTML = '';\n\n      Sk.py5 = {}\n      Sk.py5.sketch = \"p5Sketch\";\n      Sk.py5.assets = projectImages;\n\n      Sk.p5 = {}\n      Sk.p5.sketch = \"p5Sketch\";\n      Sk.p5.assets = projectImages;\n    \n      (Sk.pygal || (Sk.pygal = {})).outputCanvas = pygalOutput.current;\n    \n      (Sk.TurtleGraphics || (Sk.TurtleGraphics = {})).target = 'outputCanvas';\n      Sk.TurtleGraphics.assets = Object.assign({}, ...projectImages.map((image) => ({[`${image.name}.${image.extension}`]: image.url})))\n    \n    }\n  }, [codeRunTriggered, projectImages])\n\n  useEffect(() => {\n    if (!drawTriggered && p5Output.current && p5Output.current.innerHTML !== '') {\n      if (Sk.py5.stop) {\n        Sk.py5.stop()\n      } else {\n        Sk.p5.stop()\n      }\n      \n      if(error === ''){\n        dispatch(setError(t('output.errors.interrupted')))\n      }\n      dispatch(codeRunHandled())\n    }\n\n  }, [drawTriggered, dispatch, t, error])\n\n  return (\n    <div className='visual-output'>\n      <div id='p5Sketch' ref={p5Output} />\n      <div id='pygalOutput' ref={pygalOutput} />\n      <div className=\"pythonrunner-canvas-container\">\n        <div id='outputCanvas' ref={outputCanvas} className=\"pythonrunner-graphic\" />\n      </div>\n      {senseHatEnabled || senseHatAlwaysEnabled ?<AstroPiModel/>:null}\n    </div>\n  )\n}\n\nexport default VisualOutputPane\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { SplitViewIcon, TabbedViewIcon } from \"../../../../Icons\";\nimport Button from \"../../../Button/Button\";\nimport { setIsSplitView } from \"../../EditorSlice\";\nimport { useTranslation } from \"react-i18next\";\n\nimport './OutputViewToggle.scss';\n\nconst OutputViewToggle = () => {\n\n  const isSplitView = useSelector((state) => state.editor.isSplitView)\n  const codeRunTriggered = useSelector((state) => state.editor.codeRunTriggered)\n  const drawTriggered = useSelector((state) => state.editor.drawTriggered)\n  const dispatch = useDispatch()\n  const { t } = useTranslation()\n\n  const switchToTabbedView = () => {\n    dispatch(setIsSplitView(false))\n  }\n\n  const switchToSplitView = () => {\n    dispatch(setIsSplitView(true))\n  }\n\n  return (\n    <div className = {`output-view-toggle`} disabled = {codeRunTriggered || drawTriggered}>\n      <Button className = {`btn--small output-view-toggle__button output-view-toggle__button--tabbed${isSplitView ? \"\" : \" output-view-toggle__button--active\"}` }\n        buttonOuter\n        disabled = {codeRunTriggered || drawTriggered}\n        label={t('outputViewToggle.buttonTabLabel')}\n        title={t('outputViewToggle.buttonTabTitle')}\n        ButtonIcon={TabbedViewIcon}\n        onClickHandler={switchToTabbedView}\n      />\n      <Button className = {`btn--small output-view-toggle__button output-view-toggle__button--split${isSplitView ? \" output-view-toggle__button--active\" : \"\"}` }\n        buttonOuter\n        disabled = {codeRunTriggered || drawTriggered}\n        label={t('outputViewToggle.buttonSplitLabel')}\n        title={t('outputViewToggle.buttonSplitTitle')}\n        ButtonIcon={SplitViewIcon}\n        onClickHandler={switchToSplitView}\n      />\n    </div>\n  )\n}\n\nexport default OutputViewToggle\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport './PythonRunner.scss';\nimport React, { useContext, useEffect, useRef, useState } from 'react';\nimport * as Sentry from \"@sentry/browser\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useTranslation } from 'react-i18next';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport Sk from \"skulpt\"\nimport { setError, codeRunHandled, stopDraw, setSenseHatEnabled, triggerDraw } from '../../EditorSlice'\nimport ErrorMessage from '../../ErrorMessage/ErrorMessage'\n\nimport store from '../../../../app/store'\nimport VisualOutputPane from './VisualOutputPane';\nimport OutputViewToggle from './OutputViewToggle';\nimport { SettingsContext } from '../../../../settings';\n\nconst externalLibraries = {\n  \"./pygal/__init__.js\": {\n    path: `${process.env.PUBLIC_URL}/shims/pygal/pygal.js`,\n    dependencies: [\n      'https://cdnjs.cloudflare.com/ajax/libs/highcharts/6.0.2/highcharts.js',\n      'https://cdnjs.cloudflare.com/ajax/libs/highcharts/6.0.2/js/highcharts-more.js'\n    ],\n  },\n  \"./py5/__init__.js\": {\n    path: `${process.env.PUBLIC_URL}/shims/processing/py5/py5-shim.js`,\n    dependencies: [\n      'https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.js'\n    ]\n  },\n  \"./py5_imported/__init__.js\": {\n    path: `${process.env.PUBLIC_URL}/shims/processing/py5_imported_mode/py5_imported.js`,\n  },\n  \"./py5_imported_mode.py\": {\n    path: `${process.env.PUBLIC_URL}/shims/processing/py5_imported_mode/py5_imported_mode.py`\n  },\n  \"./p5/__init__.js\": {\n    path: `${process.env.PUBLIC_URL}/shims/processing/p5/p5-shim.js`,\n    dependencies: [\n      'https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.js'\n    ]\n  },\n  \"./_internal_sense_hat/__init__.js\": {\n    path: `${process.env.PUBLIC_URL}/shims/sense_hat/_internal_sense_hat.js`\n  },\n  \"./sense_hat.py\": {\n    path: `${process.env.PUBLIC_URL}/shims/sense_hat/sense_hat_blob.py`\n  }\n};\n\nconst PythonRunner = () => {\n  const project = useSelector((state) => state.editor.project)\n  const projectCode = project.components[0].content;\n  const isSplitView = useSelector((state) => state.editor.isSplitView);\n  const isEmbedded = useSelector((state) => state.editor.isEmbedded);\n  const codeRunTriggered = useSelector((state) => state.editor.codeRunTriggered);\n  const codeRunStopped = useSelector((state) => state.editor.codeRunStopped);\n  const drawTriggered = useSelector((state) => state.editor.drawTriggered);\n  const senseHatAlwaysEnabled = useSelector((state) => state.editor.senseHatAlwaysEnabled);\n  const output = useRef();\n  const dispatch = useDispatch();\n  const { t } = useTranslation()\n  const settings = useContext(SettingsContext)\n\n  const queryParams = new URLSearchParams(window.location.search)\n  const [hasVisualOutput, setHasVisualOutput] = useState(queryParams.get('show_visual_tab') === 'true' || senseHatAlwaysEnabled)\n\n  const getInput = () => {\n    const pageInput = document.getElementById(\"input\")\n    const webComponentInput = document.querySelector('editor-wc') ? document.querySelector('editor-wc').shadowRoot.getElementById(\"input\") : null;\n    return pageInput || webComponentInput\n  }\n\n  useEffect(() => {\n    if (codeRunTriggered) {\n      runCode();\n    }\n  }, [codeRunTriggered]);\n\n  useEffect(() => {\n    if (codeRunStopped && getInput()) {\n      const input = getInput()\n      input.removeAttribute(\"id\")\n      input.removeAttribute(\"contentEditable\")\n      dispatch(setError(t('output.errors.interrupted')));\n      dispatch(codeRunHandled())\n    }\n  }, [codeRunStopped]);\n\n  useEffect(() => {\n    if (!codeRunTriggered && !drawTriggered) {\n      if (getInput()) {\n        const input = getInput()\n        input.removeAttribute(\"id\")\n        input.removeAttribute(\"contentEditable\")\n      }\n    }\n  },\n  [drawTriggered, codeRunTriggered]\n  )\n\n  const visualLibraries =[\n    \"./pygal/__init__.js\",\n    \"./py5/__init__.js\",\n    \"./py5_imported/__init__.js\",\n    \"./p5/__init__.js\",\n    \"./_internal_sense_hat/__init__.js\",\n    \"src/builtin/turtle/__init__.js\"\n  ]\n\n  const outf = (text) => {\n    if (text !== \"\") {\n      const node = output.current;\n      const div = document.createElement(\"span\")\n      div.classList.add('pythonrunner-console-output-line')\n      div.innerHTML = new Option(text).innerHTML;\n      node.appendChild(div);\n      node.scrollTop = node.scrollHeight;\n    }\n  }\n\n  const builtinRead = (x) => {\n\n    if (x===\"./_internal_sense_hat/__init__.js\") {\n      dispatch(setSenseHatEnabled(true))\n    }\n\n    if(x === \"./p5/__init__.js\" || x === \"./py5/__init__.js\") {\n      dispatch(triggerDraw())\n    }\n    \n    // TODO: Handle pre-importing py5_imported when refactored py5 shim imported\n\n    if (visualLibraries.includes(x)) {\n      setHasVisualOutput(true)\n    }\n\n    \n\n    if (Sk.builtinFiles !== undefined && Sk.builtinFiles[\"files\"][x] !== undefined) {\n      return Sk.builtinFiles[\"files\"][x];\n    }\n\n    if (externalLibraries[x]) {\n      var externalLibraryInfo = externalLibraries[x];\n\n      return externalLibraries[x].code || Sk.misceval.promiseToSuspension(\n        fetch(externalLibraryInfo.path).then((response) => response.text()).then((code) => {\n          if (!code) {\n            throw new Sk.builtin.ImportError(\"Failed to load remote module\");\n          }\n          externalLibraries[x].code = code\n          var promise;\n\n          function mapUrlToPromise(path) {\n            // If the script is already in the DOM don't add it again.\n            const existingScriptElement = document.querySelector(`script[src=\"${path}\"]`)\n            if(!existingScriptElement) {\n              return new Promise(function (resolve, _reject) {\n                let scriptElement = document.createElement(\"script\");\n                scriptElement.type = \"text/javascript\";\n                scriptElement.src = path;\n                scriptElement.async = true\n                scriptElement.onload = function () {\n                  resolve(true);\n                }\n\n                document.body.appendChild(scriptElement);\n              });\n            }\n          }\n          if (externalLibraryInfo.loadDepsSynchronously) {\n            promise = (externalLibraryInfo.dependencies || []).reduce((p, url) => {\n              return p.then(() => mapUrlToPromise(url));\n            }, Promise.resolve()); // initial\n          } else {\n            promise = Promise.all((externalLibraryInfo.dependencies || []).map(mapUrlToPromise));\n          }\n\n          return promise.then(function () {\n            return code;\n          }).catch(function () {\n            throw new Sk.builtin.ImportError(\"Failed to load dependencies required\");\n          });\n        })\n      );\n    }\n\n    throw new Error(\"File not found: '\" + x + \"'\");\n  }\n\n  const inputSpan = () => {\n    const span = document.createElement(\"span\");\n    span.setAttribute(\"id\", \"input\");\n    span.setAttribute(\"spellCheck\", \"false\");\n    span.setAttribute(\"class\", \"pythonrunner-input\");\n    span.setAttribute(\"contentEditable\", \"true\");\n    return span\n  }\n\n  const inf = function () {\n    if (Sk.sense_hat) {\n      Sk.sense_hat.mz_criteria.noInputEvents = false\n    }\n    const outputPane = output.current;\n    outputPane.appendChild(inputSpan());\n\n    const input = getInput()\n    input.focus();\n\n    return new Promise(function (resolve, reject) {\n      input.addEventListener(\"keydown\", function removeInput(e) {\n        if (e.key === \"Enter\") {\n          input.removeEventListener(e.type, removeInput)\n          // resolve the promise with the value of the input field\n          const answer = input.innerText;\n          input.removeAttribute(\"id\");\n          input.removeAttribute(\"contentEditable\");\n          input.innerText=answer+'\\n';\n\n          document.addEventListener(\"keyup\", function storeInput(e) {\n            if (e.key === \"Enter\") {\n              document.removeEventListener(e.type, storeInput);\n              resolve(answer);\n            }\n          })\n        }\n      })\n    })\n  }\n\n  const handleError = (err) => {\n    let errorMessage\n    if (err.message === t('output.errors.interrupted')) {\n      errorMessage = err.message\n    } else {\n      const errorDetails = (err.tp$str && err.tp$str().v).replace(/\\[(.*?)\\]/, \"\").replace(/\\.$/, '')\n      const errorType = err.tp$name || err.constructor.name\n      const lineNumber = err.traceback[0].lineno\n      const fileName = err.traceback[0].filename.replace(/^\\.\\//, '')\n\n      Sentry.captureMessage(`${errorType}: ${errorDetails}`)\n      errorMessage = `${errorType}: ${errorDetails} on line ${lineNumber} of ${fileName}`;\n    }\n\n    dispatch(setError(errorMessage));\n    dispatch(stopDraw());\n    if (getInput()) {\n      const input = getInput()\n      input.removeAttribute(\"id\")\n      input.removeAttribute(\"contentEditable\")\n    }\n  }\n\n  const runCode = () => {\n    // clear previous output\n    dispatch(setError(\"\"));\n    output.current.innerHTML = '';\n    dispatch(setSenseHatEnabled(false))\n\n    var prog = projectCode;\n\n    if (prog.includes(`# ${t('input.comment.py5')}`)) {\n      prog = prog.replace(`# ${t('input.comment.py5')}`,'from py5_imported_mode import *')\n\n      if (! prog.match(/(run_sketch)/)) {\n        prog = prog.concat('\\nrun_sketch()')\n      }\n    }\n\n    Sk.configure({\n      inputfun: inf,\n      output: outf,\n      read: builtinRead,\n      debugging: true,\n      inputTakesPrompt: true,\n      uncaughtException: handleError\n    });\n\n    var myPromise = Sk.misceval.asyncToPromise(() =>\n        Sk.importMainWithBody(\"main\", false, prog, true), {\n          \"*\": () => {\n            if (store.getState().editor.codeRunStopped) {\n              throw new Error(t('output.errors.interrupted'));\n            }\n          }\n        },\n    ).catch(err => {\n      handleError(err)\n    }).finally(()=>{\n      dispatch(codeRunHandled());\n    });\n    myPromise.then(function (_mod) {\n    })\n  }\n\n  function shiftFocusToInput(e) {\n    if (document.getSelection().toString().length > 0) {\n      return;\n    }\n\n    const inputBox = getInput();\n    if (inputBox && e.target !== inputBox) {\n      const input = getInput()\n      const selection = window.getSelection();\n      selection.removeAllRanges();\n\n      if (input.innerText && input.innerText.length > 0){\n        const range = document.createRange();\n        range.setStart(input, 1);\n        range.collapse(true);\n        selection.addRange(range);\n      }\n      input.focus()\n    }\n  }\n\n  return (\n    <div className={`pythonrunner-container`}>\n      { isSplitView ?\n        <>\n          {hasVisualOutput ? <div className='output-panel output-panel--visual'>\n            <Tabs forceRenderTabPanel={true}>\n              <div className='react-tabs__tab-container'>\n                <TabList>\n                  <Tab key={0}>\n                    <span className='react-tabs__tab-inner'>{t('output.visualOutput')}</span>\n                  </Tab>\n                </TabList>\n                {!isEmbedded ? <OutputViewToggle/> : null }\n              </div>\n              <TabPanel key={0} >\n                <VisualOutputPane/>\n              </TabPanel>\n            </Tabs>\n          </div> : null}\n          <div className='output-panel output-panel--text'>\n            <Tabs forceRenderTabPanel={true}>\n              <div className='react-tabs__tab-container'>\n                <TabList>\n                  <Tab key={0}>\n                    <span className='react-tabs__tab-inner'>{t('output.textOutput')}</span>\n                  </Tab>\n                </TabList>\n                { hasVisualOutput || isEmbedded ? null : <OutputViewToggle /> }\n              </div>\n              <ErrorMessage />\n              <TabPanel key={0}>\n                <pre className={`pythonrunner-console pythonrunner-console--${settings.fontSize}`} onClick={shiftFocusToInput} ref={output}></pre>\n              </TabPanel>\n            </Tabs>\n          </div>\n      </>\n      :\n      <Tabs forceRenderTabPanel={true} defaultIndex={hasVisualOutput ? 0 : 1}>\n        <div className='react-tabs__tab-container'>\n          <TabList>\n            {hasVisualOutput ?\n              <Tab key={0}>\n                <span className='react-tabs__tab-inner'>{t('output.visualOutput')}</span>\n              </Tab> : null\n            }\n            <Tab key={1}>\n              <span className='react-tabs__tab-inner'>{t('output.textOutput')}</span>\n            </Tab>\n          </TabList>\n          {!isEmbedded ? <OutputViewToggle/> : null }\n        </div>\n        <ErrorMessage />\n        {hasVisualOutput ?\n          <TabPanel key={0} >\n            <VisualOutputPane/>\n          </TabPanel> : null\n        }\n        <TabPanel key={1}>\n          <pre className={`pythonrunner-console pythonrunner-console--${settings.fontSize}`} onClick={shiftFocusToInput} ref={output}></pre>\n        </TabPanel>\n      </Tabs>\n      }\n    </div>\n  );\n};\n\nexport default PythonRunner;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport \"./HtmlRunner.scss\";\nimport React, { useRef, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nfunction HtmlRunner() {\n  const projectCode = useSelector((state) => state.editor.project.components);\n  const output = useRef();\n\n  const getBlobURL = (code, type) => {\n    const blob = new Blob([code], { type });\n    return URL.createObjectURL(blob);\n  };\n\n  useEffect(() => {\n    runCode();\n  }, [projectCode]);\n\n  const runCode = () => {\n    // TODO: get html files and handle urls for non index pages\n    let indexPage = projectCode[0].content;\n\n    const cssFiles = projectCode.filter(\n      (component) => component.extension === \"css\"\n    );\n    cssFiles.forEach((cssFile) => {\n      const cssFileBlob = getBlobURL(cssFile.content, \"text/css\");\n      indexPage = indexPage.replace(\n        `href=\"${cssFile.name}.css\"`,\n        `href=\"${cssFileBlob}\"`\n      );\n    });\n\n    const blob = getBlobURL(indexPage, \"text/html\");\n    output.current.src = blob;\n  };\n\n  return (\n    <div className=\"htmlrunner-container\">\n      <iframe\n        className=\"htmlrunner-iframe\"\n        id=\"output-frame\"\n        title=\"html-output-frame\"\n        ref={output}\n      />\n    </div>\n  );\n}\n\nexport default HtmlRunner;\n","import React from 'react';\nimport PythonRunner from './PythonRunner/PythonRunner';\nimport HtmlRunner from './HtmlRunner/HtmlRunner';\n\nconst RunnerFactory = ({ projectType }) => {\n  const Runner = () => {\n    if (projectType === 'html') {\n      return HtmlRunner;\n    }\n    return PythonRunner;\n  }\n\n  const Selected = Runner();\n\n  return (\n    <Selected />\n  )\n}\n\nexport default RunnerFactory;\n\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport ExternalFiles from \"../../ExternalFiles/ExternalFiles\";\nimport RunnerFactory from \"../Runners/RunnerFactory\";\n\nconst Output = () => {\n  const project = useSelector((state) => state.editor.project);\n  return (\n    <>\n      <ExternalFiles />\n      <div className='proj-runner-container'>\n        <RunnerFactory projectType={project.project_type} />\n      </div>\n    </>\n  )\n}\n\nexport default Output\n","import { setNameError } from \"../components/Editor/EditorSlice\";\n\nconst allowedExtensions = {\n  \"python\": [\n    \"py\",\n    \"csv\",\n    \"txt\"\n  ]\n}\n\nconst allowedExtensionsString = (projectType, t) => {\n  const extensionsList = allowedExtensions[projectType];\n  if (extensionsList.length === 1) {\n    return `'.${extensionsList[0]}'`\n  } else {\n    return `'.${extensionsList.slice(0,-1).join(`', '.`)}' ${t('filePane.errors.or')} '.${extensionsList[extensionsList.length-1]}'`;\n  }\n}\n\nconst isValidFileName = (fileName, projectType, componentNames) => {\n  const extension = fileName.split('.').slice(1).join('.')\n  if (allowedExtensions[projectType].includes(extension) && !componentNames.includes(fileName) && fileName.split(' ').length === 1) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport const validateFileName = (fileName, projectType=\"python\", componentNames, dispatch, t, callback, currentFileName=null) => {\n  const extension = fileName.split('.').slice(1).join('.');\n  if (isValidFileName(fileName, projectType, componentNames) || (currentFileName && fileName === currentFileName)) {\n    callback()\n  } else if (componentNames.includes(fileName)) {\n    dispatch(setNameError(t('filePane.errors.notUnique')));\n  } else if (fileName.split(' ').length > 1) {\n    dispatch(setNameError(t('filePane.errors.containsSpaces')))\n  } else if (!allowedExtensions[projectType].includes(extension)) {\n    dispatch(setNameError(t('filePane.errors.unsupportedExtension', {allowedExtensions: allowedExtensionsString(projectType, t)})));\n  } else {\n    dispatch(setNameError(t('filePane.errors.generalError')));\n  }\n}\n\n\n","import './ErrorMessage.scss'\nimport { useSelector } from 'react-redux'\n\nconst NameErrorMessage = () => {\n  const error = useSelector((state) => state.editor.nameError);\n\n  return error ? (\n    <div className='error-message'>\n      <p className='error-message__content'>{ error }</p>\n    </div>\n  ) : null;\n};\n\nexport default NameErrorMessage;\n","import React, { useCallback } from \"react\";\nimport Modal from 'react-modal';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useTranslation } from \"react-i18next\";\nimport { CloseIcon } from \"../../Icons\";\nimport { validateFileName } from \"../../utils/componentNameValidation\";\nimport Button from \"../Button/Button\";\nimport { closeRenameFileModal, updateComponentName } from \"../Editor/EditorSlice\";\nimport NameErrorMessage from \"../Editor/ErrorMessage/NameErrorMessage\";\nimport '../../Modal.scss';\n\nconst RenameFile = () => {\n  const dispatch = useDispatch()\n  const { t } = useTranslation();\n  const projectType = useSelector((state) => state.editor.project.project_type)\n  const projectComponents = useSelector((state) => state.editor.project.components)\n  const isModalOpen = useSelector((state) => state.editor.renameFileModalShowing)\n  const {name: currentName, ext: currentExtension, fileKey} = useSelector((state) => state.editor.modals.renameFile);\n  const componentNames = projectComponents.map(component => `${component.name}.${component.extension}`)\n\n  const closeModal = () => dispatch(closeRenameFileModal());\n\n  const nameInput = useCallback((node) => {\n    if (node) {\n      node.select()\n    }\n  }, [])\n\n  const onKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      renameComponent()\n    }\n  }\n\n  const renameComponent = () => {\n    const fileName = document.getElementById('name').value\n    const name = fileName.split('.')[0];\n    const extension = fileName.split('.').slice(1).join('.');\n\n    validateFileName(fileName, projectType, componentNames, dispatch, t, () => {\n      dispatch(updateComponentName({key: fileKey, extension: extension, name: name}));\n      closeModal();\n    }, `${currentName}.${currentExtension}`)\n  }\n\n  return (\n    <Modal\n      isOpen={isModalOpen}\n      onRequestClose={closeModal}\n      className='modal-content'\n      overlayClassName='modal-overlay'\n      contentLabel=\"Rename file\"\n      parentSelector={() => document.querySelector('#app')}\n      appElement={document.getElementById('app') || undefined}\n    >\n        <div className='modal-content__header'>\n          <h2 className='modal-content__heading'>{t('filePane.renameFileModal.heading')}</h2>\n          <Button className='btn--tertiary' onClickHandler={closeModal} ButtonIcon = {CloseIcon} />\n        </div>\n\n        <div className='modal-content__body'>\n          <label htmlFor='name'>{t('filePane.renameFileModal.inputLabel')}</label>\n          <div>\n            <NameErrorMessage />\n            <input type='text' ref={nameInput} name='name' id='name' defaultValue={`${currentName}.${currentExtension}`} onKeyDown={onKeyDown}></input>\n          </div>\n        </div>\n\n        <div className='modal-content__buttons' >\n          <Button className='btn--primary' buttonText={t('filePane.renameFileModal.save')} onClickHandler={renameComponent} />\n          <Button className='btn--secondary' buttonText={t('filePane.renameFileModal.cancel')} onClickHandler={closeModal} />\n        </div>\n    </Modal>\n  );\n}\n\nexport default RenameFile;\n","import Button from '../Button/Button'\n\nimport React from 'react';\nimport { useDispatch } from 'react-redux'\nimport { triggerCodeRun } from '../Editor/EditorSlice'\n\nconst RunButton = (props) => {\n  const dispatch = useDispatch();\n\n  const onClickRun = () => {\n    if (window.plausible) {\n      window.plausible('Run button')\n    }\n    dispatch(triggerCodeRun());\n  }\n\n  return (\n    <Button className={\"btn--primary btn--run\"} onClickHandler={onClickRun} {...props} />\n  )\n};\n\nexport default RunButton;\n\n","import Button from '../Button/Button'\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { stopCodeRun, stopDraw } from '../Editor/EditorSlice'\nimport { useTranslation } from 'react-i18next'\n\nconst StopButton = (props) => {\n\n  const codeRunStopped = useSelector((state) => state.editor.codeRunStopped);\n  const codeRunTriggered = useSelector((state) => state.editor.codeRunTriggered);\n  const dispatch = useDispatch();\n  const { t } = useTranslation()\n\n  const onClickStop = () => {\n    if (codeRunTriggered) {\n      dispatch(stopCodeRun());\n    }\n    dispatch(stopDraw());\n  }\n\n  const stop = <Button className={\"btn--stop\"} onClickHandler={onClickStop} {...props} />\n  const [button, setButton] = useState(stop)\n\n  useEffect(() => {\n    if (codeRunStopped) {\n      const stopping = <Button buttonText={t('runButton.stopping')} disabled />\n      setTimeout(() => { setButton(stopping) }, 100);\n    }\n  }, [codeRunStopped, t]);\n\n  return (\n    button\n  )\n};\n\nexport default StopButton;\n","import React from 'react';\nimport RunButton from \"./RunButton\";\nimport StopButton from \"./StopButton\";\nimport { useSelector } from 'react-redux';\nimport { RunIcon, StopIcon } from '../../Icons';\nimport { useTranslation } from 'react-i18next';\n\nimport './RunnerControls.scss';\n\nconst RunnerControls = () => {\n  const codeRunTriggered = useSelector((state) => state.editor.codeRunTriggered);\n  const drawTriggered = useSelector((state) => state.editor.drawTriggered);\n  const { t } = useTranslation()\n\n  return (\n    <div className=\"runner-controls\">\n      {\n        (codeRunTriggered || drawTriggered) ?\n          <StopButton buttonText={t('runButton.stop')} ButtonIcon={StopIcon} />\n        :\n          <RunButton buttonText={t('runButton.run')} ButtonIcon={RunIcon} />\n      }\n    </div>\n  )\n}\n\nexport default RunnerControls;\n","import React from \"react\";\nimport Modal from 'react-modal';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useTranslation } from \"react-i18next\";\n\nimport Button from \"../Button/Button\";\nimport '../../Modal.scss';\nimport { closeNotFoundModal, syncProject } from \"../Editor/EditorSlice\";\nimport { CloseIcon } from \"../../Icons\";\nimport { defaultPythonProject } from \"../../utils/defaultProjects\";\n\nconst NotFoundModal = () => {\n  const dispatch = useDispatch()\n  const { t } = useTranslation();\n  const user = useSelector((state) => state.auth.user)\n  \n  const isModalOpen = useSelector((state) => state.editor.notFoundModalShowing)\n  const closeModal = () => dispatch(closeNotFoundModal())\n\n  const createNewProject = async () => {\n    if (user) {\n      dispatch(syncProject('save')({ project: defaultPythonProject, accessToken: user.access_token, autosave: false }))\n    }\n    closeModal()\n  }\n\n  return (\n    <>\n      <Modal\n        isOpen={isModalOpen}\n        onRequestClose={closeModal}\n        className='modal-content'\n        overlayClassName='modal-overlay'\n        contentLabel={t('project.notFoundModal.heading')}\n        parentSelector={() => document.querySelector('#app')}\n        appElement={document.getElementById('app') || undefined}\n      >\n        <div className='modal-content__header'>\n          <h2 className='modal-content__heading'>{t('project.notFoundModal.heading')}</h2>\n          <Button className='btn--tertiary' onClickHandler={closeModal} ButtonIcon = {CloseIcon} />\n        </div>\n\n        <div className='modal-content__body'>\n          <p className='modal-content__text'>{t('project.notFoundModal.text')}</p>\n        </div>\n\n        <div className='modal-content__buttons' >\n          <Button className='btn--primary' buttonText={t('project.notFoundModal.newProject')} onClickHandler={createNewProject} />\n          <a className='btn btn--secondary' href='https://projects.raspberrypi.org'>{t('project.notFoundModal.projectsSiteLinkText')}</a>\n        </div>\n      </Modal>\n    </>\n  );\n}\n\nexport default NotFoundModal;\n","import React from 'react';\nimport userManager from '../../utils/userManager'\nimport { useLocation } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport Button from '../Button/Button';\n\nconst LoginButton = (props) => {\n  const { buttonText, className, triggerSave } = props;\n  const location = useLocation()\n  const project = useSelector((state) => state.editor.project)\n  const accessDeniedData = useSelector((state) => state.editor.modals.accessDenied)\n\n  const onLoginButtonClick = (event) => {\n    event.preventDefault();\n    window.plausible('Login button')\n    if (accessDeniedData) {\n      localStorage.setItem('location', `/projects/${accessDeniedData.identifier}`)\n    } else {\n      localStorage.setItem('location', location.pathname)\n      localStorage.setItem(project.identifier || 'project', JSON.stringify(project))\n    }\n    if (triggerSave) {\n      localStorage.setItem('awaitingSave', 'true')\n    }\n    userManager.signinRedirect();\n  }\n\n  return (\n    <Button buttonText={buttonText} className={className} onClickHandler={onLoginButtonClick} />\n  )\n}\n\nexport default LoginButton;\n","import React from \"react\";\nimport Modal from 'react-modal';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useTranslation } from \"react-i18next\";\n\nimport Button from \"../Button/Button\";\nimport '../../Modal.scss';\nimport { closeAccessDeniedNoAuthModal } from \"../Editor/EditorSlice\";\nimport { CloseIcon } from \"../../Icons\";\nimport LoginButton from \"../Login/LoginButton\";\n\nconst AccessDeniedNoAuthModal = () => {\n  const dispatch = useDispatch()\n  const { t } = useTranslation();\n  \n  const isModalOpen = useSelector((state) => state.editor.accessDeniedNoAuthModalShowing)\n  const closeModal = () => dispatch(closeAccessDeniedNoAuthModal());\n\n  return (\n    <>\n      <Modal\n        isOpen={isModalOpen}\n        onRequestClose={closeModal}\n        className='modal-content'\n        overlayClassName='modal-overlay'\n        contentLabel={t('project.accessDeniedNoAuthModal.heading')}\n        parentSelector={() => document.querySelector('#app')}\n        appElement={document.getElementById('app') || undefined}\n      >\n        <div className='modal-content__header'>\n          <h2 className='modal-content__heading'>{t('project.accessDeniedNoAuthModal.heading')}</h2>\n          <Button className='btn--tertiary' onClickHandler={closeModal} ButtonIcon = {CloseIcon} />\n        </div>\n        <div className='modal-content__body'>\n          <p className='modal-content__text'>{t('project.accessDeniedNoAuthModal.text')}</p>\n        </div>\n        <div className='modal-content__buttons' >\n          <LoginButton className='btn--primary' buttonText={t('project.accessDeniedNoAuthModal.loginButtonText')} />\n          <a className='btn btn--secondary' href='https://projects.raspberrypi.org'>{t('project.accessDeniedNoAuthModal.projectsSiteLinkText')}</a>\n          <Button buttonText = {t('project.accessDeniedNoAuthModal.newProject')} className='btn--tertiary' onClickHandler={closeModal}/>\n        </div>\n      </Modal>\n    </>\n  );\n}\n\nexport default AccessDeniedNoAuthModal;\n","import React from \"react\";\nimport Modal from 'react-modal';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useTranslation } from \"react-i18next\";\n\nimport Button from \"../Button/Button\";\nimport '../../Modal.scss';\nimport { closeAccessDeniedWithAuthModal, syncProject } from \"../Editor/EditorSlice\";\nimport { CloseIcon } from \"../../Icons\";\nimport { defaultPythonProject } from \"../../utils/defaultProjects\";\n\nconst AccessDeniedWithAuthModal = () => {\n  const dispatch = useDispatch()\n  const { t } = useTranslation()\n  const user = useSelector((state) => state.auth.user)\n  \n  const isModalOpen = useSelector((state) => state.editor.accessDeniedWithAuthModalShowing)\n  const closeModal = () => dispatch(closeAccessDeniedWithAuthModal());\n\n  const createNewProject = async () => {\n    dispatch(syncProject('save')({ project: defaultPythonProject, accessToken: user.access_token, autosave: false }))\n  }\n\n  return (\n    <>\n      <Modal\n        isOpen={isModalOpen}\n        onRequestClose={closeModal}\n        className='modal-content'\n        overlayClassName='modal-overlay'\n        contentLabel={t('project.notFoundModal.heading')}\n        parentSelector={() => document.querySelector('#app')}\n        appElement={document.getElementById('app') || undefined}\n      >\n        <div className='modal-content__header'>\n          <h2 className='modal-content__heading'>{t('project.accessDeniedWithAuthModal.heading')}</h2>\n          <Button className='btn--tertiary' onClickHandler={closeModal} ButtonIcon = {CloseIcon} />\n        </div>\n\n        <div className='modla-content__body'>\n          <p className='modal-content__text'>{t('project.accessDeniedWithAuthModal.text')}</p>\n        </div>\n\n        <div className='modal-content__buttons' >\n          <Button className='btn--primary' buttonText={t('project.accessDeniedWithAuthModal.newProject')} onClickHandler={createNewProject} />\n          <a className='btn btn--secondary' href='https://projects.raspberrypi.org'>{t('project.accessDeniedWithAuthModal.projectsSiteLinkText')}</a>\n        </div>\n      </Modal>\n    </>\n  );\n}\n\nexport default AccessDeniedWithAuthModal;\n","import React, { useCallback } from 'react'\nimport Modal from 'react-modal';\n\nimport NameErrorMessage from '../Editor/ErrorMessage/NameErrorMessage'\nimport { CloseIcon } from '../../Icons'\nimport Button from '../Button/Button'\nimport { addProjectComponent, closeNewFileModal, openFile } from '../Editor/EditorSlice';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { validateFileName } from '../../utils/componentNameValidation';\n\nconst NewFileModal = () => {\n\n  const { t } = useTranslation()\n  const dispatch = useDispatch();\n  const projectType = useSelector((state) => state.editor.project.project_type)\n  const projectComponents = useSelector((state) => state.editor.project.components);\n  const componentNames = projectComponents.map(component => `${component.name}.${component.extension}`)\n\n  const isModalOpen = useSelector((state) => state.editor.newFileModalShowing)\n  const closeModal = () => dispatch(closeNewFileModal())\n\n  const nameInput = useCallback((node) => {\n    if (node) {\n      node.focus()\n    }\n  }, [])\n\n  const onKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      createComponent()\n    }\n  }\n\n  const createComponent = () => {\n    const fileName = document.getElementById('name').value\n    const name = fileName.split('.')[0];\n    const extension = fileName.split('.').slice(1).join('.');\n    validateFileName(fileName, projectType, componentNames, dispatch, t, () => {\n      dispatch(addProjectComponent({extension: extension, name: name}));\n      dispatch(openFile(fileName))\n      closeModal();\n    })\n  }\n\n  return (\n    <Modal\n      isOpen={isModalOpen}\n      onRequestClose={closeModal}\n      contentLabel=\"New File\"\n      className='modal-content'\n      overlayClassName='modal-overlay'\n      parentSelector={() => document.querySelector('#app')}\n      appElement={document.getElementById('app') || undefined}\n    >\n      <div className='modal-content__header'>\n        <h2 className='modal-content__heading'>{t('filePane.newFileModal.heading')}</h2>\n        <Button className='btn--tertiary' onClickHandler={closeModal} ButtonIcon = {CloseIcon} />\n      </div>\n\n      <div className='modal-content__body'>\n        <label htmlFor='name'>{t('filePane.newFileModal.inputLabel')}</label>\n        <div>\n          <NameErrorMessage />\n          <input ref={nameInput} type='text' name='name' id='name' onKeyDown={onKeyDown}></input>\n        </div>\n      </div>\n\n      <div className='modal-content__buttons'>\n        <Button className='btn--primary' buttonText={t('filePane.newFileModal.save')} onClickHandler={createComponent} />\n        <Button className='btn--secondary' buttonText={t('filePane.newFileModal.cancel')} onClickHandler={closeModal} />\n      </div>\n    </Modal>\n  )\n}\n\nexport default NewFileModal\n","import React from \"react\";\nimport { Resizable } from 're-resizable'\n\nimport './ResizableWithHandle.scss';\n\nconst Handle = () => (\n  <svg width=\"44\" height=\"56\" viewBox=\"0 0 44 56\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"20\" width=\"4\" height=\"56\" rx=\"2\" fill=\"#616575\" />\n  </svg>\n);\n\nconst ResizableWithHandle = props => {\n  const {children, ...rest} = props\n\n  return (\n    <Resizable\n      enable={{ top: false, right: true, bottom: false, left: false }}\n      handleComponent={{right: <Handle />}}\n      handleWrapperClass='resizable-with-handle__handle'\n      {...rest}\n    >\n      {children}\n    </Resizable>\n  )\n}\n\nexport default ResizableWithHandle\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { createRef, useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector} from 'react-redux'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\nimport 'react-tabs/style/react-tabs.css'\nimport 'react-toastify/dist/ReactToastify.css'\n\nimport './Project.scss';\nimport EditorPanel from '../EditorPanel/EditorPanel'\nimport Output from '../Output/Output'\nimport RenameFile from '../../Modals/RenameFile'\nimport RunnerControls from '../../RunButton/RunnerControls'\nimport { closeFile, expireJustLoaded, setHasShownSavePrompt, setFocussedFileIndex, syncProject, openFile } from '../EditorSlice';\nimport { isOwner } from '../../../utils/projectHelpers'\nimport { CloseIcon } from '../../../Icons';\nimport NotFoundModal from '../../Modals/NotFoundModal';\nimport AccessDeniedNoAuthModal from '../../Modals/AccessDeniedNoAuthModal';\nimport AccessDeniedWithAuthModal from '../../Modals/AccessDeniedWithAuthModal';\n\n\nimport Button from '../../Button/Button';\nimport NewFileModal from '../../Modals/NewFileModal';\nimport ResizableWithHandle from '../../../utils/ResizableWithHandle';\n\nconst Project = (props) => {\n  const dispatch = useDispatch()\n  const { forWebComponent } = props;\n  const user = useSelector((state) => state.auth.user)\n  const project = useSelector((state) => state.editor.project)\n  const modals = useSelector((state) => state.editor.modals)\n  const newFileModalShowing = useSelector((state) => state.editor.newFileModalShowing)\n  const renameFileModalShowing = useSelector((state) => state.editor.renameFileModalShowing)\n  const notFoundModalShowing = useSelector((state) => state.editor.notFoundModalShowing)\n  const accessDeniedNoAuthModalShowing = useSelector((state) => state.editor.accessDeniedNoAuthModalShowing)\n  const accessDeniedWithAuthModalShowing = useSelector((state) => state.editor.accessDeniedWithAuthModalShowing)\n  const justLoaded = useSelector((state) => state.editor.justLoaded)\n  const hasShownSavePrompt = useSelector((state) => state.editor.hasShownSavePrompt)\n  const openFiles = useSelector((state) => state.editor.openFiles)\n  const focussedFileIndex = useSelector((state) => state.editor.focussedFileIndex)\n\n  const saving = useSelector((state) => state.editor.saving)\n  const autosave = useSelector((state) => state.editor.lastSaveAutosave)\n\n\n\n  const [numberOfComponents, setNumberOfComponents] = useState(project.components.length)\n  let tabRefs = useRef(project.components.map(createRef))\n\n  useEffect(() => {\n    setNumberOfComponents(project.components.length)\n    Array(project.components.length).fill().forEach((_, i) => {\n      tabRefs.current[i] = tabRefs.current[i] || React.createRef();\n    })\n  }, [project])\n\n  useEffect(() => {\n    const fileName = openFiles[focussedFileIndex]\n    const componentIndex = project.components.findIndex(file => `${file.name}.${file.extension}`=== fileName)\n    const fileRef = tabRefs.current[componentIndex]\n    if (fileRef && fileRef.current) {\n      fileRef.current.parentElement.scrollIntoView()\n    }\n  }, [focussedFileIndex, openFiles, numberOfComponents])\n\n  const switchToFileTab = (index) => {\n    dispatch(setFocussedFileIndex(index))\n  }\n\n  const openFileTab = (fileName) => {\n    if (openFiles.includes(fileName)) {\n      switchToFileTab(openFiles.indexOf(fileName), fileName)\n    } else {\n      dispatch(openFile(fileName))\n      switchToFileTab(openFiles.length)\n    }\n  }\n\n  const closeFileTab = (e, fileName) => {\n    e.stopPropagation()\n    dispatch(closeFile(fileName))\n  }\n\n  useEffect(() => {\n    if (forWebComponent) {\n      return\n    }\n    if (user && localStorage.getItem('awaitingSave')) {\n      if (isOwner(user, project)) {\n        dispatch(syncProject('save')({project, accessToken: user.access_token, autosave: false}))\n        console.log(project);\n      } else if (user && project.identifier) {\n        dispatch(syncProject('remix')({project, accessToken: user.access_token}))\n      }\n      console.log(project);\n      localStorage.removeItem('awaitingSave')\n      return\n    }\n    let debouncer = setTimeout(() => {\n      if (isOwner(user, project) && project.identifier) {\n        dispatch(syncProject('save')({ project, accessToken: user.access_token, autosave: true }));\n      }\n      else {\n        if (justLoaded) {\n          dispatch(expireJustLoaded())\n        } else {\n          localStorage.setItem(project.identifier || 'project', JSON.stringify(project))\n          \n        }\n      }\n    }, 2000);\n\n    return () => clearTimeout(debouncer)\n  }, [dispatch, forWebComponent, project, user])\n  return (\n    <div className='proj'>\n      <div className={`proj-container${forWebComponent ? ' proj-container--wc': ''}`}>\n        <ResizableWithHandle className='proj-editor-container' minWidth='15%' maxWidth='75%'>\n          <Tabs selectedIndex={focussedFileIndex} onSelect={index => switchToFileTab(index)}>\n            <div className='react-tabs__tab-container'>\n              <TabList>\n                {openFiles.map((fileName, i) => (\n                  <Tab key={i}>\n                    <span\n                      className={`react-tabs__tab-inner`}\n                      >\n                      Code                       \n                    </span>\n                  </Tab>\n                ))}\n              </TabList>\n            </div>\n            {openFiles.map((fileName, i) => (\n              <TabPanel key={i}>\n                <EditorPanel fileName={fileName.split('.')[0]} extension={fileName.split('.').slice(1).join('.')} />\n              </TabPanel>\n            ))}\n            <RunnerControls />\n          </Tabs>\n        </ResizableWithHandle>\n        <Output />\n      </div>\n      {(newFileModalShowing) ? <NewFileModal /> : null}\n      {(renameFileModalShowing && modals.renameFile) ? <RenameFile /> : null}\n      {(notFoundModalShowing) ? <NotFoundModal /> : null}\n      {(accessDeniedNoAuthModalShowing) ? <AccessDeniedNoAuthModal /> : null}\n      {(accessDeniedWithAuthModalShowing) ? <AccessDeniedWithAuthModal /> : null}\n    </div>\n  )\n};\n\nexport default Project;\n","import React, { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useProject } from \"../Hooks/useProject\";\nimport { useEmbeddedMode } from \"../Hooks/useEmbeddedMode\";\nimport Project from \"../Project/Project\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nconst ProjectComponentLoader = (props) => {\n  const loading = useSelector((state) => state.editor.loading);\n  const { identifier } = useParams();\n  const embedded = props.embedded || false;\n  const user = useSelector((state) => state.auth.user);\n  const accessToken = user ? user.access_token : null;\n\n  const project = useSelector((state) => state.editor.project);\n  const navigate = useNavigate();\n  const { t, i18n } = useTranslation();\n\n  useEmbeddedMode(embedded);\n  useProject(identifier, accessToken);\n\n  useEffect(() => {\n    if (loading === \"idle\" && project.identifier) {\n      navigate(`/${i18n.language}/projects/${project.identifier}`);\n    }\n    if (loading === \"failed\") {\n      navigate(\"/\");\n    }\n  }, [loading, project, i18n.language, navigate]);\n\n  return loading === \"success\" ? (\n    <Project />\n  ) : loading === \"pending\" ? (\n    <p>{t(\"project.loading\")}</p>\n  ) : null;\n};\n\nexport default ProjectComponentLoader;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport \"./EmbeddedViewer.scss\";\nimport \"../Editor/Project/Project.scss\";\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useProject } from \"../Editor/Hooks/useProject\";\nimport { useEmbeddedMode } from \"../Editor/Hooks/useEmbeddedMode\";\nimport Output from \"../Editor/Output/Output\";\nimport RunnerControls from \"../RunButton/RunnerControls\";\nimport { useParams } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nconst EmbeddedViewer = () => {\n  const loading = useSelector((state) => state.editor.loading);\n  const { identifier } = useParams();\n  const { i18n } = useTranslation();\n\n  useProject(identifier, i18n.language);\n  useEmbeddedMode(true);\n\n  return loading === \"success\" ? (\n    <div className=\"embedded-viewer\">\n      <Output />\n      <RunnerControls />\n    </div>\n  ) : null;\n};\n\nexport default EmbeddedViewer;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { CallbackComponent } from \"redux-oidc\";\nimport { useNavigate } from 'react-router-dom'\nimport userManager from \"../utils/userManager\";\n\nconst Callback = () => {\n  let navigate = useNavigate()\n\n  const previousRoute = localStorage.getItem('location')\n\n  const onSuccess = () => {\n    localStorage.removeItem('location')\n    window.plausible('Login successful')\n    navigate(previousRoute)\n  }\n\n  const onError = (error) => {\n    navigate(previousRoute);\n    console.error(error);\n  }\n\n  return (\n    <CallbackComponent userManager={userManager} successCallback={onSuccess} errorCallback={(error) => onError(error)}>\n      <div>Redirecting...</div>\n    </CallbackComponent>\n  );\n}\n\nexport default connect()(Callback);\n","import { useEffect } from 'react';\nimport { connect } from \"react-redux\";\nimport { processSilentRenew } from \"redux-oidc\";\n\nconst SilentRenew = () => {\n  useEffect(() => {\n    console.log('*************************************');\n    console.log('silently renewing');\n    processSilentRenew()\n  }, []);\n\n  return (null);\n}\n\nexport default connect()(SilentRenew);\n","import { useEffect } from \"react\";\nimport { Outlet, useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nconst LocaleLayout = () => {\n  const { locale } = useParams();\n  const { i18n } = useTranslation();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const isValidLocale = i18n.options.locales.includes(locale);\n\n    if (!isValidLocale) {\n      const localeRegex = new RegExp(`^/${locale}`);\n      navigate(location.pathname.replace(localeRegex, `/${i18n.language}`));\n    }\n  }, [locale, i18n, location, navigate]);\n\n  return <Outlet />;\n};\n\nexport default LocaleLayout;\n","import { React } from 'react'\nimport { Route, Routes, Navigate, useParams } from 'react-router-dom'\nimport * as Sentry from \"@sentry/react\";\n\nimport ProjectComponentLoader from './Editor/ProjectComponentLoader/ProjectComponentLoader'\n\nimport EmbeddedViewer from './EmbeddedViewer/EmbeddedViewer'\nimport Callback from './Callback'\nimport SilentRenew from './SilentRenew'\nimport LocaleLayout from './LocaleLayout/LocaleLayout';\n\nconst projectLinkRedirects = ['/null/projects/:identifier', '/projects/:identifier']\nconst localeRedirects = ['/', '/projects']\n\nconst ProjectsRedirect = () => {\n  const { identifier } = useParams();\n  return <Navigate replace to={`/en/projects/${identifier}`} />\n}\n\nconst SentryRoutes = Sentry.withSentryReactRouterV6Routing(Routes)\n\nconst AppRoutes = () => (\n  <SentryRoutes>\n    <Route\n      path=\"/auth/callback\"\n      element={<Callback/>}\n    />\n\n    <Route\n      path=\"/auth/silent_renew\"\n      element={<SilentRenew/>}\n    />\n    <Route path={\":locale\"} element={<LocaleLayout/>}>\n      <Route index element={<ProjectComponentLoader />} />\n      <Route path={\"projects/:identifier\"} element={<ProjectComponentLoader />} />\n      <Route path=\"embed/viewer/:identifier\" element={<EmbeddedViewer/>} />\n    </Route>\n\n    <Route\n      path=\"/embedded/projects/:identifier\"\n      element={<ProjectComponentLoader embedded={true} />}\n    />\n\n    {/* Redirects will be moved into a cloudflare worker. This is just interim */}\n\n    {projectLinkRedirects.map(link => {\n      return <Route key={link} path={link} element={<ProjectsRedirect />} />\n    }) }\n\n    {localeRedirects.map(link => {\n      return <Route key={link} path={link} element={<Navigate replace to={`/en${link}`} />} />\n    }) }\n  </SentryRoutes>\n)\n\nexport default AppRoutes\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport './Footer.scss';\n\nconst Footer = () => {\n  const { t } = useTranslation()\n  return (\n    <footer className='editor-footer'>\n      <span className='editor-footer__name'>{t('footer.charityNameAndNumber')} & ide4school</span>\n      \n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from \"react\";\nimport Button from \"../components/Button/Button\";\nimport { CloseIcon } from \"../Icons\";\n\nconst ToastCloseButton = ({ closeToast }) => {\n  return (\n    <Button\n      className='btn btn--tertiary'\n      onClickHandler={closeToast}\n      ButtonIcon={() => <CloseIcon scaleFactor={0.75} />}/>\n  )\n}\n\nexport default ToastCloseButton\n","import \"./App.scss\";\nimport \"./typography.scss\";\nimport \"./utils/Notifications.scss\";\n\nimport { useCookies } from \"react-cookie\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport { SettingsContext } from \"./settings\";\nimport Header from \"./components/Header/Header\";\nimport AppRoutes from \"./components/AppRoutes\";\nimport Footer from \"./components/Footer/Footer\";\nimport ToastCloseButton from \"./utils/ToastCloseButton\";\n\nfunction App() {\n  const isEmbedded = useSelector((state) => state.editor.isEmbedded);\n  const [cookies] = useCookies([\"theme\", \"fontSize\"]);\n  const themeDefault = window.matchMedia(\"(prefers-color-scheme:dark)\").matches\n    ? \"dark\"\n    : \"light\";\n\n  return (\n    <div id=\"app\" className={`--${cookies.theme || themeDefault}`}>\n      <SettingsContext.Provider\n        value={{\n          theme: cookies.theme || themeDefault,\n          fontSize: cookies.fontSize || \"small\",\n        }}\n      >\n        <ToastContainer\n          enableMultiContainer\n          containerId=\"top-center\"\n          position=\"top-center\"\n          className=\"toast--top-center\"\n          closeButton={ToastCloseButton}\n        />\n        <BrowserRouter basename={process.env.REACT_APP_BASE_URL}>\n          {isEmbedded ? null : (\n            <>\n              <Header />\n            </>\n          )}\n          <AppRoutes />\n          {isEmbedded ? null : <Footer />}\n        </BrowserRouter>\n        <ToastContainer\n          enableMultiContainer\n          containerId=\"bottom-center\"\n          position=\"bottom-center\"\n          className=\"toast--bottom-center\"\n        />\n      </SettingsContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import { InMemoryCache } from \"@apollo/client\";\n\nconst apolloCache = new InMemoryCache({\n  typePolicies: {\n    Project: { keyFields: [\"id\"] },\n    Query: {\n      fields: {\n        projects: {\n          keyArgs: [\"userId\"],\n\n          read(existing, { canRead }) {\n            if (!existing) return;\n\n            let edges = existing.edges.filter((edge) => canRead(edge.node));\n            return { ...existing, edges };\n          },\n\n          merge(existing = makeEmptyData(), incoming) {\n            const startCursor = incoming?.pageInfo?.startCursor;\n            const endCursor = incoming?.pageInfo?.endCursor;\n\n            let prefix: typeof existing.edges = [];\n            let suffix: typeof existing.edges = [];\n\n            // Find prefix\n            if (startCursor) {\n              const index = existing.edges.findIndex(\n                (edge) => edge.cursor === startCursor\n              );\n              prefix =\n                index > -1 ? existing.edges.slice(0, index) : existing.edges;\n            }\n\n            // Find suffix\n            if (endCursor) {\n              const index = existing.edges.findIndex(\n                (edge) => edge.cursor === endCursor\n              );\n              suffix = index > -1 ? existing.edges.slice(index + 1) : [];\n            }\n\n            const edges = [...prefix, ...incoming.edges, ...suffix];\n\n            // Modify the edges ONLY.\n            return { ...incoming, edges };\n          },\n        },\n      },\n    },\n  },\n});\n\nfunction makeEmptyData() {\n  return {\n    edges: [],\n    pageInfo: {\n      hasPreviousPage: false,\n      hasNextPage: false,\n    },\n  };\n}\n\nexport default apolloCache;\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\n\nimport { SentryLink } from 'apollo-link-sentry';\n\nimport './index.css';\nimport './sentry';\nimport App from './App';\nimport './i18n';\nimport { ApolloLink, ApolloProvider, ApolloClient, createHttpLink } from '@apollo/client';\nimport { setContext } from '@apollo/client/link/context';\nimport { OidcProvider } from 'redux-oidc';\nimport { Provider } from 'react-redux';\nimport store from './app/store';\nimport userManager from './utils/userManager';\nimport apolloCache from './utils/apolloCache';\nimport { CookiesProvider } from 'react-cookie';\n\nconst apiEndpointLink = createHttpLink({ uri: process.env.REACT_APP_API_ENDPOINT + '/graphql' });\nconst apiAuthLink = setContext((_, { headers }) => {\n  // TODO: ... better way to handle state in Apollo\n  const user = store.getState().auth.user;\n\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      Authorization: user ? user.access_token : \"\",\n    }\n  }\n});\n\nconst client = new ApolloClient({\n  link: ApolloLink.from([\n    new SentryLink(),\n    apiAuthLink,\n    apiEndpointLink\n  ]),\n  cache: apolloCache\n});\n\nconst supportsContainerQueries = 'container' in document.documentElement.style\nif (!supportsContainerQueries) {\n  // eslint-disable-next-line no-unused-expressions\n  import('container-query-polyfill')\n}\n\nconst div = document.getElementById('root')\nconst root = createRoot(div)\nroot.render(\n  <React.StrictMode>\n    <CookiesProvider>\n      <ApolloProvider client={client}>\n        <Provider store={store}>\n          <OidcProvider store={store} userManager={userManager}>\n            <App />\n          </OidcProvider>\n        </Provider>\n      </ApolloProvider>\n    </CookiesProvider>\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}