(this["webpackJsonp@raspberrypifoundation/editor-ui"]=this["webpackJsonp@raspberrypifoundation/editor-ui"]||[]).push([[0],{106:function(e,t,n){},180:function(e,t,n){},289:function(e,t,n){},290:function(e,t,n){},350:function(e,t,n){},353:function(e,t,n){},354:function(e,t,n){},355:function(e,t,n){},357:function(e,t,n){},364:function(e,t,n){},481:function(e,t,n){},482:function(e,t,n){},483:function(e,t,n){},484:function(e,t,n){},485:function(e,t,n){},504:function(e,t,n){},505:function(e,t,n){},506:function(e,t,n){},507:function(e,t,n){},508:function(e,t,n){},523:function(e,t,n){},524:function(e,t,n){},534:function(e,t,n){},535:function(e,t,n){},536:function(e,t,n){},537:function(e,t,n){},538:function(e,t,n){"use strict";n.r(t);var o=n(5),c=n(2),a=n.n(c),r=n(296),i=n(195),s=(n(350),n(31)),l=n(27),u=n(554),d=n(555),j=n(316);u.a({dsn:"",integrations:[new j.a({routingInstrumentation:d.a(a.a.useEffect,s.n,s.r,s.k,l.n),tracePropagationTargets:["http://localhost:3009",/\//]})],environment:"local",beforeBreadcrumb:i.excludeGraphQLFetch,tracesSampleRate:.8});var p=n(14),b=(n(353),n(354),n(355),n(562)),h=n(85),m=n(22),f=n(237),O=Object(c.createContext)({theme:window.matchMedia("(prefers-color-scheme:dark)").matches?"dark":"light",fontSize:"small"}),g=n(16),x=n(28),v=(n(357),n(35)),w=n(557),_=n(4),C=function(e){var t=e.scaleFactor||1;return Object(_.jsx)("svg",{transform:"scale(".concat(t,", ").concat(t,")"),width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M1.4 14L0 12.6L5.6 7L0 1.4L1.4 0L7 5.6L12.6 0L14 1.4L8.4 7L14 12.6L12.6 14L7 8.4L1.4 14Z"})})},y=function(){return Object(_.jsxs)("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(_.jsx)("path",{d:"M7.77953 19.6065H9.80893V17.5761H7.77953C6.10122 17.5761 4.73544 16.2096 4.73544 14.5304C4.73544 13.105 5.95206 11.7324 7.44772 11.4695L8.03726 11.3659L8.23209 10.7994C8.94542 8.71717 10.7171 7.42377 12.853 7.42377C15.6505 7.42377 17.9265 9.70093 17.9265 12.4999V13.5151H18.9412C20.0604 13.5151 20.9706 14.4258 20.9706 15.5456C20.9706 16.6654 20.0604 17.5761 18.9412 17.5761H15.8971V19.6065H18.9412C21.1796 19.6065 23 17.7852 23 15.5456C22.9984 14.6356 22.6922 13.7523 22.1301 13.0368C21.568 12.3213 20.7825 11.8149 19.8991 11.5984C19.4557 8.10397 16.4653 5.39331 12.853 5.39331C10.0565 5.39331 7.62733 7.02884 6.51826 9.60651C4.33869 10.2583 2.70604 12.3172 2.70604 14.5304C2.70604 17.3294 4.98201 19.6065 7.77953 19.6065Z"}),Object(_.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.1836 11.8558L11.6817 16.7791L9.17648 14.4342L10.3575 13.1724L11.5862 14.3224L14.9081 10.6895L16.1836 11.8558Z"})]})},S=function(){return Object(_.jsxs)("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(_.jsx)("path",{d:"M14.0139 19.6065V15.5456H17.058L12.9992 10.4695L8.94049 15.5456H11.9846V19.6065H14.0139Z"}),Object(_.jsx)("path",{d:"M7.77966 19.6064H9.80904V17.5759H7.77966C6.10136 17.5759 4.73559 16.2095 4.73559 14.5303C4.73559 13.1049 5.95221 11.7323 7.44786 11.4694L8.03739 11.3658L8.23221 10.7994C8.94554 8.71714 10.7172 7.42375 12.8531 7.42375C15.6506 7.42375 17.9266 9.70089 17.9266 12.4998V13.5151H18.9412C20.0604 13.5151 20.9706 14.4257 20.9706 15.5455C20.9706 16.6653 20.0604 17.5759 18.9412 17.5759H15.8972V19.6064H18.9412C21.1796 19.6064 23 17.7851 23 15.5455C22.9984 14.6355 22.6922 13.7522 22.1301 13.0367C21.568 12.3213 20.7826 11.8148 19.8991 11.5983C19.4557 8.10395 16.4654 5.39331 12.8531 5.39331C10.0566 5.39331 7.62746 7.02883 6.5184 9.60647C4.33885 10.2582 2.70621 12.3171 2.70621 14.5303C2.70621 17.3292 4.98216 19.6064 7.77966 19.6064Z"})]})},N=function(){return Object(_.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M8 12L3 7L4.4 5.55L7 8.15V0H9V8.15L11.6 5.55L13 7L8 12ZM0 16V11H2V14H14V11H16V16H0Z"})})},M=function(e){var t=e.size;return Object(_.jsx)("svg",{width:"".concat(t),height:"".concat(t),viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M4.317 0.0253907C4.782 0.0253907 5.199 0.310391 5.367 0.745391L7.7085 6.81739L6.5025 9.92239C6.48286 9.8849 6.46533 9.84634 6.45 9.80689L5.994 8.62489H2.64L2.184 9.80689C2.07659 10.0854 1.86295 10.3098 1.59008 10.4307C1.31722 10.5517 1.00748 10.5593 0.728998 10.4519C0.450521 10.3445 0.226119 10.1308 0.105158 9.85798C-0.0158029 9.58511 -0.0234144 9.27537 0.0839983 8.99689L3.2685 0.745391C3.35031 0.533367 3.49442 0.351093 3.68185 0.222571C3.86928 0.0940482 4.09124 0.0253041 4.3185 0.0253907H4.317ZM3.507 6.37489H5.127L4.317 4.27489L3.507 6.37489ZM12.3 3.72889C12.2186 3.51617 12.0746 3.33316 11.887 3.20406C11.6994 3.07495 11.477 3.00582 11.2492 3.00582C11.0215 3.00582 10.7991 3.07495 10.6115 3.20406C10.4239 3.33316 10.2799 3.51617 10.1985 3.72889L5.601 15.7499C5.30263 15.7535 5.0179 15.8754 4.80946 16.0889C4.60101 16.3025 4.48592 16.59 4.4895 16.8884C4.49308 17.1868 4.61504 17.4715 4.82855 17.6799C5.04206 17.8884 5.32963 18.0035 5.628 17.9999H6.309C6.35495 18.0028 6.40104 18.0028 6.447 17.9999L7.8795 17.9954C8.16669 17.9956 8.44309 17.886 8.65206 17.6889C8.86102 17.4919 8.98673 17.2225 9.00341 16.9357C9.0201 16.649 8.9265 16.3668 8.7418 16.1469C8.5571 15.927 8.29528 15.786 8.01 15.7529L8.5845 14.2529H13.917L14.496 15.7649C14.2106 15.798 13.9487 15.9391 13.7639 16.1592C13.5792 16.3792 13.4857 16.6617 13.5026 16.9485C13.5195 17.2353 13.6455 17.5048 13.8547 17.7017C14.064 17.8986 14.3407 18.008 14.628 18.0074L16.878 18.0014C17.1764 18.0042 17.4636 17.8883 17.6766 17.6793C17.8895 17.4703 18.0107 17.1853 18.0135 16.8869C18.0163 16.5885 17.9004 16.3013 17.6914 16.0883C17.4824 15.8754 17.1974 15.7542 16.899 15.7514L15.777 12.8189C15.759 12.7554 15.7354 12.6937 15.7065 12.6344L12.3015 3.73039L12.3 3.72889ZM13.056 11.9999H9.444L11.25 7.27939L13.056 11.9999Z"})})},L=function(){return Object(_.jsx)("svg",{width:"16",height:"18",viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M2 16H5V10H11V16H14V7L8 2.5L2 7V16ZM0 18V6L8 0L16 6V18H9V12H7V18H0Z"})})},E=function(){return Object(_.jsx)("svg",{width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M10.5 16C10.9167 16 11.2707 15.854 11.562 15.562C11.854 15.2707 12 14.9167 12 14.5C12 14.0833 11.854 13.7293 11.562 13.438C11.2707 13.146 10.9167 13 10.5 13C10.0833 13 9.72933 13.146 9.438 13.438C9.146 13.7293 9 14.0833 9 14.5C9 14.9167 9.146 15.2707 9.438 15.562C9.72933 15.854 10.0833 16 10.5 16ZM5.45 15.95L11.95 9.45L10.55 8.05L4.05 14.55L5.45 15.95ZM5.5 11C5.91667 11 6.27067 10.854 6.562 10.562C6.854 10.2707 7 9.91667 7 9.5C7 9.08333 6.854 8.72933 6.562 8.438C6.27067 8.146 5.91667 8 5.5 8C5.08333 8 4.72933 8.146 4.438 8.438C4.146 8.72933 4 9.08333 4 9.5C4 9.91667 4.146 10.2707 4.438 10.562C4.72933 10.854 5.08333 11 5.5 11ZM8 20C5.71667 20 3.81267 19.2167 2.288 17.65C0.762667 16.0833 0 14.1333 0 11.8C0 10.1333 0.662667 8.321 1.988 6.363C3.31267 4.40433 5.31667 2.28333 8 0C10.6833 2.28333 12.6877 4.40433 14.013 6.363C15.3377 8.321 16 10.1333 16 11.8C16 14.1333 15.2373 16.0833 13.712 17.65C12.1873 19.2167 10.2833 20 8 20ZM8 18C9.73333 18 11.1667 17.4127 12.3 16.238C13.4333 15.0627 14 13.5833 14 11.8C14 10.5833 13.496 9.20833 12.488 7.675C11.4793 6.14167 9.98333 4.46667 8 2.65C6.01667 4.46667 4.521 6.14167 3.513 7.675C2.50433 9.20833 2 10.5833 2 11.8C2 13.5833 2.56667 15.0627 3.7 16.238C4.83333 17.4127 6.26667 18 8 18Z"})})},T=function(){return Object(_.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M9 18C6.5 18 4.375 17.125 2.625 15.375C0.875 13.625 0 11.5 0 9C0 6.5 0.875 4.375 2.625 2.625C4.375 0.875 6.5 0 9 0C9.23333 0 9.46267 0.00833343 9.688 0.0250001C9.91267 0.0416668 10.1333 0.0666666 10.35 0.0999999C9.66667 0.583333 9.121 1.21233 8.713 1.987C8.30433 2.76233 8.1 3.6 8.1 4.5C8.1 6 8.625 7.275 9.675 8.325C10.725 9.375 12 9.9 13.5 9.9C14.4167 9.9 15.2583 9.69567 16.025 9.287C16.7917 8.879 17.4167 8.33333 17.9 7.65C17.9333 7.86667 17.9583 8.08733 17.975 8.312C17.9917 8.53733 18 8.76667 18 9C18 11.5 17.125 13.625 15.375 15.375C13.625 17.125 11.5 18 9 18ZM9 16C10.4667 16 11.7833 15.596 12.95 14.788C14.1167 13.9793 14.9667 12.925 15.5 11.625C15.1667 11.7083 14.8333 11.775 14.5 11.825C14.1667 11.875 13.8333 11.9 13.5 11.9C11.45 11.9 9.704 11.1793 8.262 9.738C6.82067 8.296 6.1 6.55 6.1 4.5C6.1 4.16667 6.125 3.83333 6.175 3.5C6.225 3.16667 6.29167 2.83333 6.375 2.5C5.075 3.03333 4.021 3.88333 3.213 5.05C2.40433 6.21667 2 7.53333 2 9C2 10.9333 2.68333 12.5833 4.05 13.95C5.41667 15.3167 7.06667 16 9 16Z"})})},k=function(){return Object(_.jsx)("svg",{transform:"scale(".concat(1.6,", ").concat(1.6,")"),width:"15",height:"15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsxs)("g",{children:[Object(_.jsx)("path",{d:"M8.752 7.001a1 1 0 0 1-1.971.237c-.062-.252-.123-.52-.307-.704L5.411 5.471a.5.5 0 1 1 .707-.707l.957.957c.207.207.52.25.81.29a1 1 0 0 1 .867.99Z"}),Object(_.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.75 6.75a4.25 4.25 0 1 1-8.5 0 4.25 4.25 0 0 1 8.5 0zm-1 0a3.25 3.25 0 1 1-6.5 0 3.25 3.25 0 0 1 6.5 0z"}),Object(_.jsx)("path",{d:"M6.252 10.5h2.5v.75a1.25 1.25 0 1 1-2.5 0z"})]})})},P=function(){return Object(_.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M10 0H16V2H13.25L13.65 2.35C14.4667 3.16667 15.0627 4.054 15.438 5.012C15.8127 5.97067 16 6.95 16 7.95C16 9.8 15.4457 11.4457 14.337 12.887C13.229 14.329 11.7833 15.2833 10 15.75V13.65C11.2 13.2167 12.1667 12.4793 12.9 11.438C13.6333 10.396 14 9.23333 14 7.95C14 7.2 13.8583 6.47067 13.575 5.762C13.2917 5.054 12.85 4.4 12.25 3.8L12 3.55V6H10V0ZM6 16H0V14H2.75L2.35 13.65C1.48333 12.8833 0.875 12.0083 0.525 11.025C0.175 10.0417 0 9.05 0 8.05C0 6.2 0.554 4.554 1.662 3.112C2.77067 1.67067 4.21667 0.716667 6 0.25V2.35C4.8 2.78333 3.83333 3.52067 3.1 4.562C2.36667 5.604 2 6.76667 2 8.05C2 8.8 2.14167 9.529 2.425 10.237C2.70833 10.9457 3.15 11.6 3.75 12.2L4 12.45V10H6V16Z"})})},H=function(){return Object(_.jsx)("svg",{width:"11",height:"14",viewBox:"0 0 11 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M0 14V0L11 7L0 14ZM2 10.35L7.25 7L2 3.65V10.35Z"})})},A=function(){return Object(_.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M8 18V12H10V14H18V16H10V18H8ZM0 16V14H6V16H0ZM4 12V10H0V8H4V6H6V12H4ZM8 10V8H18V10H8ZM12 6V0H14V2H18V4H14V6H12ZM0 4V2H10V4H0Z"})})},I=function(){return Object(_.jsx)("svg",{transform:"scale(".concat(.8,", ").concat(.8,")"),width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.87868 5.87868C2.31607 6.44129 2 7.20435 2 8V16C2 16.7956 2.31607 17.5587 2.87868 18.1213C3.44129 18.6839 4.20435 19 5 19H19C19.7956 19 20.5587 18.6839 21.1213 18.1213C21.6839 17.5587 22 16.7956 22 16V8C22 7.20435 21.6839 6.44129 21.1213 5.87868C20.5587 5.31607 19.7956 5 19 5H5C4.20435 5 3.44129 5.31607 2.87868 5.87868ZM19 7H5C4.73478 7 4.48043 7.10536 4.29289 7.29289C4.10536 7.48043 4 7.73478 4 8V11H20V8C20 7.73478 19.8946 7.48043 19.7071 7.29289C19.5196 7.10536 19.2652 7 19 7ZM4 16V13H8L7.99999 12.9995H11V13H20V16C20 16.2652 19.8946 16.5196 19.7071 16.7071C19.5196 16.8946 19.2652 17 19 17H10V16.9995H8.00033L8 17H5C4.73478 17 4.48043 16.8946 4.29289 16.7071C4.10536 16.5196 4 16.2652 4 16Z"})})},R=function(){return Object(_.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M2 2V10V2ZM0 12V0H12V12H0ZM2 10H10V2H2V10Z"})})},F=function(){return Object(_.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M11 14C11.8333 14 12.5417 13.7083 13.125 13.125C13.7083 12.5417 14 11.8333 14 11C14 10.1667 13.7083 9.45833 13.125 8.875C12.5417 8.29167 11.8333 8 11 8C10.1667 8 9.45833 8.29167 8.875 8.875C8.29167 9.45833 8 10.1667 8 11C8 11.8333 8.29167 12.5417 8.875 13.125C9.45833 13.7083 10.1667 14 11 14ZM11 16C9.61667 16 8.43767 15.5123 7.463 14.537C6.48767 13.5623 6 12.3833 6 11C6 9.61667 6.48767 8.43733 7.463 7.462C8.43767 6.48733 9.61667 6 11 6C12.3833 6 13.5627 6.48733 14.538 7.462C15.5127 8.43733 16 9.61667 16 11C16 12.3833 15.5127 13.5623 14.538 14.537C13.5627 15.5123 12.3833 16 11 16ZM0 12V10H4V12H0ZM18 12V10H22V12H18ZM10 4V0H12V4H10ZM10 22V18H12V22H10ZM5.35 6.75L2.875 4.275L4.275 2.875L6.75 5.35L5.35 6.75ZM17.725 19.125L15.25 16.65L16.65 15.25L19.125 17.725L17.725 19.125ZM16.65 6.75L15.25 5.35L17.725 2.875L19.125 4.275L16.65 6.75ZM4.275 19.125L2.875 17.725L5.35 15.25L6.75 16.65L4.275 19.125Z"})})},V=function(){return Object(_.jsx)("svg",{transform:"scale(".concat(.8,", ").concat(.8,")"),width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 8C2 7.20435 2.31607 6.44129 2.87868 5.87868C3.44129 5.31607 4.20435 5 5 5H19C19.7956 5 20.5587 5.31607 21.1213 5.87868C21.6839 6.44129 22 7.20435 22 8V16C22 16.7956 21.6839 17.5587 21.1213 18.1213C20.5587 18.6839 19.7956 19 19 19H5C4.20435 19 3.44129 18.6839 2.87868 18.1213C2.31607 17.5587 2 16.7956 2 16V8ZM13 7H19C19.2652 7 19.5196 7.10536 19.7071 7.29289C19.8946 7.48043 20 7.73478 20 8V16C20 16.2652 19.8946 16.5196 19.7071 16.7071C19.5196 16.8946 19.2652 17 19 17H13V7ZM11 7H5C4.73478 7 4.48043 7.10536 4.29289 7.29289C4.10536 7.48043 4 7.73478 4 8V16C4 16.2652 4.10536 16.5196 4.29289 16.7071C4.48043 16.8946 4.73478 17 5 17H11V7Z"})})},D=function(){return Object(_.jsx)("svg",{width:"10",height:"20",viewBox:"0 0 10 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M5 20C3.61667 20 2.43767 19.5127 1.463 18.538C0.487667 17.5627 0 16.3833 0 15C0 14.2 0.175 13.454 0.525 12.762C0.875 12.0707 1.36667 11.4833 2 11V3C2 2.16667 2.29167 1.45833 2.875 0.875C3.45833 0.291667 4.16667 0 5 0C5.83333 0 6.54167 0.291667 7.125 0.875C7.70833 1.45833 8 2.16667 8 3V11C8.63333 11.4833 9.125 12.0707 9.475 12.762C9.825 13.454 10 14.2 10 15C10 16.3833 9.51267 17.5627 8.538 18.538C7.56267 19.5127 6.38333 20 5 20ZM4 9H6V8H5V7H6V5H5V4H6V3C6 2.71667 5.90433 2.479 5.713 2.287C5.521 2.09567 5.28333 2 5 2C4.71667 2 4.47933 2.09567 4.288 2.287C4.096 2.479 4 2.71667 4 3V9Z"})})},B=function(){var e=Object(v.b)().t,t=Object(m.d)((function(e){return e.editor.lastSavedTime})),n=Object(m.d)((function(e){return e.editor.saving})),o=Object(c.useState)(Date.now()),a=Object(p.a)(o,2),r=a[0],i=a[1],s="pending"===n;return Object(c.useEffect)((function(){i(Date.now());var e=setInterval((function(){i(Date.now())}),1e4);return function(){return clearInterval(e)}}),[t]),Object(_.jsx)("div",{className:"autosave",children:s?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"autosave__icon",children:Object(_.jsx)(S,{})}),Object(_.jsxs)("div",{className:"autosave__status",children:[e("header.autoSaving"),"\u2026"]})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"autosave__icon",children:Object(_.jsx)(y,{})}),Object(_.jsxs)("div",{className:"autosave__status",children:[e("header.autoSaved")," ",Object(w.a)(t,r,{style:"narrow"})]})]})})},Z=(n(364),n(303)),z=(n(367),function(e){var t=e.className,n=e.onClickHandler,o=e.ButtonIcon,c=e.buttonImage,a=e.buttonImageAltText,r=e.buttonText,i=e.buttonOuter,s=e.buttonOuterClassName,l=e.disabled,u=e.confirmText,d=e.title,j=e.label,p=e.buttonIconPosition,b=void 0===p?"left":p,h="btn".concat(t?" ".concat(t):"").concat(r?"":" btn--svg-only"),m=function(e){u?Object(Z.confirmAlert)({message:u,buttons:[{label:"Yes",onClick:function(){return n(e)}},{label:"No"}]}):n(e)},f=Object(_.jsxs)("button",{className:h,disabled:l,"aria-label":j,title:d,onClick:i?null:m,children:[c?Object(_.jsx)("img",{src:c,alt:a}):null,o&&"left"===b?Object(_.jsx)(o,{}):null,r?Object(_.jsx)("span",{children:r}):null,o&&"right"===b?Object(_.jsx)(o,{}):null]});return i?Object(_.jsx)("div",{className:"btn-outer".concat(s?" ".concat(s):""),onClick:m,children:f}):f}),W=n(150),q=n(304),U=n.n(q),K=n(168),G=n.n(K),Y=n(305),J=n.n(Y),X="http://localhost:3009",Q=function(){var e=Object(x.a)(Object(g.a)().mark((function e(t,n){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.get(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=Object(x.a)(Object(g.a)().mark((function e(t,n,o){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.post(t,n,o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),ee=function(){var e=Object(x.a)(Object(g.a)().mark((function e(t,n,o){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.put(t,n,o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),te=function(e){return{headers:e?{Accept:"application/json",Authorization:e}:{Accept:"application/json"}}},ne=function(){var e=Object(x.a)(Object(g.a)().mark((function e(t,n){var o;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=J()(t,["user_id"])).identifier){e.next=7;break}return e.next=4,$("".concat(X,"/api/projects"),{project:o},te(n));case 4:case 9:return e.abrupt("return",e.sent);case 7:return e.next=9,ee("".concat(X,"/api/projects/").concat(o.identifier),{project:o},te(n));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(){var e=Object(x.a)(Object(g.a)().mark((function e(t,n){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.delete("".concat(X,"/api/projects/").concat(t),te(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(x.a)(Object(g.a)().mark((function e(t,n){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("".concat(X,"/api/projects/").concat(t.identifier,"/remix"),{project:t},te(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ae=function(){var e=Object(x.a)(Object(g.a)().mark((function e(t,n,o){var c;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n?"?locale=".concat(n):"",e.next=3,Q("".concat(X,"/api/projects/").concat(t).concat(c),te(o));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),re=function(){var e=Object(x.a)(Object(g.a)().mark((function e(t,n){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("".concat(X,"/api/projects"),Object(o.a)({params:{page:t}},te(n)));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ie=function(e){return Object(W.b)("editor/".concat(e,"Project"),function(){var t=Object(x.a)(Object(g.a)().mark((function t(n,o){var c,a,r,i,s,l,u;return Object(g.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=n.project,a=n.identifier,r=n.locale,i=n.accessToken,s=n.autosave,l=o.rejectWithValue,t.t0=e,t.next="load"===t.t0?5:"remix"===t.t0?9:"save"===t.t0?13:"delete"===t.t0?17:21;break;case 5:return t.next=7,ae(a,r,i);case 7:return u=t.sent,t.abrupt("break",22);case 9:return t.next=11,ce(c,i);case 11:return u=t.sent,t.abrupt("break",22);case 13:return t.next=15,ne(c,i);case 15:return u=t.sent,t.abrupt("break",22);case 17:return t.next=19,oe(a,i);case 19:return u=t.sent,t.abrupt("break",22);case 21:l({error:"no such sync action"});case 22:return t.abrupt("return",{project:u.data,autosave:s});case 23:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),{condition:function(t,n){var o=(0,n.getState)(),c=o.editor,a=o.auth,r=c.saving,i=c.loading;return!a.isLoadingUser&&(("save"!==e&&"remix"!==e||"pending"!==r)&&(("load"!==e||"pending"!==i)&&void 0))}})},se=(Object(W.b)("editor/loadProjectList",function(){var e=Object(x.a)(Object(g.a)().mark((function e(t){var n,o,c;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,o=t.accessToken,e.next=3,re(n,o);case 3:return c=e.sent,e.abrupt("return",{projects:c.data,page:n,links:U()(c.headers.link)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(W.c)({name:"editor",initialState:{project:{},saving:"idle",loading:"idle",justLoaded:!1,hasShownSavePrompt:!1,loadError:"",saveError:"",currentLoadingRequestId:void 0,openFiles:[],focussedFileIndex:0,nameError:"",codeRunTriggered:!1,drawTriggered:!1,isEmbedded:!1,isSplitView:!0,codeRunStopped:!1,projectList:[],projectListLoaded:"idle",projectIndexCurrentPage:1,projectIndexTotalPages:1,lastSaveAutosave:!1,lastSavedTime:null,senseHatAlwaysEnabled:!1,senseHatEnabled:!1,accessDeniedNoAuthModalShowing:!1,accessDeniedWithAuthModalShowing:!1,betaModalShowing:!1,loginToSaveModalShowing:!1,notFoundModalShowing:!1,newFileModalShowing:!1,renameFileModalShowing:!1,renameProjectModalShowing:!1,deleteProjectModalShowing:!1,modals:{}},reducers:{closeFile:function(e,t){var n=e.openFiles.indexOf(t.payload);e.openFiles=e.openFiles.filter((function(e){return e!==t.payload})),(e.focussedFileIndex>=e.openFiles.length||n<e.focussedFileIndex)&&e.focussedFileIndex--},openFile:function(e,t){e.openFiles.includes(t.payload)||e.openFiles.push(t.payload),e.focussedFileIndex=e.openFiles.indexOf(t.payload)},setFocussedFileIndex:function(e,t){e.focussedFileIndex=t.payload},updateImages:function(e,t){e.project.image_list||(e.project.image_list=[]),e.project.image_list=t.payload},addProjectComponent:function(e,t){e.project.components.push({name:t.payload.name,extension:t.payload.extension,content:""}),e.saving="idle"},setEmbedded:function(e,t){e.isEmbedded=!0},setIsSplitView:function(e,t){e.isSplitView=t.payload},setNameError:function(e,t){e.nameError=t.payload},setHasShownSavePrompt:function(e){e.hasShownSavePrompt=!0},setProject:function(e,t){e.project=t.payload,e.project.image_list||(e.project.image_list=[]),e.loading="success",0===e.openFiles.length&&("html"===e.project.project_type?e.openFiles.push("index.html"):e.openFiles.push("main.py")),e.justLoaded=!0},expireJustLoaded:function(e){e.justLoaded=!1},setSenseHatAlwaysEnabled:function(e,t){e.senseHatAlwaysEnabled=t.payload},setSenseHatEnabled:function(e,t){e.senseHatEnabled=t.payload},triggerDraw:function(e){e.drawTriggered=!0},updateProjectComponent:function(e,t){var n=t.payload.extension,c=t.payload.name,a=t.payload.code,r=e.project.components.map((function(e){return e.extension!==n||e.name!==c?e:Object(o.a)(Object(o.a)({},e),{content:a})}));e.project.components=r},updateProjectName:function(e,t){e.project.name=t.payload,e.saving="idle"},updateComponentName:function(e,t){var n=t.payload.key,o=t.payload.name,c=t.payload.extension,a="".concat(e.project.components[n].name,".").concat(e.project.components[n].extension);e.project.components[n].name=o,e.project.components[n].extension=c,e.openFiles.includes(a)&&(e.openFiles[e.openFiles.indexOf(a)]="".concat(o,".").concat(c)),e.saving="idle"},setError:function(e,t){e.error=t.payload},triggerCodeRun:function(e){e.codeRunTriggered=!0},stopCodeRun:function(e){e.codeRunStopped=!0},stopDraw:function(e){e.drawTriggered=!1},codeRunHandled:function(e){e.codeRunTriggered=!1,e.codeRunStopped=!1},closeAccessDeniedNoAuthModal:function(e){e.accessDeniedNoAuthModalShowing=!1,e.modals={}},closeAccessDeniedWithAuthModal:function(e){e.accessDeniedWithAuthModalShowing=!1},showBetaModal:function(e){e.betaModalShowing=!0},closeBetaModal:function(e){e.betaModalShowing=!1},showLoginToSaveModal:function(e){e.loginToSaveModalShowing=!0},closeLoginToSaveModal:function(e){e.loginToSaveModalShowing=!1},closeNotFoundModal:function(e){e.notFoundModalShowing=!1},showNewFileModal:function(e){e.newFileModalShowing=!0},closeNewFileModal:function(e){e.newFileModalShowing=!1,e.nameError=""},showRenameFileModal:function(e,t){e.modals.renameFile=t.payload,e.renameFileModalShowing=!0},closeRenameFileModal:function(e){e.renameFileModalShowing=!1,e.nameError=""},showRenameProjectModal:function(e,t){e.modals.renameProject=t.payload,e.renameProjectModalShowing=!0},closeRenameProjectModal:function(e){e.modals.renameProject=null,e.renameProjectModalShowing=!1},showDeleteProjectModal:function(e,t){e.modals.deleteProject=t.payload,e.deleteProjectModalShowing=!0},closeDeleteProjectModal:function(e){e.modals.deleteProject=null,e.deleteProjectModalShowing=!1},setProjectIndexPage:function(e,t){e.projectIndexCurrentPage=t.payload,e.projectListLoaded="idle"}},extraReducers:function(e){e.addCase("editor/saveProject/pending",(function(e){e.saving="pending"})),e.addCase("editor/saveProject/fulfilled",(function(e,t){localStorage.removeItem(e.project.identifier||"project"),e.lastSaveAutosave=t.payload.autosave,e.saving="success",e.lastSavedTime=Date.now(),e.renameProjectModalShowing?(e.modals.renameProject=null,e.renameProjectModalShowing=!1,e.projectListLoaded="idle"):e.project.identifier!==t.payload.project.identifier&&(e.project.image_list=e.project.image_list||[],e.project=t.payload.project,e.loading="idle")})),e.addCase("editor/saveProject/rejected",(function(e){e.saving="failed"})),e.addCase("editor/remixProject/fulfilled",(function(e,t){e.lastSaveAutosave=!1,e.saving="success",e.project=t.payload.project,e.loading="idle"})),e.addCase("editor/loadProject/pending",(function(e,t){e.loading="pending",e.accessDeniedNoAuthModalShowing=!1,e.modals={},e.currentLoadingRequestId=t.meta.requestId})),e.addCase("editor/loadProject/fulfilled",(function(e,t){"pending"===e.loading&&e.currentLoadingRequestId===t.meta.requestId&&(e.project=t.payload.project,e.loading="success",e.justLoaded=!0,e.saving="idle",e.currentLoadingRequestId=void 0,0===e.openFiles.length&&("html"===e.project.project_type?e.openFiles.push("index.html"):e.openFiles.push("main.py")))})),e.addCase("editor/loadProject/rejected",(function(e,t){if("pending"===e.loading&&e.currentLoadingRequestId===t.meta.requestId){e.loading="failed",e.saving="idle";var n=t.error.message.split(" "),o=n[n.length-1];"404"===o?e.notFoundModalShowing=!0:"500"!==o&&"403"!==o||!t.meta.arg.accessToken?"500"!==o&&"403"!==o||t.meta.arg.accessToken||(e.accessDeniedNoAuthModalShowing=!0,e.modals.accessDenied={identifier:t.meta.arg.identifier,projectType:t.meta.arg.projectType}):e.accessDeniedWithAuthModalShowing=!0,e.currentLoadingRequestId=void 0}})),e.addCase("editor/deleteProject/fulfilled",(function(e){e.projectListLoaded="idle",e.modals.deleteProject=null,e.deleteProjectModalShowing=!1})),e.addCase("editor/loadProjectList/pending",(function(e){e.projectListLoaded="pending"})),e.addCase("editor/loadProjectList/fulfilled",(function(e,t){if(t.payload.projects.length>0||1===t.payload.page){e.projectListLoaded="success",e.projectList=t.payload.projects;var n=t.payload.links;e.projectIndexTotalPages=n&&n.last?parseInt(n.last.page):t.payload.page}else e.projectIndexCurrentPage=e.projectIndexCurrentPage-1,e.projectListLoaded="idle"})),e.addCase("editor/loadProjectList/rejected",(function(e){e.projectListLoaded="failed"}))}})),le=se.actions,ue=le.addProjectComponent,de=le.codeRunHandled,je=le.expireJustLoaded,pe=(le.closeFile,le.openFile),be=le.setFocussedFileIndex,he=le.setEmbedded,me=le.setError,fe=le.setIsSplitView,Oe=le.setNameError,ge=(le.setHasShownSavePrompt,le.setProject),xe=(le.setSenseHatAlwaysEnabled,le.setSenseHatEnabled),ve=le.stopCodeRun,we=le.stopDraw,_e=le.triggerCodeRun,Ce=le.triggerDraw,ye=le.updateComponentName,Se=(le.updateImages,le.updateProjectComponent),Ne=le.updateProjectName,Me=le.closeAccessDeniedNoAuthModal,Le=le.closeAccessDeniedWithAuthModal,Ee=(le.showBetaModal,le.closeBetaModal,le.showLoginToSaveModal,le.closeLoginToSaveModal),Te=le.closeNotFoundModal,ke=(le.showNewFileModal,le.closeNewFileModal),Pe=(le.showRenameFileModal,le.closeRenameFileModal),He=(le.showRenameProjectModal,le.closeRenameProjectModal,le.showDeleteProjectModal,le.closeDeleteProjectModal,le.setProjectIndexPage,se.reducer),Ae=(n(481),function(e){var t=e.ButtonIcon,n=e.buttonImage,o=e.buttonImageAltText,a=e.buttonText,r=e.MenuContent,i=Object(c.useState)(!1),s=Object(p.a)(i,2),l=s[0],u=s[1],d=Object(c.useRef)();Object(c.useEffect)((function(){function e(e){d.current&&!d.current.contains(e.target)&&u(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[d]);return Object(_.jsxs)("div",{className:"dropdown",ref:d,onKeyDown:function(e){"Escape"===e.key&&u(!1)},children:[Object(_.jsx)(z,{className:"btn--tertiary dropdown-button".concat(l?" dropdown-button--active":""),onClickHandler:function(){return u(!l)},buttonText:a,ButtonIcon:t,buttonImage:n,buttonImageAltText:o}),l?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"dropdown-backdrop",onClick:function(){return u(!1)}}),Object(_.jsx)(r,{})]}):null]})}),Ie=(n(482),["/","/projects","/python"]),Re=function(){var e=Object(b.a)(["fontSize"]),t=Object(p.a)(e,3),n=t[0],o=t[1],c=t[2],a=n.fontSize||"small",r=Object(v.b)().t,i=function(e){n.fontSize&&Ie.forEach((function(e){c("fontSize",{path:e})})),o("fontSize",e,{path:"/"})};return Object(_.jsxs)("div",{className:"font-size-selector",children:[Object(_.jsxs)("div",{className:"font-btn font-btn--small",onClick:function(){return i("small")},children:[Object(_.jsx)("button",{className:"font-btn__icon font-btn__icon--small ".concat("small"===a?"font-btn__icon--active":""),children:Object(_.jsx)(M,{size:15})}),Object(_.jsx)("p",{children:r("header.settingsMenu.textSizeOptions.small")})]}),Object(_.jsxs)("div",{className:"font-btn font-btn--medium",onClick:function(){return i("medium")},children:[Object(_.jsx)("button",{className:"font-btn__icon font-btn__icon--medium ".concat("medium"===a?"font-btn__icon--active":""),children:Object(_.jsx)(M,{size:23})}),Object(_.jsx)("p",{children:r("header.settingsMenu.textSizeOptions.medium")})]}),Object(_.jsxs)("div",{className:"font-btn font-btn--large",onClick:function(){return i("large")},children:[Object(_.jsx)("button",{className:"font-btn__icon font-btn__icon--large ".concat("large"===a?"font-btn__icon--active":""),children:Object(_.jsx)(M,{size:36})}),Object(_.jsx)("p",{children:r("header.settingsMenu.textSizeOptions.large")})]})]})},Fe=(n(483),["/","/projects","/python"]),Ve=function(){var e=Object(b.a)(["theme"]),t=Object(p.a)(e,3),n=t[0],o=t[1],c=t[2],a="dark"===n.theme||!n.theme&&window.matchMedia("(prefers-color-scheme:dark)").matches,r=Object(v.b)().t,i=function(e){n.theme&&Fe.forEach((function(e){c("theme",{path:e})})),o("theme",e,{path:"/"})};return Object(_.jsxs)("div",{className:"theme-toggle",children:[Object(_.jsxs)("div",{className:"theme-btn theme-btn--light",onClick:function(){return i("light")},children:[Object(_.jsx)("button",{className:"theme-btn__icon theme-btn__icon--light ".concat(a?null:"theme-btn__icon--active"),children:Object(_.jsx)(F,{})}),Object(_.jsx)("p",{children:r("header.settingsMenu.themeOptions.light")})]}),Object(_.jsxs)("div",{className:"theme-btn theme-btn--dark",onClick:function(){return i("dark")},children:[Object(_.jsx)("button",{className:"theme-btn__icon theme-btn__icon--dark ".concat(a?"theme-btn__icon--active":null),children:Object(_.jsx)(T,{})}),Object(_.jsx)("p",{children:r("header.settingsMenu.themeOptions.dark")})]})]})},De=(n(484),function(){var e=Object(v.b)().t;return Object(_.jsxs)("div",{className:"dropdown-container dropdown-container--bottom settings-menu",children:[Object(_.jsx)("h2",{children:e("header.settingsMenu.heading")}),Object(_.jsxs)("div",{className:"settings-menu__theme",children:[Object(_.jsx)("h3",{children:e("header.settingsMenu.theme")}),Object(_.jsx)(Ve,{})]}),Object(_.jsxs)("div",{className:"settings-menu__font-size",children:[Object(_.jsx)("h3",{children:e("header.settingsMenu.textSize")}),Object(_.jsx)(Re,{})]})]})}),Be=(n(485),function(){var e=Object(m.d)((function(e){return e.editor.project})),t=Object(m.c)(),n=(Object(v.b)().t,Object(c.useRef)()),o=Object(c.useState)(!1),a=Object(p.a)(o,2),r=a[0],i=a[1];Object(c.useEffect)((function(){r&&n.current.focus()}));return Object(_.jsx)("div",{className:"project-name",children:r?Object(_.jsx)("input",{className:"project-name__input",ref:n,type:"text",onBlur:function(){i(!1),t(Ne(n.current.value))},onKeyDown:function(e){"Enter"===e.key?(e.preventDefault(),n.current.blur()):"Escape"===e.key&&(e.preventDefault(),i(!1))},defaultValue:e.name}):Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("h1",{className:"project-name__title",children:"PROJEKTTITEL"})})})}),Ze=n.p+"static/media/editor_logo.0ec1b29d.svg",ze=n(306),We=n.n(ze),qe=n(307),Ue=n(308),Ke=n.n(Ue),Ge=n(309),Ye=n.n(Ge),Je=function(e){var t=e.buttonText,n=e.className,o=e.Icon,c=Object(v.b)().t,a=Object(m.d)((function(e){return e.editor.project})),r=Object(m.d)((function(e){return e.editor.loginToSaveModalShowing})),i=Object(m.c)(),s=function(){var e=Object(x.a)(Object(g.a)().mark((function e(){var t,n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r&&i(Ee()),t=new Ke.a,a.components.forEach((function(e){t.file("".concat(e.name,".").concat(e.extension),e.content)})),a.image_list.forEach((function(e){var n;t.file(e.filename,(n=e.url,new Promise((function(e,t){Ye.a.getBinaryContent(n,(function(n,o){n?t(n):e(o)}))}))),{binary:!0})})),e.next=6,t.generateAsync({type:"blob"});case 6:n=e.sent,We.a.saveAs(n,"".concat(Object(qe.toSnakeCase)(a.name||c("header.downloadFileNameDefault",{project_type:a.project_type}))));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsx)(z,{className:n,onClickHandler:s,buttonText:t,ButtonIcon:o})},Xe=function(e,t){return e&&e.profile&&(e.profile.user===t.user_id||!t.identifier)},Qe=function(){Object(m.c)();var e=Object(v.b)(),t=e.t,n=e.i18n,o=Object(m.d)((function(e){return e.auth.user})),c=Object(m.d)((function(e){return e.editor.project})),a=Object(m.d)((function(e){return e.editor.loading})),r=Object(m.d)((function(e){return e.editor.saving})),i=Object(m.d)((function(e){return e.editor.lastSavedTime})),s=n.language,l=function(){var e=Object(x.a)(Object(g.a)().mark((function e(){var t,n,o;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.plausible("Save button"),t=c.components[0].content,console.log(t),"SAVEPATH",!0,n=new XMLHttpRequest,"SAVESCRIPT",(o=new FormData).append("file_content",t),o.append("file_path","SAVEPATH"),o.append("saveFile",true),n.open("POST","SAVESCRIPT",!0),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&200===n.status?(localStorage.removeItem("project"),window.location.href="SAVEHEADER"):console.log("Error while saving the file.")},n.send(o);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return"success"===a&&Object(_.jsx)("div",{className:"editor-header-wrapper",children:Object(_.jsxs)("header",{className:"editor-header",children:[Object(_.jsx)("img",{className:"editor-logo",src:Ze,alt:t("header.editorLogoAltText")}),null!==o?Object(_.jsx)(h.b,{to:"".concat(s,"/projects"),className:"project-gallery-link",reloadDocument:!0,children:Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(L,{}),Object(_.jsx)("span",{className:"editor-header__text",children:t("header.projects")})]})}):null,"success"===a?Object(_.jsx)(Be,{}):null,Object(_.jsxs)("div",{className:"editor-header__right",children:[i&&o?Object(_.jsx)(B,{saving:r,lastSavedTime:i}):null,"success"===a?Object(_.jsx)(Je,{buttonText:t("header.download"),className:"btn--tertiary",Icon:N}):null,Object(_.jsx)(Ae,{ButtonIcon:A,buttonText:t("header.settings"),MenuContent:De}),Object(_.jsx)(z,{buttonText:"Schlie\xdfen",onClickHandler:function(){window.plausible("Close button"),localStorage.removeItem("project"),window.location.href="BACKHEADER"},className:"btn--tertiary"}),"success"===a?Object(_.jsx)(z,{className:"btn--primary btn--save",onClickHandler:l,buttonText:t("header.save")}):null]})]})})},$e=n(239),et=n(310);$e.a.use(et.a).use(v.a).init({debug:!1,fallbackLng:"en",locales:["en","ar-SA","ca-ES","cs-CZ","me-ME","cy-GB","da-DK","de-DE","el-GR","et-EE","es-ES","es-LA","fr-FR","he-IL","hi-IN","hr-HR","it-IT","ja-JP","kn-IN","ko-KR","mr-IN","hu-HU","nl-NL","no-NO","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","sl-SI","fi-FI","sv-SE","vls-BE","sr-SP","tr-TR","uk-UA","zh-CN","zh-TW"],supportedLngs:["en","ar-SA","ca-ES","cs-CZ","me-ME","cy-GB","da-DK","de-DE","el-GR","et-EE","es-ES","es-LA","fr-FR","he-IL","hi-IN","hr-HR","it-IT","ja-JP","kn-IN","ko-KR","mr-IN","hu-HU","nl-NL","no-NO","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","sl-SI","fi-FI","sv-SE","vls-BE","sr-SP","tr-TR","uk-UA","zh-CN","zh-TW"],load:"currentOnly",interpolation:{escapeValue:!1},resources:{en:{translation:{betaBanner:{buttonLabel:"close",buttonTitle:"close",message:"The Code Editor is in beta.",modal:{close:"Close",heading:"Code Editor is in beta",meaningHeading:"What does beta mean?",meaningText:"Beta means that we are not quite finished yet, and some things might not look or work as well as we\u2019d like. However, it also means you are one of the first people to use our new Code Editor!",whatNextHeading:"What next?",whatNextText:"We'll soon be asking for your feedback, so we can work on making it better for you, and other digital makers."},modalLink:"What does this mean?"},editorPanel:{ariaLabel:"editor text input"},filePane:{errors:{containsSpaces:"File names must not contain spaces.",generalError:"Error",notUnique:"File names must be unique.",or:"or",unsupportedExtension:"File names must end in {{allowedExtensions}}."},files:"Project files",images:"Image gallery",newFileButton:"Add file",newFileModal:{cancel:"Cancel",heading:"Add a new file to your project",inputLabel:"Name your file",save:"Save"},renameFileModal:{cancel:"Cancel",heading:"Rename file",inputLabel:"Name your file",save:"Save"},fileMenu:{label:"Open file menu",renameItem:"Rename file"}},footer:{accessibility:"Accessibility",charityNameAndNumber:"Raspberry Pi Foundation UK registered charity 1129409",cookies:"Cookies",privacy:"Privacy",safeguarding:"Safeguarding"},globalNav:{accountMenu:{login:"Log in",logout:"Log out",profile:"My profile",projects:"My projects"},accountMenuDefaultAltText:"Account menu",accountMenuProfileAltText:"{{name}}'s account",raspberryPiLogoAltText:"Raspberry Pi logo"},header:{autoSaving:"Saving",autoSaved:"Saved",buttonLabel:"Edit project name",buttonTitle:"Edit project name",download:"Herunterladen",downloadFileNameDefault:"my {{project_type}} project",editorLogoAltText:"Editor logo",newProject:"New Project",projects:"Your projects",save:"SAVETEXT",settings:"Einstellungen",settingsMenu:{heading:"Einstellungen",textSize:"Textgr\xf6\xdfe",textSizeOptions:{large:"Gro\xdf",medium:"Mittel",small:"Klein"},theme:"Farbschema",themeOptions:{dark:"Dunkel",light:"Hell"}}},input:{comment:{py5:"Py5: imported mode"}},loginToSaveModal:{cancel:"Cancel",downloadButtonText:"Download",downloadText:"Or you can download your project and save it on your computer.",heading:"Save your project",loginButtonText:"Log in to save",loginText:"Log in to your Raspberry Pi account to save your work, and you'll be able to access and edit your project whenever you need to."},notifications:{close:"close",loginPrompt:"Vergiss nicht deine Arbeit regelm\xe4\xdfig zu speichern, damit sie nicht verloren geht!",projectRemixed:"Your remixed project has been saved",projectRenamed:"You have renamed your project.",projectSaved:"Your project has been saved",savePrompt:'Save this project to access it later under "Your projects".'},output:{errors:{interrupted:"Ausf\xfchrung abgebrochen."},senseHat:{controls:{colour:"colour",humidity:"humidity",motion:"motion",motionSensorOptions:{no:"No",yes:"Yes"},name:"Space Station Control Panel",pressure:"pressure",temperature:"temperature",timer:"timer"},model:{pitch:"pitch",roll:"roll",yaw:"yaw"}},textOutput:"Textausgabe",visualOutput:"Bildausgabe"},outputViewToggle:{buttonTabLabel:"Vertikal geteilte Ansicht",buttonTabTitle:"Vertikal geteilte Ansicht",buttonSplitLabel:"Horizontal geteilte Ansicht",buttonSplitTitle:"Horizontal geteilte Ansicht"},project:{accessDeniedNoAuthModal:{heading:"You are not able to see this project",loginButtonText:"Log in to your account",newProject:"Create a new code project",projectsSiteLinkText:"Explore project site",text:"If this is your project, log in to see it. If this is not your project you can visit the project site for cool project ideas or start coding in a new project."},accessDeniedWithAuthModal:{heading:"You can't access this project",newProject:"Create a new code project",projectsSiteLinkText:"Explore project site",text:"Visit the project site for cool project ideas or start coding in a new project."},loading:"Loading",notFoundModal:{heading:"This project does not exist",newProject:"Start new code project",projectsSiteLinkText:"Explore project site",text:"You can start coding in a new project, or visit the project site for cool project ideas."},untitled:"Neues Projekt"},projectHeader:{subTitle:"Code Editor",title:"Your projects",text:"Select a project to edit, view and open to continue coding."},projectList:{delete:"Delete",deleteLabel:"Delete project",deleteProjectModal:{cancel:"Cancel",delete:"Delete",heading:"Delete project",text:"Are you sure you want to delete this project?"},empty:"No projects created yet",label:"Open project menu",loading:"Loading",loadingFailed:"Failed to load projects",pagination:{first:"First page",last:"Last page",next:"Next page",previous:"Previous page",more:"Load more projects"},rename:"Rename",renameLabel:"Rename project",renameProjectModal:{cancel:"Do not save",heading:"Rename project",inputLabel:"Change the name of your project",save:"Save"},updated:"Edited"},runButton:{run:"Ausf\xfchren",stop:"Stop",stopping:"Stoppen..."},sideMenu:{collapse:"Collapse file pane",expand:"Expand file pane",file:"Project files"}}}}});var tt=$e.a,nt={project_type:"python",name:tt.t("project.untitled"),locale:null,components:[{extension:"py",name:"main",content:"",default:!0}],image_list:[]},ot=(tt.t("project.untitled"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=function(e){return JSON.parse(localStorage.getItem(e||"project"))},o=Object(c.useState)(n(e)),a=Object(p.a)(o,2),r=a[0],i=a[1],s=Object(v.b)().i18n,l=Object(m.c)();Object(c.useEffect)((function(){i(n(e))}),[e]),Object(c.useEffect)((function(){e&&r&&r.identifier===e||!e&&r?l(ge(r)):l(e?ie("load")({identifier:e,locale:s.language,accessToken:t}):ge(nt))}),[e,r,s.language,t])}),ct=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(m.c)();Object(c.useEffect)((function(){e&&t(he())}),[])},at=n(61),rt=(n(502),n(503),n(289),n(3)),it=(n(504),n(317)),st=n(20),lt=n(6),ut=n(104),dt=n(311),jt=n(26),pt=n(241),bt=n(152),ht=n(318),mt=st.c.theme({".cm-activeLine":{"background-color":"inherit"},".cm-activeLineGutter":{"background-color":"inherit",color:"inherit"},".cm-gutters":{border:"none",color:"black","background-color":"white"},".cm-line .cm-indentation-marker":{background:"none","border-left":"solid lightgrey","&.active":{background:"none","border-left":"solid grey"}}},{dark:!1}),ft=(n(505),n(506),n(507),st.c.theme({".cm-gutters":{"background-color":"#2A2B32",color:"white",border:"none"},".cm-activeLine":{"background-color":"inherit"},".cm-activeLineGutter":{"background-color":"inherit",color:"inherit"},"&.cm-focused .cm-selectionBackground, ::selection":{background:"#144866"},"&.cm-focused .cm-cursor":{borderLeftColor:"white"},".cm-line .cm-indentation-marker":{background:"none","border-left":"solid grey","&.active":{background:"none","border-left":"solid lightgrey"}},".\u037cb":{color:"#FF00A4"},".\u037cc":{color:"#1498D0"},".\u037cd":{color:"#1498D0"},".\u037ce":{color:"#6CE68D"},".\u037cg":{color:"#1498D0"},".\u037cj":{color:"#1498D0"},".\u037cm":{color:"#C1C1C1"}},{dark:!0})),Ot=function(e){var t,n=e.extension,o=void 0===n?"html":n,a=e.fileName,r=void 0===a?"index":a,i=Object(c.useRef)(),s=(Object(m.d)((function(e){return e.editor.project})),Object(b.a)(["theme","fontSize"])),l=Object(p.a)(s,1)[0],u=Object(m.c)(),d=Object(v.b)().t,j=Object(c.useContext)(O),h=function(e){u(Se({extension:o,name:r,code:e}))},f=st.c.contentAttributes.of({"aria-label":d("editorPanel.ariaLabel")}),g=st.c.updateListener.of((function(e){e.docChanged&&(["html","css"].includes(o)?(t&&clearTimeout(t),t=window.setTimeout((function(){h(e.state.doc.toString())}),2e3)):h(e.state.doc.toString()))})),x="dark"===l.theme||!l.theme&&window.matchMedia("(prefers-color-scheme:dark)").matches?ft:mt;return Object(c.useEffect)((function(){var e=`PROJEKTINHALT`;h(e);var t=function(){switch(o){case"html":default:return Object(pt.a)();case"css":return Object(bt.a)();case"py":return Object(ht.a)()}}(),n=lt.f.create({doc:e,extensions:[it.a,st.q.of([ut.a,ut.d]),t,f,g,x,Object(dt.a)(),jt.t.of("    ")]}),c=new st.c({lineWrapping:!0,state:n,parent:i.current});c.scrollDOM.setAttribute("aria-hidden","true");var a,r=c.contentDOM.getElementsByClassName("cm-widgetBuffer"),s=Object(rt.a)(r);try{for(s.s();!(a=s.n()).done;){a.value.setAttribute("role","presentation")}}catch(l){s.e(l)}finally{s.f()}return function(){c.destroy()}}),[l]),Object(_.jsx)("div",{className:"editor editor--".concat(j.fontSize),ref:i})},gt=function(){var e=Object(m.d)((function(e){return e.editor.project}));return Object(_.jsx)("div",{id:"file-content",hidden:!0,children:e.components.map((function(e,t){return["csv","txt"].includes(e.extension)?Object(_.jsx)("div",{id:"".concat(e.name,".").concat(e.extension),children:e.content},t):null}))})},xt=(n(508),n(59)),vt=n(33),wt=n.n(vt),_t=(n(290),function(){var e=Object(m.d)((function(e){return e.editor.error})),t=Object(c.useContext)(O);return e?Object(_.jsx)("div",{className:"error-message error-message--".concat(t.fontSize),children:Object(_.jsx)("p",{className:"error-message__content",children:e})}):null}),Ct=n(90),yt=n(190),St="".concat(window.location.protocol,"//").concat(window.location.hostname).concat(window.location.port?":".concat(window.location.port):""),Nt={client_id:"editor-dev",redirect_uri:"".concat(St,"/auth/callback"),response_type:"code",scope:"openid email profile force-consent allow-u13-login",authority:"http://localhost:9001",silent_redirect_uri:"".concat(St,"/auth/silent_renew"),automaticSilentRenew:!0,filterProtocolClaims:!1,loadUserInfo:!1,monitorSession:!1,userStore:new yt.WebStorageStateStore({store:window.localStorage}),extraQueryParams:{brand:"editor",login_options:"v1_signup"}},Mt=Object(Ct.createUserManager)(Nt);Mt.events.addAccessTokenExpired((function(){Mt.signinSilent()}));var Lt=Mt,Et=Object(W.a)({reducer:{editor:He,auth:Ct.reducer},middleware:function(e){return e({serializableCheck:{ignoredActions:["redux-oidc/USER_FOUND","redux-odic/SILENT_RENEW_ERROR"],ignoredPaths:["auth.user"]}})}});Object(Ct.loadUser)(Et,Lt);var Tt=Et,kt=n(21),Pt=n(12),Ht=(n(106),n(10)),At=n(315),It=n(126),Rt=n(561),Ft=n(564),Vt=function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("ambientLight",{intensity:.25}),Object(_.jsx)("pointLight",{intensity:.35,angle:28,penumbra:2,position:[.418,16.199,.3],castShadow:!0}),Object(_.jsx)("pointLight",{position:[-16.116,14.37,8.208],intensity:.5,castShadow:!0}),Object(_.jsx)("pointLight",{position:[-16.109,18.021,-8.207],intensity:.5,castShadow:!0}),Object(_.jsx)("pointLight",{position:[14.904,12.198,-1.832],intensity:.17,castShadow:!0}),Object(_.jsx)("pointLight",{position:[-.462,8.89,14.52],intensity:.43,castShadow:!0}),Object(_.jsx)("pointLight",{position:[3.235,11.486,-12.541],intensity:.2,castShadow:!0}),Object(_.jsx)("pointLight",{position:[0,-20,0],intensity:.5,castShadow:!0})]})},Dt={_Eps:1e-5};function Bt(){return 1e3*Date.now()}Dt.Vector=function(e,t,n){this.x=e,this.y=t,this.z=n},Dt.Vector.prototype={length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();e<=Dt._Eps||(this.x/=e,this.y/=e,this.z/=e)}},Dt.transpose3x3Matrix=function(e){var t=[[0,0,0],[0,0,0],[0,0,0]];return t[0][0]=e[0][0],t[0][1]=e[1][0],t[0][2]=e[2][0],t[1][0]=e[0][1],t[1][1]=e[1][1],t[1][2]=e[2][1],t[2][0]=e[0][2],t[2][1]=e[1][2],t[2][2]=e[2][2],t},Dt.dot3x3and3x1=function(e,t){var n=[];return n[0]=e[0][0]*t[0]+e[0][1]*t[1]+e[0][2]*t[2],n[1]=e[1][0]*t[0]+e[1][1]*t[1]+e[1][2]*t[2],n[2]=e[2][0]*t[0]+e[2][1]*t[1]+e[2][2]*t[2],n},Dt.multiplyArrayWithScalar=function(e,t){return[e[0]*t,e[1]*t,e[2]*t]},Dt.divideArrayWithScalar=function(e,t){return[e[0]/t,e[1]/t,e[2]/t]},Dt.Defaults={},Dt.Defaults.O=[0,0,0],Dt.Defaults.X=[1,0,0],Dt.Defaults.Y=[0,1,0],Dt.Defaults.Z=[0,0,1],Dt.Defaults.NORTH=Dt.multiplyArrayWithScalar(Dt.Defaults.X,.33),Dt.Defaults.GRAVITY=Dt.Defaults.Z,Dt.clamp=function(e,t,n){return Math.min(n,Math.max(t,e))},Dt.degToRad=function(e){return e instanceof Array?[e[0]*Math.PI/180,e[1]*Math.PI/180,e[2]*Math.PI/180]:e*Math.PI/180},Dt.radToDeg=function(e){return e instanceof Array?[180*e[0]/Math.PI,180*e[1]/Math.PI,180*e[2]/Math.PI]:180*e/Math.PI},window.rotatemodel=function(e,t,n){window.mod.rotation.x=e,window.mod.rotation.y=t,window.mod.rotation.z=n};var Zt=n(560),zt=n(42),Wt=function(){var e=Object(Zt.a)("".concat("http://localhost:80","/models/raspi-compressed.glb")).scene;window.mod=e;var t={"0_0_0":new Ht.MeshStandardMaterial({color:"rgb(0,0,0)"})};function n(n,o,c,a){var r,i=n%8,s=Math.floor(n/8);"".concat(o,"_").concat(c,"_").concat(a)in t?r=t["".concat(o,"_").concat(c,"_").concat(a)]:(r=new Ht.MeshStandardMaterial({color:"rgb(".concat(o,",").concat(c,",").concat(a,")")}),t["".concat(o,"_").concat(c,"_").concat(a)]=r);var l=e.getObjectByName("circle".concat(i,"_").concat(7-s,"-1"));null!=l&&(l.material=r)}return wt.a.sense_hat_emit=function(e,t){if(e&&"setpixel"===e){var o=t,c=wt.a.sense_hat.pixels[o];wt.a.sense_hat.pixels[o]=[-8&c[0],-4&c[1],-8&c[2]],n(o,parseInt(255*c[0]),parseInt(255*c[1]),parseInt(255*c[2]))}else e&&"setpixels"===e&&function(e,t){null==e&&(e=Array.from(Array(64).keys()));var o,c=0,a=Object(rt.a)(e);try{for(a.s();!(o=a.n()).done;)n(o.value,t[c][0],t[c][1],t[c][2]),c+=1}catch(r){a.e(r)}finally{a.f()}}(t,wt.a.sense_hat.pixels);Object(zt.k)()},Object(_.jsx)("primitive",{object:e,scale:4})},qt=!1,Ut=.5,Kt=.2,Gt=0,Yt=0,Jt=0,Xt=0,Qt=window.innerWidth/2,$t=window.innerHeight/2,en=25e-5,tn=function(e){var t=e.updateOrientation,n=function(){qt=!1};return Object(_.jsxs)(It.a,{frameloop:"demand",onPointerDown:function(e){qt=!0,Yt=e.clientX-Qt,Xt=e.clientY-$t},onPointerUp:n,onPointerOut:n,onPointerMove:function(e){var n,o,c;Gt=e.clientX-Qt,Ut=(Gt-Yt)*en,Jt=e.clientY-$t,Kt=(Jt-Xt)*en,qt&&(window.mod.rotateOnWorldAxis(new Ht.Vector3(0,0,-1),Ut),window.mod.rotateOnWorldAxis(new Ht.Vector3(1,0,0),Kt),t((n=window.mod.rotation.x,o=window.mod.rotation.y,c=window.mod.rotation.z,[(180*o/Math.PI+360)%360,(180*n/Math.PI+90+360)%360,(180*c/Math.PI+360)%360])),Kt*=.75,Ut*=.75)},resize:{polyfill:At.a},children:[Object(_.jsx)(Vt,{}),Object(_.jsxs)(c.Suspense,{fallback:null,children:[Object(_.jsx)(Rt.a,{makeDefault:!0,fov:25,near:1,far:2e4,position:[0,1.5,0]}),Object(_.jsx)(Wt,{}),Object(_.jsx)(Ft.a,{enableRotate:!1,enablePan:!1,enableZoom:!1,enabled:!1})]})]})},nn=function(e){var t=e.name,n=e.label,o=e.type,a=e.defaultValue,r=Object(c.useState)(a),i=Object(p.a)(r,2),s=i[0],l=i[1];return Object(c.useEffect)((function(){wt.a.sense_hat&&(wt.a.sense_hat[t]=s)}),[t,s]),Object(_.jsxs)("div",{className:"sense-hat-controls-panel__container",children:[Object(_.jsx)("label",{className:"sense-hat-controls-panel__control-name",htmlFor:"sense_hat_".concat(t),children:n}),Object(_.jsx)("input",{type:o,id:"sense_hat_".concat(t),defaultValue:s,onChange:function(e){return l(e.target.value)}})]})},on=n(312),cn=n.n(on),an=(n(522),function(e){var t=e.defaultValue,n=Object(c.useState)(t),o=Object(p.a)(n,2),a=o[0],r=o[1],i=Object(m.d)((function(e){return e.editor.codeRunTriggered})),s=Object(v.b)().t;return Object(c.useEffect)((function(){i||(wt.a.sense_hat.start_motion_callback=function(){},wt.a.sense_hat.stop_motion_callback=function(){})}),[i]),Object(c.useEffect)((function(){wt.a.sense_hat&&(wt.a.sense_hat.motion=a),a?wt.a.sense_hat.start_motion_callback():wt.a.sense_hat.stop_motion_callback()}),[a]),Object(_.jsxs)("div",{className:"sense-hat-controls-panel__container",children:[Object(_.jsx)("label",{className:"sense-hat-controls-panel__control-name",htmlFor:"sense_hat_motion",children:s("output.senseHat.controls.motion")}),Object(_.jsxs)("div",{className:"sense-hat-controls-panel__control-toggle",children:[Object(_.jsx)("label",{htmlFor:"sense_hat_motion",children:s("output.senseHat.controls.motionSensorOptions.no")}),Object(_.jsx)(cn.a,{id:"sense_hat_motion",icons:!1,checked:a,onChange:function(e){return r(e.target.checked)}}),Object(_.jsx)("label",{htmlFor:"sense_hat_motion",children:s("output.senseHat.controls.motionSensorOptions.yes")})]})]})}),rn=function(e){var t=e.name,n=e.label,o=e.unit,a=e.min,r=e.max,i=e.defaultValue,s=e.Icon,l=Object(c.useState)(i),u=Object(p.a)(l,2),d=u[0],j=u[1];return Object(c.useEffect)((function(){wt.a.sense_hat&&(wt.a.sense_hat.rtimu[t][1]=d+Math.random()-.5)}),[t,d]),Object(_.jsxs)("div",{className:"sense-hat-controls-panel__control",children:[Object(_.jsx)("label",{className:"sense-hat-controls-panel__control-name",htmlFor:"sense_hat_".concat(t),children:n}),Object(_.jsx)("input",{id:"sense_hat_".concat(t),className:"sense-hat-controls-panel__control-input",type:"range",min:a,max:r,step:"1",defaultValue:d,onChange:function(e){return j(parseFloat(e.target.value))}}),Object(_.jsxs)("div",{className:"sense-hat-controls-panel__control-reading",children:[s?Object(_.jsx)(s,{}):null,Object(_.jsxs)("span",{className:"sense-hat-controls-panel__control-value",children:[d,o]})]})]})},sn=n(313),ln=function(){var e=Object(m.d)((function(e){return e.editor.codeRunTriggered})),t=Object(sn.useStopwatch)({autoStart:!1}),n=t.seconds,o=t.minutes,a=t.isRunning,r=t.pause,i=t.reset,s=Object(c.useState)(!1),l=Object(p.a)(s,2),u=l[0],d=l[1],j=Object(v.b)().t;return Object(c.useEffect)((function(){window.addEventListener("blur",(function(){d(!0)}))}),[]),Object(c.useEffect)((function(){e&&!a&&(d(!1),i()),!e&&a&&(r(),wt.a.sense_hat.mz_criteria.duration=u?null:60*o+n)}),[e,u,o,n,a,r,i]),Object(_.jsxs)("div",{className:"sense-hat-controls-panel__container sense-hat-controls-panel__container-timer",children:[Object(_.jsx)("label",{className:"sense-hat-controls-panel__control-name",htmlFor:"sense_hat_timer",children:j("output.senseHat.controls.timer")}),Object(_.jsxs)("span",{className:"sense-hat-controls-panel__control-reading sense-hat-controls-panel__control-reading-timer",id:"sense_hat_timer",children:[Object(_.jsx)("span",{children:String(o).padStart(2,"0")}),":",Object(_.jsx)("span",{children:String(n).padStart(2,"0")})]})]})},un=function(e){var t=e.temperature,n=e.pressure,o=e.humidity,c=e.colour,a=e.motion,r=Object(v.b)().t;return Object(_.jsxs)("div",{className:"sense-hat-controls",children:[Object(_.jsx)("h2",{className:"sense-hat-controls-heading",children:r("output.senseHat.controls.name")}),Object(_.jsxs)("div",{className:"sense-hat-controls-panel",children:[Object(_.jsxs)("div",{className:"sense-hat-controls-panel__sliders",children:[Object(_.jsx)(rn,{name:"temperature",label:r("output.senseHat.controls.temperature"),unit:"\xb0C",min:-40,max:120,defaultValue:t,Icon:D}),Object(_.jsx)(rn,{name:"pressure",label:r("output.senseHat.controls.pressure"),unit:"hPa",min:260,max:1260,defaultValue:n,Icon:k}),Object(_.jsx)(rn,{name:"humidity",label:r("output.senseHat.controls.humidity"),unit:"%",min:0,max:100,defaultValue:o,Icon:E})]}),Object(_.jsxs)("div",{className:"sense-hat-controls-panel__control sense-hat-controls-panel__control-last",children:[Object(_.jsx)(nn,{name:"colour",label:r("output.senseHat.controls.colour"),type:"color",defaultValue:c}),Object(_.jsx)(an,{defaultValue:a}),Object(_.jsx)(ln,{})]})]})]})},dn=function(e){var t=e.name,n=e.value;return Object(_.jsxs)("span",{className:"sense-hat-model-orientation__reading",children:[t,": ",Math.round(n)]})},jn=function(e){var t=e.resetOrientation;return Object(_.jsx)("button",{onClick:function(e){return t(e)},children:Object(_.jsx)(P,{})})},pn=function(e){var t=Object(v.b)().t,n=e.orientation,o=e.resetOrientation;return Object(_.jsxs)("div",{className:"sense-hat-model-orientation",children:[Object(_.jsx)("div",{className:"sense-hat-model-orientation__spacing"}),Object(_.jsxs)("div",{className:"sense-hat-model-orientation__values",children:[Object(_.jsx)(dn,{name:t("output.senseHat.model.roll"),value:n[0]}),Object(_.jsx)(dn,{name:t("output.senseHat.model.pitch"),value:n[1]}),Object(_.jsx)(dn,{name:t("output.senseHat.model.yaw"),value:n[2]})]}),Object(_.jsx)("div",{className:"sense-hat-model-orientation__reset-btn",children:Object(_.jsx)(jn,{resetOrientation:o})})]})},bn={duration:null,noInputEvents:!0,readColour:!1,readHumidity:!1,readPressure:!1,readTemperature:!1,usedLEDs:!1},hn=function(){var e=Object(m.d)((function(e){return e.editor.project})),t=Object(c.useState)([0,90,0]),n=Object(p.a)(t,2),a=n[0],r=n[1];if(!wt.a.sense_hat){wt.a.sense_hat={colour:"#FF00A4",gamma:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],low_light:!1,motion:!1,mz_criteria:Object(o.a)({},bn),pixels:[],rtimu:{pressure:[1,1013+Math.random()-.5],temperature:[1,13+Math.random()-.5],humidity:[1,45+Math.random()-.5],gyro:[0,0,0],accel:[0,0,0],compass:[0,0,33],raw_orientation:[0,90,0]},sensestick:{_eventQueue:[],off:function(){},once:function(){}},start_motion_callback:function(){},stop_motion_callback:function(){}};for(var i=0;i<64;i++)wt.a.sense_hat.pixels.push([0,0,0])}return Object(c.useEffect)((function(){wt.a.sense_hat.mz_criteria=Object(o.a)({},bn)}),[e]),Object(c.useEffect)((function(){wt.a.sense_hat.rtimu.raw_orientation=a,function(){var e=wt.a.sense_hat.rtimu.timestamp;null!==e&&void 0!==e||(e=Bt());var t=Bt(),n=(t-e)/1e6;0===n&&(n=1);var o=wt.a.sense_hat.rtimu.raw_old_orientation;null!==o&&void 0!==o||(o=[0,90,0]);var c=Dt.degToRad(wt.a.sense_hat.rtimu.raw_orientation),a=[c[0]-o[0],c[1]-o[1],c[2]-o[2]];a=Dt.divideArrayWithScalar(a,n);var r=c[0],i=c[1],s=c[2],l=Math.cos(s),u=Math.cos(i),d=Math.cos(r),j=Math.sin(s),p=Math.sin(i),b=Math.sin(r),h=[[l*u,l*p*b-d*j,j*b+l*d*p],[u*j,l*d+j*p*b,d*j*p-l*b],[-p,u*b,u*d]],m=Dt.transpose3x3Matrix(h),f=Dt.dot3x3and3x1(m,Dt.Defaults.GRAVITY),O=Dt.dot3x3and3x1(m,Dt.Defaults.NORTH);wt.a.sense_hat.rtimu.raw_old_orientation=c,wt.a.sense_hat.rtimu.fusionPose=c,wt.a.sense_hat.rtimu.timestamp=t,wt.a.sense_hat.rtimu.accel=[Dt.clamp(f[0],-8,8),Dt.clamp(f[1],-8,8),Dt.clamp(f[2],-8,8)],wt.a.sense_hat.rtimu.gyro=[a[0],a[1],a[2]],wt.a.sense_hat.rtimu.compass=[100*O[0],100*O[1],100*O[2]]}()}),[a]),Object(_.jsxs)("div",{className:"sense-hat",children:[Object(_.jsxs)("div",{className:"sense-hat-model",children:[Object(_.jsx)(tn,{updateOrientation:r}),Object(_.jsx)(pn,{orientation:a,resetOrientation:function(e){e.preventDefault(),window.rotatemodel(Dt.degToRad(0),Dt.degToRad(0),Dt.degToRad(0)),r([0,90,0])}})]}),Object(_.jsx)(un,{pressure:1013,temperature:13,humidity:45,colour:wt.a.sense_hat.colour,motion:wt.a.sense_hat.motion})]})},mn=function(){var e=Object(m.d)((function(e){return e.editor.codeRunTriggered})),t=Object(m.d)((function(e){return e.editor.drawTriggered})),n=Object(m.d)((function(e){return e.editor.senseHatAlwaysEnabled})),o=Object(m.d)((function(e){return e.editor.senseHatEnabled})),a=Object(m.d)((function(e){return e.editor.project.image_list})),r=Object(m.d)((function(e){return e.editor.error})),i=Object(c.useRef)(),s=Object(c.useRef)(),l=Object(c.useRef)(),u=Object(m.c)(),d=Object(v.b)().t;return Object(c.useEffect)((function(){e&&(i.current.innerHTML="",s.current.innerHTML="",l.current.innerHTML="",wt.a.py5={},wt.a.py5.sketch="p5Sketch",wt.a.py5.assets=a,wt.a.p5={},wt.a.p5.sketch="p5Sketch",wt.a.p5.assets=a,(wt.a.pygal||(wt.a.pygal={})).outputCanvas=s.current,(wt.a.TurtleGraphics||(wt.a.TurtleGraphics={})).target="outputCanvas",wt.a.TurtleGraphics.assets=Object.assign.apply(Object,[{}].concat(Object(Pt.a)(a.map((function(e){return Object(kt.a)({},"".concat(e.name,".").concat(e.extension),e.url)}))))))}),[e,a]),Object(c.useEffect)((function(){!t&&l.current&&""!==l.current.innerHTML&&(wt.a.py5.stop?wt.a.py5.stop():wt.a.p5.stop(),""===r&&u(me(d("output.errors.interrupted"))),u(de()))}),[t,u,d,r]),Object(_.jsxs)("div",{className:"visual-output",children:[Object(_.jsx)("div",{id:"p5Sketch",ref:l}),Object(_.jsx)("div",{id:"pygalOutput",ref:s}),Object(_.jsx)("div",{className:"pythonrunner-canvas-container",children:Object(_.jsx)("div",{id:"outputCanvas",ref:i,className:"pythonrunner-graphic"})}),o||n?Object(_.jsx)(hn,{}):null]})},fn=(n(523),function(){var e=Object(m.d)((function(e){return e.editor.isSplitView})),t=Object(m.d)((function(e){return e.editor.codeRunTriggered})),n=Object(m.d)((function(e){return e.editor.drawTriggered})),o=Object(m.c)(),c=Object(v.b)().t;return Object(_.jsxs)("div",{className:"output-view-toggle",disabled:t||n,children:[Object(_.jsx)(z,{className:"btn--small output-view-toggle__button output-view-toggle__button--tabbed".concat(e?"":" output-view-toggle__button--active"),buttonOuter:!0,disabled:t||n,label:c("outputViewToggle.buttonTabLabel"),title:c("outputViewToggle.buttonTabTitle"),ButtonIcon:V,onClickHandler:function(){o(fe(!1))}}),Object(_.jsx)(z,{className:"btn--small output-view-toggle__button output-view-toggle__button--split".concat(e?" output-view-toggle__button--active":""),buttonOuter:!0,disabled:t||n,label:c("outputViewToggle.buttonSplitLabel"),title:c("outputViewToggle.buttonSplitTitle"),ButtonIcon:I,onClickHandler:function(){o(fe(!0))}})]})}),On={"./pygal/__init__.js":{path:"".concat("http://localhost:80","/shims/pygal/pygal.js"),dependencies:["https://cdnjs.cloudflare.com/ajax/libs/highcharts/6.0.2/highcharts.js","https://cdnjs.cloudflare.com/ajax/libs/highcharts/6.0.2/js/highcharts-more.js"]},"./py5/__init__.js":{path:"".concat("http://localhost:80","/shims/processing/py5/py5-shim.js"),dependencies:["https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.js"]},"./py5_imported/__init__.js":{path:"".concat("http://localhost:80","/shims/processing/py5_imported_mode/py5_imported.js")},"./py5_imported_mode.py":{path:"".concat("http://localhost:80","/shims/processing/py5_imported_mode/py5_imported_mode.py")},"./p5/__init__.js":{path:"".concat("http://localhost:80","/shims/processing/p5/p5-shim.js"),dependencies:["https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.js"]},"./_internal_sense_hat/__init__.js":{path:"".concat("http://localhost:80","/shims/sense_hat/_internal_sense_hat.js")},"./sense_hat.py":{path:"".concat("http://localhost:80","/shims/sense_hat/sense_hat_blob.py")}},gn=function(){var e=Object(m.d)((function(e){return e.editor.project})).components[0].content,t=Object(m.d)((function(e){return e.editor.isSplitView})),n=Object(m.d)((function(e){return e.editor.isEmbedded})),o=Object(m.d)((function(e){return e.editor.codeRunTriggered})),a=Object(m.d)((function(e){return e.editor.codeRunStopped})),r=Object(m.d)((function(e){return e.editor.drawTriggered})),i=Object(m.d)((function(e){return e.editor.senseHatAlwaysEnabled})),s=Object(c.useRef)(),l=Object(m.c)(),u=Object(v.b)().t,d=Object(c.useContext)(O),j=new URLSearchParams(window.location.search),b=Object(c.useState)("true"===j.get("show_visual_tab")||i),h=Object(p.a)(b,2),f=h[0],g=h[1],x=function(){var e=document.getElementById("input"),t=document.querySelector("editor-wc")?document.querySelector("editor-wc").shadowRoot.getElementById("input"):null;return e||t};Object(c.useEffect)((function(){o&&M()}),[o]),Object(c.useEffect)((function(){if(a&&x()){var e=x();e.removeAttribute("id"),e.removeAttribute("contentEditable"),l(me(u("output.errors.interrupted"))),l(de())}}),[a]),Object(c.useEffect)((function(){if(!o&&!r&&x()){var e=x();e.removeAttribute("id"),e.removeAttribute("contentEditable")}}),[r,o]);var w=["./pygal/__init__.js","./py5/__init__.js","./py5_imported/__init__.js","./p5/__init__.js","./_internal_sense_hat/__init__.js","src/builtin/turtle/__init__.js"],C=function(e){if(""!==e){var t=s.current,n=document.createElement("span");n.classList.add("pythonrunner-console-output-line"),n.innerHTML=new Option(e).innerHTML,t.appendChild(n),t.scrollTop=t.scrollHeight}},y=function(e){if("./_internal_sense_hat/__init__.js"===e&&l(xe(!0)),"./p5/__init__.js"!==e&&"./py5/__init__.js"!==e||l(Ce()),w.includes(e)&&g(!0),void 0!==wt.a.builtinFiles&&void 0!==wt.a.builtinFiles.files[e])return wt.a.builtinFiles.files[e];if(On[e]){var t=On[e];return On[e].code||wt.a.misceval.promiseToSuspension(fetch(t.path).then((function(e){return e.text()})).then((function(n){if(!n)throw new wt.a.builtin.ImportError("Failed to load remote module");function o(e){if(!document.querySelector('script[src="'.concat(e,'"]')))return new Promise((function(t,n){var o=document.createElement("script");o.type="text/javascript",o.src=e,o.async=!0,o.onload=function(){t(!0)},document.body.appendChild(o)}))}return On[e].code=n,(t.loadDepsSynchronously?(t.dependencies||[]).reduce((function(e,t){return e.then((function(){return o(t)}))}),Promise.resolve()):Promise.all((t.dependencies||[]).map(o))).then((function(){return n})).catch((function(){throw new wt.a.builtin.ImportError("Failed to load dependencies required")}))})))}throw new Error("File not found: '"+e+"'")},S=function(){wt.a.sense_hat&&(wt.a.sense_hat.mz_criteria.noInputEvents=!1),s.current.appendChild(function(){var e=document.createElement("span");return e.setAttribute("id","input"),e.setAttribute("spellCheck","false"),e.setAttribute("class","pythonrunner-input"),e.setAttribute("contentEditable","true"),e}());var e=x();return e.focus(),new Promise((function(t,n){e.addEventListener("keydown",(function n(o){if("Enter"===o.key){e.removeEventListener(o.type,n);var c=e.innerText;e.removeAttribute("id"),e.removeAttribute("contentEditable"),e.innerText=c+"\n",document.addEventListener("keyup",(function e(n){"Enter"===n.key&&(document.removeEventListener(n.type,e),t(c))}))}}))}))},N=function(e){var t;if(e.message===u("output.errors.interrupted"))t=e.message;else{var n=(e.tp$str&&e.tp$str().v).replace(/\[(.*?)\]/,"").replace(/\.$/,""),o=e.tp$name||e.constructor.name,c=e.traceback[0].lineno,a=e.traceback[0].filename.replace(/^\.\//,"");xt.d("".concat(o,": ").concat(n)),t="".concat(o,": ").concat(n," on line ").concat(c," of ").concat(a)}if(l(me(t)),l(we()),x()){var r=x();r.removeAttribute("id"),r.removeAttribute("contentEditable")}},M=function(){l(me("")),s.current.innerHTML="",l(xe(!1));var t=e;t.includes("# ".concat(u("input.comment.py5")))&&((t=t.replace("# ".concat(u("input.comment.py5")),"from py5_imported_mode import *")).match(/(run_sketch)/)||(t=t.concat("\nrun_sketch()"))),wt.a.configure({inputfun:S,output:C,read:y,debugging:!0,inputTakesPrompt:!0,uncaughtException:N}),wt.a.misceval.asyncToPromise((function(){return wt.a.importMainWithBody("main",!1,t,!0)}),{"*":function(){if(Tt.getState().editor.codeRunStopped)throw new Error(u("output.errors.interrupted"))}}).catch((function(e){N(e)})).finally((function(){l(de())})).then((function(e){}))};function L(e){if(!(document.getSelection().toString().length>0)){var t=x();if(t&&e.target!==t){var n=x(),o=window.getSelection();if(o.removeAllRanges(),n.innerText&&n.innerText.length>0){var c=document.createRange();c.setStart(n,1),c.collapse(!0),o.addRange(c)}n.focus()}}}return Object(_.jsx)("div",{className:"pythonrunner-container",children:t?Object(_.jsxs)(_.Fragment,{children:[f?Object(_.jsx)("div",{className:"output-panel output-panel--visual",children:Object(_.jsxs)(at.d,{forceRenderTabPanel:!0,children:[Object(_.jsxs)("div",{className:"react-tabs__tab-container",children:[Object(_.jsx)(at.b,{children:Object(_.jsx)(at.a,{children:Object(_.jsx)("span",{className:"react-tabs__tab-inner",children:u("output.visualOutput")})},0)}),n?null:Object(_.jsx)(fn,{})]}),Object(_.jsx)(at.c,{children:Object(_.jsx)(mn,{})},0)]})}):null,Object(_.jsx)("div",{className:"output-panel output-panel--text",children:Object(_.jsxs)(at.d,{forceRenderTabPanel:!0,children:[Object(_.jsxs)("div",{className:"react-tabs__tab-container",children:[Object(_.jsx)(at.b,{children:Object(_.jsx)(at.a,{children:Object(_.jsx)("span",{className:"react-tabs__tab-inner",children:u("output.textOutput")})},0)}),f||n?null:Object(_.jsx)(fn,{})]}),Object(_.jsx)(_t,{}),Object(_.jsx)(at.c,{children:Object(_.jsx)("pre",{className:"pythonrunner-console pythonrunner-console--".concat(d.fontSize),onClick:L,ref:s})},0)]})})]}):Object(_.jsxs)(at.d,{forceRenderTabPanel:!0,defaultIndex:f?0:1,children:[Object(_.jsxs)("div",{className:"react-tabs__tab-container",children:[Object(_.jsxs)(at.b,{children:[f?Object(_.jsx)(at.a,{children:Object(_.jsx)("span",{className:"react-tabs__tab-inner",children:u("output.visualOutput")})},0):null,Object(_.jsx)(at.a,{children:Object(_.jsx)("span",{className:"react-tabs__tab-inner",children:u("output.textOutput")})},1)]}),n?null:Object(_.jsx)(fn,{})]}),Object(_.jsx)(_t,{}),f?Object(_.jsx)(at.c,{children:Object(_.jsx)(mn,{})},0):null,Object(_.jsx)(at.c,{children:Object(_.jsx)("pre",{className:"pythonrunner-console pythonrunner-console--".concat(d.fontSize),onClick:L,ref:s})},1)]})})};n(524);var xn=function(){var e=Object(m.d)((function(e){return e.editor.project.components})),t=Object(c.useRef)(),n=function(e,t){var n=new Blob([e],{type:t});return URL.createObjectURL(n)};Object(c.useEffect)((function(){o()}),[e]);var o=function(){var o=e[0].content,c=e.filter((function(e){return"css"===e.extension}));c.forEach((function(e){var t=n(e.content,"text/css");o=o.replace('href="'.concat(e.name,'.css"'),'href="'.concat(t,'"'))}));var a=n(o,"text/html");t.current.src=a};return Object(_.jsx)("div",{className:"htmlrunner-container",children:Object(_.jsx)("iframe",{className:"htmlrunner-iframe",id:"output-frame",title:"html-output-frame",ref:t})})},vn=function(e){var t="html"===e.projectType?xn:gn;return Object(_.jsx)(t,{})},wn=function(){var e=Object(m.d)((function(e){return e.editor.project}));return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(gt,{}),Object(_.jsx)("div",{className:"proj-runner-container",children:Object(_.jsx)(vn,{projectType:e.project_type})})]})},_n=n(98),Cn=n.n(_n),yn={python:["py","csv","txt"]},Sn=function(e,t){var n=yn[e];return 1===n.length?"'.".concat(n[0],"'"):"'.".concat(n.slice(0,-1).join("', '."),"' ").concat(t("filePane.errors.or")," '.").concat(n[n.length-1],"'")},Nn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"python",n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,i=e.split(".").slice(1).join(".");(function(e,t,n){var o=e.split(".").slice(1).join(".");return!(!yn[t].includes(o)||n.includes(e)||1!==e.split(" ").length)})(e,t,n)||r&&e===r?a():n.includes(e)?o(Oe(c("filePane.errors.notUnique"))):e.split(" ").length>1?o(Oe(c("filePane.errors.containsSpaces"))):yn[t].includes(i)?o(Oe(c("filePane.errors.generalError"))):o(Oe(c("filePane.errors.unsupportedExtension",{allowedExtensions:Sn(t,c)})))},Mn=function(){var e=Object(m.d)((function(e){return e.editor.nameError}));return e?Object(_.jsx)("div",{className:"error-message",children:Object(_.jsx)("p",{className:"error-message__content",children:e})}):null},Ln=(n(180),function(){var e=Object(m.c)(),t=Object(v.b)().t,n=Object(m.d)((function(e){return e.editor.project.project_type})),o=Object(m.d)((function(e){return e.editor.project.components})),a=Object(m.d)((function(e){return e.editor.renameFileModalShowing})),r=Object(m.d)((function(e){return e.editor.modals.renameFile})),i=r.name,s=r.ext,l=r.fileKey,u=o.map((function(e){return"".concat(e.name,".").concat(e.extension)})),d=function(){return e(Pe())},j=Object(c.useCallback)((function(e){e&&e.select()}),[]),p=function(){var o=document.getElementById("name").value,c=o.split(".")[0],a=o.split(".").slice(1).join(".");Nn(o,n,u,e,t,(function(){e(ye({key:l,extension:a,name:c})),d()}),"".concat(i,".").concat(s))};return Object(_.jsxs)(Cn.a,{isOpen:a,onRequestClose:d,className:"modal-content",overlayClassName:"modal-overlay",contentLabel:"Rename file",parentSelector:function(){return document.querySelector("#app")},appElement:document.getElementById("app")||void 0,children:[Object(_.jsxs)("div",{className:"modal-content__header",children:[Object(_.jsx)("h2",{className:"modal-content__heading",children:t("filePane.renameFileModal.heading")}),Object(_.jsx)(z,{className:"btn--tertiary",onClickHandler:d,ButtonIcon:C})]}),Object(_.jsxs)("div",{className:"modal-content__body",children:[Object(_.jsx)("label",{htmlFor:"name",children:t("filePane.renameFileModal.inputLabel")}),Object(_.jsxs)("div",{children:[Object(_.jsx)(Mn,{}),Object(_.jsx)("input",{type:"text",ref:j,name:"name",id:"name",defaultValue:"".concat(i,".").concat(s),onKeyDown:function(e){"Enter"===e.key&&p()}})]})]}),Object(_.jsxs)("div",{className:"modal-content__buttons",children:[Object(_.jsx)(z,{className:"btn--primary",buttonText:t("filePane.renameFileModal.save"),onClickHandler:p}),Object(_.jsx)(z,{className:"btn--secondary",buttonText:t("filePane.renameFileModal.cancel"),onClickHandler:d})]})]})}),En=function(e){var t=Object(m.c)();return Object(_.jsx)(z,Object(o.a)({className:"btn--primary btn--run",onClickHandler:function(){window.plausible&&window.plausible("Run button"),t(_e())}},e))},Tn=function(e){var t=Object(m.d)((function(e){return e.editor.codeRunStopped})),n=Object(m.d)((function(e){return e.editor.codeRunTriggered})),a=Object(m.c)(),r=Object(v.b)().t,i=Object(_.jsx)(z,Object(o.a)({className:"btn--stop",onClickHandler:function(){n&&a(ve()),a(we())}},e)),s=Object(c.useState)(i),l=Object(p.a)(s,2),u=l[0],d=l[1];return Object(c.useEffect)((function(){if(t){var e=Object(_.jsx)(z,{buttonText:r("runButton.stopping"),disabled:!0});setTimeout((function(){d(e)}),100)}}),[t,r]),u},kn=(n(534),function(){var e=Object(m.d)((function(e){return e.editor.codeRunTriggered})),t=Object(m.d)((function(e){return e.editor.drawTriggered})),n=Object(v.b)().t;return Object(_.jsx)("div",{className:"runner-controls",children:e||t?Object(_.jsx)(Tn,{buttonText:n("runButton.stop"),ButtonIcon:R}):Object(_.jsx)(En,{buttonText:n("runButton.run"),ButtonIcon:H})})}),Pn=function(){var e=Object(m.c)(),t=Object(v.b)().t,n=Object(m.d)((function(e){return e.auth.user})),o=Object(m.d)((function(e){return e.editor.notFoundModalShowing})),c=function(){return e(Te())},a=function(){var t=Object(x.a)(Object(g.a)().mark((function t(){return Object(g.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&e(ie("save")({project:nt,accessToken:n.access_token,autosave:!1})),c();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(Cn.a,{isOpen:o,onRequestClose:c,className:"modal-content",overlayClassName:"modal-overlay",contentLabel:t("project.notFoundModal.heading"),parentSelector:function(){return document.querySelector("#app")},appElement:document.getElementById("app")||void 0,children:[Object(_.jsxs)("div",{className:"modal-content__header",children:[Object(_.jsx)("h2",{className:"modal-content__heading",children:t("project.notFoundModal.heading")}),Object(_.jsx)(z,{className:"btn--tertiary",onClickHandler:c,ButtonIcon:C})]}),Object(_.jsx)("div",{className:"modal-content__body",children:Object(_.jsx)("p",{className:"modal-content__text",children:t("project.notFoundModal.text")})}),Object(_.jsxs)("div",{className:"modal-content__buttons",children:[Object(_.jsx)(z,{className:"btn--primary",buttonText:t("project.notFoundModal.newProject"),onClickHandler:a}),Object(_.jsx)("a",{className:"btn btn--secondary",href:"https://projects.raspberrypi.org",children:t("project.notFoundModal.projectsSiteLinkText")})]})]})})},Hn=function(e){var t=e.buttonText,n=e.className,o=e.triggerSave,c=Object(s.n)(),a=Object(m.d)((function(e){return e.editor.project})),r=Object(m.d)((function(e){return e.editor.modals.accessDenied}));return Object(_.jsx)(z,{buttonText:t,className:n,onClickHandler:function(e){e.preventDefault(),window.plausible("Login button"),r?localStorage.setItem("location","/projects/".concat(r.identifier)):(localStorage.setItem("location",c.pathname),localStorage.setItem(a.identifier||"project",JSON.stringify(a))),o&&localStorage.setItem("awaitingSave","true"),Lt.signinRedirect()}})},An=function(){var e=Object(m.c)(),t=Object(v.b)().t,n=Object(m.d)((function(e){return e.editor.accessDeniedNoAuthModalShowing})),o=function(){return e(Me())};return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(Cn.a,{isOpen:n,onRequestClose:o,className:"modal-content",overlayClassName:"modal-overlay",contentLabel:t("project.accessDeniedNoAuthModal.heading"),parentSelector:function(){return document.querySelector("#app")},appElement:document.getElementById("app")||void 0,children:[Object(_.jsxs)("div",{className:"modal-content__header",children:[Object(_.jsx)("h2",{className:"modal-content__heading",children:t("project.accessDeniedNoAuthModal.heading")}),Object(_.jsx)(z,{className:"btn--tertiary",onClickHandler:o,ButtonIcon:C})]}),Object(_.jsx)("div",{className:"modal-content__body",children:Object(_.jsx)("p",{className:"modal-content__text",children:t("project.accessDeniedNoAuthModal.text")})}),Object(_.jsxs)("div",{className:"modal-content__buttons",children:[Object(_.jsx)(Hn,{className:"btn--primary",buttonText:t("project.accessDeniedNoAuthModal.loginButtonText")}),Object(_.jsx)("a",{className:"btn btn--secondary",href:"https://projects.raspberrypi.org",children:t("project.accessDeniedNoAuthModal.projectsSiteLinkText")}),Object(_.jsx)(z,{buttonText:t("project.accessDeniedNoAuthModal.newProject"),className:"btn--tertiary",onClickHandler:o})]})]})})},In=function(){var e=Object(m.c)(),t=Object(v.b)().t,n=Object(m.d)((function(e){return e.auth.user})),o=Object(m.d)((function(e){return e.editor.accessDeniedWithAuthModalShowing})),c=function(){return e(Le())},a=function(){var t=Object(x.a)(Object(g.a)().mark((function t(){return Object(g.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(ie("save")({project:nt,accessToken:n.access_token,autosave:!1}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(Cn.a,{isOpen:o,onRequestClose:c,className:"modal-content",overlayClassName:"modal-overlay",contentLabel:t("project.notFoundModal.heading"),parentSelector:function(){return document.querySelector("#app")},appElement:document.getElementById("app")||void 0,children:[Object(_.jsxs)("div",{className:"modal-content__header",children:[Object(_.jsx)("h2",{className:"modal-content__heading",children:t("project.accessDeniedWithAuthModal.heading")}),Object(_.jsx)(z,{className:"btn--tertiary",onClickHandler:c,ButtonIcon:C})]}),Object(_.jsx)("div",{className:"modla-content__body",children:Object(_.jsx)("p",{className:"modal-content__text",children:t("project.accessDeniedWithAuthModal.text")})}),Object(_.jsxs)("div",{className:"modal-content__buttons",children:[Object(_.jsx)(z,{className:"btn--primary",buttonText:t("project.accessDeniedWithAuthModal.newProject"),onClickHandler:a}),Object(_.jsx)("a",{className:"btn btn--secondary",href:"https://projects.raspberrypi.org",children:t("project.accessDeniedWithAuthModal.projectsSiteLinkText")})]})]})})},Rn=function(){var e=Object(v.b)().t,t=Object(m.c)(),n=Object(m.d)((function(e){return e.editor.project.project_type})),o=Object(m.d)((function(e){return e.editor.project.components})).map((function(e){return"".concat(e.name,".").concat(e.extension)})),a=Object(m.d)((function(e){return e.editor.newFileModalShowing})),r=function(){return t(ke())},i=Object(c.useCallback)((function(e){e&&e.focus()}),[]),s=function(){var c=document.getElementById("name").value,a=c.split(".")[0],i=c.split(".").slice(1).join(".");Nn(c,n,o,t,e,(function(){t(ue({extension:i,name:a})),t(pe(c)),r()}))};return Object(_.jsxs)(Cn.a,{isOpen:a,onRequestClose:r,contentLabel:"New File",className:"modal-content",overlayClassName:"modal-overlay",parentSelector:function(){return document.querySelector("#app")},appElement:document.getElementById("app")||void 0,children:[Object(_.jsxs)("div",{className:"modal-content__header",children:[Object(_.jsx)("h2",{className:"modal-content__heading",children:e("filePane.newFileModal.heading")}),Object(_.jsx)(z,{className:"btn--tertiary",onClickHandler:r,ButtonIcon:C})]}),Object(_.jsxs)("div",{className:"modal-content__body",children:[Object(_.jsx)("label",{htmlFor:"name",children:e("filePane.newFileModal.inputLabel")}),Object(_.jsxs)("div",{children:[Object(_.jsx)(Mn,{}),Object(_.jsx)("input",{ref:i,type:"text",name:"name",id:"name",onKeyDown:function(e){"Enter"===e.key&&s()}})]})]}),Object(_.jsxs)("div",{className:"modal-content__buttons",children:[Object(_.jsx)(z,{className:"btn--primary",buttonText:e("filePane.newFileModal.save"),onClickHandler:s}),Object(_.jsx)(z,{className:"btn--secondary",buttonText:e("filePane.newFileModal.cancel"),onClickHandler:r})]})]})},Fn=n(56),Vn=n(319),Dn=(n(535),["children"]),Bn=function(){return Object(_.jsx)("svg",{width:"44",height:"56",viewBox:"0 0 44 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("rect",{x:"20",width:"4",height:"56",rx:"2",fill:"#616575"})})},Zn=function(e){var t=e.children,n=Object(Fn.a)(e,Dn);return Object(_.jsx)(Vn.a,Object(o.a)(Object(o.a)({enable:{top:!1,right:!0,bottom:!1,left:!1},handleComponent:{right:Object(_.jsx)(Bn,{})},handleWrapperClass:"resizable-with-handle__handle"},n),{},{children:t}))},zn=function(e){var t=Object(m.c)(),n=e.forWebComponent,o=Object(m.d)((function(e){return e.auth.user})),r=Object(m.d)((function(e){return e.editor.project})),i=Object(m.d)((function(e){return e.editor.modals})),s=Object(m.d)((function(e){return e.editor.newFileModalShowing})),l=Object(m.d)((function(e){return e.editor.renameFileModalShowing})),u=Object(m.d)((function(e){return e.editor.notFoundModalShowing})),d=Object(m.d)((function(e){return e.editor.accessDeniedNoAuthModalShowing})),j=Object(m.d)((function(e){return e.editor.accessDeniedWithAuthModalShowing})),b=Object(m.d)((function(e){return e.editor.justLoaded})),h=(Object(m.d)((function(e){return e.editor.hasShownSavePrompt})),Object(m.d)((function(e){return e.editor.openFiles}))),f=Object(m.d)((function(e){return e.editor.focussedFileIndex})),O=(Object(m.d)((function(e){return e.editor.saving})),Object(m.d)((function(e){return e.editor.lastSaveAutosave})),Object(c.useState)(r.components.length)),g=Object(p.a)(O,2),x=g[0],v=g[1],w=Object(c.useRef)(r.components.map(c.createRef));Object(c.useEffect)((function(){v(r.components.length),Array(r.components.length).fill().forEach((function(e,t){w.current[t]=w.current[t]||a.a.createRef()}))}),[r]),Object(c.useEffect)((function(){var e=h[f],t=r.components.findIndex((function(t){return"".concat(t.name,".").concat(t.extension)===e})),n=w.current[t];n&&n.current&&n.current.parentElement.scrollIntoView()}),[f,h,x]);var C=function(e){t(be(e))};return Object(c.useEffect)((function(){if(!n){if(o&&localStorage.getItem("awaitingSave"))return Xe(o,r)?(t(ie("save")({project:r,accessToken:o.access_token,autosave:!1})),console.log(r)):o&&r.identifier&&t(ie("remix")({project:r,accessToken:o.access_token})),console.log(r),void localStorage.removeItem("awaitingSave");var e=setTimeout((function(){Xe(o,r)&&r.identifier?t(ie("save")({project:r,accessToken:o.access_token,autosave:!0})):b?t(je()):localStorage.setItem(r.identifier||"project",JSON.stringify(r))}),2e3);return function(){return clearTimeout(e)}}}),[t,n,r,o]),Object(_.jsxs)("div",{className:"proj",children:[Object(_.jsxs)("div",{className:"proj-container".concat(n?" proj-container--wc":""),children:[Object(_.jsx)(Zn,{className:"proj-editor-container",minWidth:"15%",maxWidth:"75%",children:Object(_.jsxs)(at.d,{selectedIndex:f,onSelect:function(e){return C(e)},children:[Object(_.jsx)("div",{className:"react-tabs__tab-container",children:Object(_.jsx)(at.b,{children:h.map((function(e,t){return Object(_.jsx)(at.a,{children:Object(_.jsx)("span",{className:"react-tabs__tab-inner",children:"Code"})},t)}))})}),h.map((function(e,t){return Object(_.jsx)(at.c,{children:Object(_.jsx)(Ot,{fileName:e.split(".")[0],extension:e.split(".").slice(1).join(".")})},t)})),Object(_.jsx)(kn,{})]})}),Object(_.jsx)(wn,{})]}),s?Object(_.jsx)(Rn,{}):null,l&&i.renameFile?Object(_.jsx)(Ln,{}):null,u?Object(_.jsx)(Pn,{}):null,d?Object(_.jsx)(An,{}):null,j?Object(_.jsx)(In,{}):null]})},Wn=function(e){var t=Object(m.d)((function(e){return e.editor.loading})),n=Object(s.s)().identifier,o=e.embedded||!1,a=Object(m.d)((function(e){return e.auth.user})),r=a?a.access_token:null,i=Object(m.d)((function(e){return e.editor.project})),l=Object(s.p)(),u=Object(v.b)(),d=u.t,j=u.i18n;return ct(o),ot(n,r),Object(c.useEffect)((function(){"idle"===t&&i.identifier&&l("/".concat(j.language,"/projects/").concat(i.identifier)),"failed"===t&&l("/")}),[t,i,j.language,l]),"success"===t?Object(_.jsx)(zn,{}):"pending"===t?Object(_.jsx)("p",{children:d("project.loading")}):null},qn=(n(536),function(){var e=Object(m.d)((function(e){return e.editor.loading})),t=Object(s.s)().identifier,n=Object(v.b)().i18n;return ot(t,n.language),ct(!0),"success"===e?Object(_.jsxs)("div",{className:"embedded-viewer",children:[Object(_.jsx)(wn,{}),Object(_.jsx)(kn,{})]}):null}),Un=Object(m.b)()((function(){var e=Object(s.p)(),t=localStorage.getItem("location");return Object(_.jsx)(Ct.CallbackComponent,{userManager:Lt,successCallback:function(){localStorage.removeItem("location"),window.plausible("Login successful"),e(t)},errorCallback:function(n){return function(n){e(t),console.error(n)}(n)},children:Object(_.jsx)("div",{children:"Redirecting..."})})})),Kn=Object(m.b)()((function(){return Object(c.useEffect)((function(){console.log("*************************************"),console.log("silently renewing"),Object(Ct.processSilentRenew)()}),[]),null})),Gn=function(){var e=Object(s.s)().locale,t=Object(v.b)().i18n,n=Object(s.n)(),o=Object(s.p)();return Object(c.useEffect)((function(){if(!t.options.locales.includes(e)){var c=new RegExp("^/".concat(e));o(n.pathname.replace(c,"/".concat(t.language)))}}),[e,t,n,o]),Object(_.jsx)(s.b,{})},Yn=["/null/projects/:identifier","/projects/:identifier"],Jn=["/","/projects"],Xn=function(){var e=Object(s.s)().identifier;return Object(_.jsx)(s.a,{replace:!0,to:"/en/projects/".concat(e)})},Qn=d.b(s.e),$n=function(){return Object(_.jsxs)(Qn,{children:[Object(_.jsx)(s.c,{path:"/auth/callback",element:Object(_.jsx)(Un,{})}),Object(_.jsx)(s.c,{path:"/auth/silent_renew",element:Object(_.jsx)(Kn,{})}),Object(_.jsxs)(s.c,{path:":locale",element:Object(_.jsx)(Gn,{}),children:[Object(_.jsx)(s.c,{index:!0,element:Object(_.jsx)(Wn,{})}),Object(_.jsx)(s.c,{path:"projects/:identifier",element:Object(_.jsx)(Wn,{})}),Object(_.jsx)(s.c,{path:"embed/viewer/:identifier",element:Object(_.jsx)(qn,{})})]}),Object(_.jsx)(s.c,{path:"/embedded/projects/:identifier",element:Object(_.jsx)(Wn,{embedded:!0})}),Yn.map((function(e){return Object(_.jsx)(s.c,{path:e,element:Object(_.jsx)(Xn,{})},e)})),Jn.map((function(e){return Object(_.jsx)(s.c,{path:e,element:Object(_.jsx)(s.a,{replace:!0,to:"/en".concat(e)})},e)}))]})},eo=(n(537),function(){var e=Object(v.b)().t;return Object(_.jsx)("footer",{className:"editor-footer",children:Object(_.jsxs)("span",{className:"editor-footer__name",children:[e("footer.charityNameAndNumber")," & ide4school"]})})}),to=function(e){var t=e.closeToast;return Object(_.jsx)(z,{className:"btn btn--tertiary",onClickHandler:t,ButtonIcon:function(){return Object(_.jsx)(C,{scaleFactor:.75})}})};var no=function(){var e=Object(m.d)((function(e){return e.editor.isEmbedded})),t=Object(b.a)(["theme","fontSize"]),n=Object(p.a)(t,1)[0],o=window.matchMedia("(prefers-color-scheme:dark)").matches?"dark":"light";return Object(_.jsx)("div",{id:"app",className:"--".concat(n.theme||o),children:Object(_.jsxs)(O.Provider,{value:{theme:n.theme||o,fontSize:n.fontSize||"small"},children:[Object(_.jsx)(f.a,{enableMultiContainer:!0,containerId:"top-center",position:"top-center",className:"toast--top-center",closeButton:to}),Object(_.jsxs)(h.a,{basename:Object({NODE_ENV:"production",PUBLIC_URL:"http://localhost:80",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHENTICATION_CLIENT_ID:"editor-dev",REACT_APP_AUTHENTICATION_URL:"http://localhost:9001",REACT_APP_LOGIN_ENABLED:"true",REACT_APP_API_ENDPOINT:"http://localhost:3009",REACT_APP_GOOGLE_TAG_MANAGER_ID:"",REACT_APP_PLAUSIBLE_DATA_DOMAIN:"",REACT_APP_PLAUSIBLE_SOURCE:"",REACT_APP_SENTRY_DSN:"",REACT_APP_SENTRY_ENV:"local"}).REACT_APP_BASE_URL,children:[e?null:Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(Qe,{})}),Object(_.jsx)($n,{}),e?null:Object(_.jsx)(eo,{})]}),Object(_.jsx)(f.a,{enableMultiContainer:!0,containerId:"bottom-center",position:"bottom-center",className:"toast--bottom-center"})]})})},oo=n(182),co=n(294),ao=n(67),ro=n(563),io=n(314),so=new(n(559).a)({typePolicies:{Project:{keyFields:["id"]},Query:{fields:{projects:{keyArgs:["userId"],read:function(e,t){var n=t.canRead;if(e){var c=e.edges.filter((function(e){return n(e.node)}));return Object(o.a)(Object(o.a)({},e),{},{edges:c})}},merge:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{edges:[],pageInfo:{hasPreviousPage:!1,hasNextPage:!1}},c=arguments.length>1?arguments[1]:void 0,a=null===c||void 0===c||null===(e=c.pageInfo)||void 0===e?void 0:e.startCursor,r=null===c||void 0===c||null===(t=c.pageInfo)||void 0===t?void 0:t.endCursor,i=[],s=[];if(a){var l=n.edges.findIndex((function(e){return e.cursor===a}));i=l>-1?n.edges.slice(0,l):n.edges}if(r){var u=n.edges.findIndex((function(e){return e.cursor===r}));s=u>-1?n.edges.slice(u+1):[]}var d=[].concat(Object(Pt.a)(i),Object(Pt.a)(c.edges),Object(Pt.a)(s));return Object(o.a)(Object(o.a)({},c),{},{edges:d})}}}}}});var lo=so,uo=n(556),jo=Object(oo.a)({uri:"http://localhost:3009/graphql"}),po=Object(io.a)((function(e,t){var n=t.headers,c=Tt.getState().auth.user;return{headers:Object(o.a)(Object(o.a)({},n),{},{Authorization:c?c.access_token:""})}})),bo=new co.a({link:ao.a.from([new i.SentryLink,po,jo]),cache:lo});"container"in document.documentElement.style||n.e(3).then(n.t.bind(null,572,7));var ho=document.getElementById("root");Object(r.createRoot)(ho).render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(uo.a,{children:Object(_.jsx)(ro.a,{client:bo,children:Object(_.jsx)(m.a,{store:Tt,children:Object(_.jsx)(Ct.OidcProvider,{store:Tt,userManager:Lt,children:Object(_.jsx)(no,{})})})})})}))}},[[538,1,2]]]);
//# sourceMappingURL=main.909f7251.chunk.js.map